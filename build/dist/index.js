!function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){(function(n){(function(){!function(t,n){"object"==typeof r&&void 0!==e?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).taquitoHttpUtils={})}(this,(function(e){"use strict";var r;e.STATUS_CODE=void 0,(r=e.STATUS_CODE||(e.STATUS_CODE={}))[r.CONTINUE=100]="CONTINUE",r[r.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",r[r.PROCESSING=102]="PROCESSING",r[r.OK=200]="OK",r[r.CREATED=201]="CREATED",r[r.ACCEPTED=202]="ACCEPTED",r[r.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",r[r.NO_CONTENT=204]="NO_CONTENT",r[r.RESET_CONTENT=205]="RESET_CONTENT",r[r.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",r[r.MULTI_STATUS=207]="MULTI_STATUS",r[r.ALREADY_REPORTED=208]="ALREADY_REPORTED",r[r.IM_USED=226]="IM_USED",r[r.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",r[r.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",r[r.FOUND=302]="FOUND",r[r.SEE_OTHER=303]="SEE_OTHER",r[r.NOT_MODIFIED=304]="NOT_MODIFIED",r[r.USE_PROXY=305]="USE_PROXY",r[r.SWITCH_PROXY=306]="SWITCH_PROXY",r[r.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",r[r.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",r[r.BAD_REQUEST=400]="BAD_REQUEST",r[r.UNAUTHORIZED=401]="UNAUTHORIZED",r[r.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",r[r.FORBIDDEN=403]="FORBIDDEN",r[r.NOT_FOUND=404]="NOT_FOUND",r[r.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",r[r.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",r[r.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",r[r.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",r[r.CONFLICT=409]="CONFLICT",r[r.GONE=410]="GONE",r[r.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",r[r.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",r[r.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",r[r.URI_TOO_LONG=414]="URI_TOO_LONG",r[r.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",r[r.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",r[r.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",r[r.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",r[r.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",r[r.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",r[r.LOCKED=423]="LOCKED",r[r.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",r[r.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",r[r.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",r[r.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",r[r.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",r[r.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",r[r.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",r[r.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",r[r.BAD_GATEWAY=502]="BAD_GATEWAY",r[r.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",r[r.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",r[r.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",r[r.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",r[r.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",r[r.LOOP_DETECTED=508]="LOOP_DETECTED",r[r.NOT_EXTENDED=510]="NOT_EXTENDED",r[r.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED";var i=void 0!==n&&null!=n.versions&&null!=n.versions.node?t("xhr2-cookies").XMLHttpRequest:XMLHttpRequest,o=function(t,e,r,n,i){this.message=t,this.status=e,this.statusText=r,this.body=n,this.url=i,this.name="HttpResponse"},s=function(t,e){this.url=t,this.innerEvent=e,this.name="HttpRequestFailed",this.message="Request to "+t+" failed"},a=function(){function t(){}return t.prototype.serialize=function(t){if(!t)return"";var e=[],r=function(r){if(t.hasOwnProperty(r)&&void 0!==t[r]){var n="function"==typeof t[r].toJSON?t[r].toJSON():t[r];if(null===n)return e.push(encodeURIComponent(r)),"continue";if(Array.isArray(n))return n.forEach((function(t){e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))})),"continue";e.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}};for(var n in t)r(n);var i=e.join("&");return i?"?"+i:""},t.prototype.createXHR=function(){return new i},t.prototype.createRequest=function(t,e){var r=this,n=t.url,i=t.method,a=t.timeout,u=t.query,c=t.headers,l=void 0===c?{}:c,f=t.json,p=void 0===f||f,h=t.mimeType,d=void 0===h?void 0:h;return new Promise((function(t,c){var f=r.createXHR();for(var h in f.open(i||"GET",""+n+r.serialize(u)),l["Content-Type"]||f.setRequestHeader("Content-Type","application/json"),d&&f.overrideMimeType(""+d),l)f.setRequestHeader(h,l[h]);if(f.timeout=a||3e4,f.onload=function(){if(this.status>=200&&this.status<300)if(p)try{t(JSON.parse(f.response))}catch(t){c(new Error("Unable to parse response: "+f.response))}else t(f.response);else c(new o("Http error response: ("+this.status+") "+f.response,this.status,f.statusText,f.response,n))},f.ontimeout=function(){c(new Error("Request timed out after: "+f.timeout+"ms"))},f.onerror=function(t){c(new s(n,t))},e){var b=JSON.stringify(e);f.send(b)}else f.send()}))},t}();e.HttpBackend=a,e.HttpRequestFailed=s,e.HttpResponseError=o,e.VERSION={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this)}).call(this,t("_process"))},{_process:104,"xhr2-cookies":359}],2:[function(t,e,r){!function(t,n){"object"==typeof r&&void 0!==e?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).taquitoMichelCodec={})}(this,(function(t){"use strict";var e=Symbol("source_reference"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function u(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var c,l=function(t){function e(r,n,i){var o=t.call(this,i)||this;return o.src=r,o.idx=n,Object.setPrototypeOf(o,e.prototype),o}return n(e,t),e}(Error);!function(t){t[t.Comment=0]="Comment",t[t.Number=1]="Number",t[t.String=2]="String",t[t.Bytes=3]="Bytes",t[t.Ident=4]="Ident"}(c||(c={}));var f=new RegExp("\\s"),p=new RegExp("[:@%_A-Za-z]"),h=new RegExp("[@%_\\.A-Za-z0-9]"),d=new RegExp("[0-9]"),b=new RegExp("[0-9a-fA-F]");function y(t,e){var r,n,i,s,a;return void 0===e&&(e=!1),o(this,(function(o){switch(o.label){case 0:r=0,o.label=1;case 1:if(!(r<t.length))return[3,19];for(;r<t.length&&f.test(t[r]);)r++;if(r===t.length)return[2];if(n=t[r],i=r,!p.test(n))return[3,3];for(r++;r<t.length&&h.test(t[r]);)r++;return[4,{t:c.Ident,v:t.slice(i,r),first:i,last:r}];case 2:return o.sent(),[3,18];case 3:if(!(t.length-r>1&&"0x"===t.substr(r,2)))return[3,5];for(r+=2;r<t.length&&b.test(t[r]);)r++;if(0!=(r-i&1))throw new l(t,r,"Bytes literal length is expected to be power of two");return[4,{t:c.Bytes,v:t.slice(i,r),first:i,last:r}];case 4:return o.sent(),[3,18];case 5:if(!d.test(n)&&"-"!==n)return[3,7];for("-"===n&&r++,s=r;r<t.length&&d.test(t[r]);)r++;if(s===r)throw new l(t,r,"Number literal is too short");return[4,{t:c.Number,v:t.slice(i,r),first:i,last:r}];case 6:return o.sent(),[3,18];case 7:if('"'!==n)return[3,9];for(r++,a=!1;r<t.length&&(a||'"'!==t[r]);r++)a=!a&&"\\"===t[r];if(r===t.length)throw new l(t,r,"Unterminated string literal");return r++,[4,{t:c.String,v:t.slice(i,r),first:i,last:r}];case 8:return o.sent(),[3,18];case 9:if("#"!==n)return[3,12];for(r++;r<t.length&&"\n"!==t[r];)r++;return e?[4,{t:c.Comment,v:t.slice(i,r),first:i,last:r}]:[3,11];case 10:o.sent(),o.label=11;case 11:return[3,18];case 12:if(!(t.length-r>1&&"/*"===t.substr(r,2)))return[3,15];for(r+=2;r<t.length&&!(t.length-r>1&&"*/"===t.substr(r,2));)r++;if(r===t.length)throw new l(t,r,"Unterminated C style comment");return r+=2,e?[4,{t:c.Comment,v:t.slice(i,r),first:i,last:r}]:[3,14];case 13:o.sent(),o.label=14;case 14:return[3,18];case 15:return"("!==n&&")"!==n&&"{"!==n&&"}"!==n&&";"!==n?[3,17]:(r++,[4,{t:n,v:n,first:i,last:r}]);case 16:return o.sent(),[3,18];case 17:throw new l(t,r,"Invalid character at offset "+r+": `"+n+"'");case 18:return[3,1];case 19:return[2]}}))}var v,m=Symbol("ref_contract");t.Protocol=void 0,(v=t.Protocol||(t.Protocol={})).Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",v.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",v.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",v.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",v.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",v.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",v.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",v.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV";var g=t.Protocol.PsDELPH1,_=function(t){function e(r,n){var i=t.call(this,n)||this;return i.prim=r,Object.setPrototypeOf(i,e.prototype),i}return n(e,t),e}(Error);function w(t,e){var r,n;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new _(t,"macro "+t.prim+" expects "+e+" arguments, was given "+(null===(n=t.args)||void 0===n?void 0:n.length))}function E(t){if(void 0===t.annots)return!0;throw new _(t,"unexpected annotation on macro "+t.prim+": "+t.annots)}function O(t,e){if("int"in e)return!0;throw new _(t,"macro "+t.prim+" expects int argument")}function S(t,e,r,n){var i,o=0,s=0,u=[null,null];if(o===e.length)throw new _(t,"unexpected end: "+t.prim);var c,l=e[o++];switch(l){case"P":var f=S(t,e.slice(o),r.slice(s),n);i=h=f.r,o+=d=f.n,s+=b=f.an;break;case"A":s!==r.length&&(u[0]=r[s++]);break;default:throw new _(t,t.prim+": unexpected character: "+l)}if(o===e.length)throw new _(t,"unexpected end: "+t.prim);switch(l=e[o++]){case"P":var p=S(t,e.slice(o),r.slice(s),n),h=p.r,d=p.n,b=p.an;c=h.map((function(t){var e=a(t,2);return[e[0]+1,e[1]]})),o+=d,s+=b;break;case"I":s!==r.length&&(u[1]=r[s++]);break;default:throw new _(t,t.prim+": unexpected character: "+l)}return{r:n(i,c,[0,u]),n:o,an:s}}function x(t,e,r,n){var i=e[0];switch(i){case"A":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},x(t,e.slice(1),[],n)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:u(["%@","%@"],a(r))}]:n.a;case"D":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},x(t,e.slice(1),[],n)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:u(["%@","%@"],a(r))}]:n.d;default:throw new _(t,t.prim+": unexpected character: "+i)}}function A(t){var e,r,n=[],i=[];if(void 0!==t)try{for(var o=s(t),a=o.next();!a.done;a=o.next()){var u=a.value;(0!==u.length&&"%"===u[0]?n:i).push(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return{fields:n,rest:i}}function P(t){var e=t.prim,r=t.annots,n=t.args;return i(i({prim:e},r&&{annots:r}),n&&{args:n})}var T=/^P[PAI]{3,}R$/,I=/^UNP[PAI]{2,}R$/,R=/^C[AD]{2,}R$/,j=/^SET_C[AD]+R$/,N=/^MAP_C[AD]+R$/,k=/^DI{2,}P$/,C=/^DU+P$/;var M=function(t){function e(r,n){var i=t.call(this,n)||this;return i.token=r,Object.setPrototypeOf(i,e.prototype),i}return n(e,t),e}(Error),L=function(t){function e(r,n){var i=t.call(this,n)||this;return i.node=r,Object.setPrototypeOf(i,e.prototype),i}return n(e,t),e}(Error),D=new M(null,"Unexpected EOF");function U(t){return t.t===c.Ident&&("@"===t.v[0]||"%"===t.v[0]||":"===t.v[0])}var B=new RegExp("^-?[0-9]+$"),F=new RegExp("^([0-9a-fA-F]{2})*$"),V=function(){function r(t){this.opt=t}return r.prototype.expand=function(r){var n,o;if(void 0===(null===(n=this.opt)||void 0===n?void 0:n.expandMacros)||(null===(o=this.opt)||void 0===o?void 0:o.expandMacros)){var s=function(e,r){var n=(null==r?void 0:r.protocol)||g;function i(t){return void 0!==t?[{prim:"RENAME",annots:t}]:[]}switch(e.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(w(e,0))return[{prim:"COMPARE"},P({prim:e.prim.slice(3),annots:e.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(w(e,2))return[{prim:e.prim.slice(2)},P({prim:"IF",annots:e.annots,args:e.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(w(e,2))return[{prim:"COMPARE"},{prim:e.prim.slice(5)},P({prim:"IF",annots:e.annots,args:e.args})];break;case"FAIL":if(w(e,0)&&E(e))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(w(e,0)&&E(e))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(w(e,0)&&E(e))return[{prim:e.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(w(e,0)&&E(e))return[[{prim:"COMPARE"},{prim:e.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(w(e,0)&&E(e))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(w(e,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],i(e.annots)]}];break;case"ASSERT_LEFT":if(w(e,0))return[{prim:"IF_LEFT",args:[i(e.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(w(e,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],i(e.annots)]}];break;case"IF_SOME":if(w(e,2))return[P({prim:"IF_NONE",annots:e.annots,args:[e.args[1],e.args[0]]})];break;case"IF_RIGHT":if(w(e,2))return[P({prim:"IF_LEFT",annots:e.annots,args:[e.args[1],e.args[0]]})];break;case"CAR":case"CDR":if(void 0===e.args)return e;if(w(e,1)&&O(e,e.args[0])){var o=parseInt(e.args[0].int,10);return P({prim:"GET",args:[{int:"CAR"===e.prim?String(2*o+1):String(2*o)}],annots:e.annots})}}if(T.test(e.prim)&&w(e,0)){var s=A(e.annots),c=s.fields,l=s.rest,f=S(e,e.prim.slice(1),c,(function(t,e,r){return u(u(u([],a(t||[])),a(e||[])),[r])})).r;return f.map((function(t,e){var r=a(t,2),n=r[0],i=u(u([],a(function(t,e){for(var r=t.length;r>0&&t[r-1]===e;)r--;return t.slice(0,r)}(r[1],null).map((function(t){return null===t?"%":t})))),a(0===n&&e===f.length-1?l:[])),o=P({prim:"PAIR",annots:0!==i.length?i:void 0});return 0===n?o:{prim:"DIP",args:1===n?[[o]]:[{int:String(n)},[o]]}}))}if(I.test(e.prim))if(n===t.Protocol.PtEdo2Zk||n===t.Protocol.PsFLorena||n===t.Protocol.PtGRANADs){if("UNPAIR"===e.prim)return e;if(w(e,0))return S(e,e.prim.slice(3),[],(function(t,e,r){return u(u([r],a(e||[])),a(t||[]))})).r.map((function(t){var e=a(t,1)[0],r=P({prim:"UNPAIR"});return 0===e?r:{prim:"DIP",args:1===e?[[r]]:[{int:String(e)},[r]]}}))}else if(w(e,0))return S(e,e.prim.slice(3),e.annots||[],(function(t,e,r){return u(u([r],a(e||[])),a(t||[]))})).r.map((function(t){var e=a(t,2),r=e[0],n=e[1],i=[{prim:"DUP"},P({prim:"CAR",annots:null!==n[0]?[n[0]]:void 0}),{prim:"DIP",args:[[P({prim:"CDR",annots:null!==n[1]?[n[1]]:void 0})]]}];return 0===r?i:{prim:"DIP",args:1===r?[[i]]:[{int:String(r)},[i]]}}));if(R.test(e.prim)&&w(e,0)){var p=u([],a(e.prim.slice(1,e.prim.length-1)));return p.map((function(t,r){var n=r===p.length-1?e.annots:void 0;switch(t){case"A":return P({prim:"CAR",annots:n});case"D":return P({prim:"CDR",annots:n});default:throw new _(e,"unexpected character: "+t)}}))}if(j.test(e.prim)&&w(e,0)){var h=A(e.annots),d=(c=h.fields,h.rest);if(c.length>1)throw new _(e,"unexpected annotation on macro "+e.prim+": "+c);var b=0!==c.length?{a:[{prim:"DUP"},{prim:"CAR",annots:c},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[c[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:c},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",c[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return x(e,e.prim.slice(5,e.prim.length-1),d,b)}if(N.test(e.prim)&&w(e,1)){if((c=A(e.annots).fields).length>1)throw new _(e,"unexpected annotation on macro "+e.prim+": "+c);return b={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[P({prim:"CAR",annots:0!==c.length?["@"+c[0].slice(1)]:void 0}),e.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[0!==c.length?c[0]:"%","%@"]}],d:[{prim:"DUP"},P({prim:"CDR",annots:0!==c.length?["@"+c[0].slice(1)]:void 0}),e.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",0!==c.length?c[0]:"%"]}]},x(e,e.prim.slice(5,e.prim.length-1),[],b)}if(k.test(e.prim)&&w(e,1)){for(o=0;"I"===e.prim[1+o];)o++;return P({prim:"DIP",args:[{int:String(o)},e.args[0]]})}if(C.test(e.prim)){for(o=0;"U"===e.prim[1+o];)o++;if(n!==t.Protocol.PtEdo2Zk&&n!==t.Protocol.PsFLorena&&n!==t.Protocol.PtGRANADs){if(1===o){if(void 0===e.args)return e;w(e,1)&&O(e,e.args[0])&&(o=parseInt(e.args[0].int,10))}else w(e,0);return 1===o?[P({prim:"DUP",annots:e.annots})]:2===o?[{prim:"DIP",args:[[P({prim:"DUP",annots:e.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(o-1)},[P({prim:"DUP",annots:e.annots})]]},{prim:"DIG",args:[{int:String(o)}]}]}if(1===o)return e;if(w(e,0))return P({prim:"DUP",args:[{int:String(o)}],annots:e.annots})}return e}(r,this.opt);return s!==r&&(s[e]=i(i({},r[e]||{first:0,last:0}),{macro:r})),s}return r},r.prototype.parseListExpr=function(t,r){var n,i,o,s={first:r.first,last:r.last},a="("===r.t;if(a){if((o=t.next()).done)throw D;s.last=o.value.last}else o={value:r};if(o.value.t!==c.Ident)throw new M(o.value,"not an identifier: "+o.value.v);for(var u=((n={prim:o.value.v})[e]=s,n);;){var l=t.next();if(l.done){if(a)throw D;break}if(")"===l.value.t){if(!a)throw new M(l.value,"unexpected closing bracket");s.last=l.value.last;break}if(U(l.value))u.annots=u.annots||[],u.annots.push(l.value.v),s.last=l.value.last;else{u.args=u.args||[];var f=this.parseExpr(t,l.value);s.last=(null===(i=f[e])||void 0===i?void 0:i.last)||s.last,u.args.push(f)}}return this.expand(u)},r.prototype.parseArgs=function(t,r){for(var n,i,o={first:r.first,last:r.last},s=((n={prim:r.v})[e]=o,n);;){var a=t.next();if(a.done||"}"===a.value.t||";"===a.value.t)return[s,a];if(U(a.value))o.last=a.value.last,s.annots=s.annots||[],s.annots.push(a.value.v);else{var u=this.parseExpr(t,a.value);o.last=(null===(i=u[e])||void 0===i?void 0:i.last)||o.last,s.args=s.args||[],s.args.push(u)}}},r.prototype.parseSequenceExpr=function(t,r){var n,i,o={first:r.first,last:r.last},s=[];s[e]=o;for(var u="{"===r.t,l="{"===r.t?null:{value:r};;){if(null===l&&((l=t.next()).done||(o.last=l.value.last)),l.done){if(u)throw D;return s}if("}"===l.value.t){if(u)return s;throw new M(l.value,"unexpected closing bracket")}if(l.value.t===c.Ident){var f=a(this.parseArgs(t,l.value),2),p=f[0],h=f[1];o.last=(null===(n=p[e])||void 0===n?void 0:n.last)||o.last,s.push(this.expand(p)),l=h}else{var d=this.parseExpr(t,l.value);o.last=(null===(i=d[e])||void 0===i?void 0:i.last)||o.last,s.push(d),l=null}null===l&&((l=t.next()).done||(o.last=l.value.last)),l.done||";"!==l.value.t||(l=null)}},r.prototype.parseExpr=function(t,r){var n,i,o,s;switch(r.t){case c.Ident:return this.expand(((n={prim:r.v})[e]={first:r.first,last:r.last},n));case c.Number:return(i={int:r.v})[e]={first:r.first,last:r.last},i;case c.String:return(o={string:JSON.parse(r.v)})[e]={first:r.first,last:r.last},o;case c.Bytes:return(s={bytes:r.v.slice(2)})[e]={first:r.first,last:r.last},s;case"{":return this.parseSequenceExpr(t,r);default:return this.parseListExpr(t,r)}},r.prototype.parseSequence=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=y(t),r=e.next();return r.done?null:this.parseSequenceExpr(e,r.value)},r.prototype.parseList=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=y(t),r=e.next();return r.done?null:this.parseListExpr(e,r.value)},r.prototype.parseMichelineExpression=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=y(t),r=e.next();return r.done?null:this.parseExpr(e,r.value)},r.prototype.parseScript=function(t){return this.parseSequence(t)},r.prototype.parseData=function(t){return this.parseList(t)},r.prototype.parseJSON=function(t){var e,r,n,i,o,a;if("object"!=typeof t)throw new TypeError("object type was expected, got "+typeof t+" instead");if(Array.isArray(t)){var u=[];try{for(var c=s(t),l=c.next();!l.done;l=c.next()){var f=l.value;if(null===f||"object"!=typeof f)throw new L(f,"unexpected sequence element: "+f);u.push(this.parseJSON(f))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return u}if("prim"in t){var p=t;if("string"==typeof p.prim&&(void 0===p.annots||Array.isArray(p.annots))&&(void 0===p.args||Array.isArray(p.args))){u={prim:p.prim};if(void 0!==p.annots){try{for(var h=s(p.annots),d=h.next();!d.done;d=h.next()){if("string"!=typeof(v=d.value))throw new L(v,"string expected: "+v)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}u.annots=p.annots}if(void 0!==p.args){u.args=[];try{for(var b=s(p.args),y=b.next();!y.done;y=b.next()){var v;if(null===(v=y.value)||"object"!=typeof v)throw new L(v,"unexpected argument: "+v);u.args.push(this.parseJSON(v))}}catch(t){o={error:t}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}return this.expand(u)}throw new L(t,"malformed prim expression: "+t)}if("string"in t){if("string"==typeof t.string)return{string:t.string};throw new L(t,"malformed string literal: "+t)}if("int"in t){if("string"==typeof t.int&&B.test(t.int))return{int:t.int};throw new L(t,"malformed int literal: "+t)}if("bytes"in t){if("string"==typeof t.bytes&&F.test(t.bytes))return{bytes:t.bytes};throw new L(t,"malformed bytes literal: "+t)}throw new L(t,"unexpected object: "+t)},r}(),H=function(){function t(t,e){void 0===e&&(e=0),this.opt=t,this.lev=e}return t.prototype.indent=function(t){var e;void 0===t&&(t=0);var r="";if(void 0!==(null===(e=this.opt)||void 0===e?void 0:e.indent))for(var n=this.lev+t;n>0;n--)r+=this.opt.indent;return r},Object.defineProperty(t.prototype,"lf",{get:function(){var t;return(null===(t=this.opt)||void 0===t?void 0:t.newline)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lfsp",{get:function(){var t;return(null===(t=this.opt)||void 0===t?void 0:t.newline)||" "},enumerable:!1,configurable:!0}),t.prototype.down=function(e){return new t(this.opt,this.lev+e)},t}();function K(t){return"prim"in t&&(void 0!==t.annots&&0!==t.annots.length||void 0!==t.args&&0!==t.args.length)}function G(t){var e,r;if(void 0!==t.args)try{for(var n=s(t.args),i=n.next();!i.done;i=n.next()){var o=i.value;if(Array.isArray(o)||K(o))return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!1}function q(t,r,n){var i,o,a,u,c,l=null===(c=t[e])||void 0===c?void 0:c.macro;if(n&&l)return q(l,r,n);if(Array.isArray(t))return function(t,e,r){var n,i,o,a,u,c,l="{"+e.lf,f=t.length;try{for(var p=s(t),h=p.next();!h.done;h=p.next()){var d=h.value;if(l+=e.indent(1),"prim"in d){if(l+=d.prim,void 0!==d.annots)try{for(var b=(o=void 0,s(d.annots)),y=b.next();!y.done;y=b.next()){l+=" "+(_=y.value)}}catch(t){o={error:t}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}if(void 0!==d.args){var v=G(d);try{for(var m=(u=void 0,s(d.args)),g=m.next();!g.done;g=m.next()){var _=g.value;l+=v?e.lfsp+e.indent(2)+q(_,e.down(2),r):" "+q(_,e,r)}}catch(t){u={error:t}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}}}else l+=q(d,e.down(1),r);l+=f>1?";"+e.lfsp:e.lf,f--}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return l+e.indent()+"}"}(t,r,n);if("string"in t)return JSON.stringify(t.string);if("int"in t)return t.int;if("bytes"in t)return"0x"+t.bytes;if(!(void 0!==t.annots&&0!==t.annots.length||void 0!==t.args&&0!==t.args.length))return t.prim;var f="("+t.prim;if(void 0!==t.annots)try{for(var p=s(t.annots),h=p.next();!h.done;h=p.next()){f+=" "+(v=h.value)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(void 0!==t.args){var d=G(t);try{for(var b=s(t.args),y=b.next();!y.done;y=b.next()){var v=y.value;f+=d?r.lfsp+r.indent(1)+q(v,r.down(1),n):" "+q(v,r,n)}}catch(t){a={error:t}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(a)throw a.error}}}return f+")"}function z(t,e,r){if(void 0===r&&(r=!1),"object"!=typeof t)throw new TypeError("object type was expected, got "+typeof t+" instead");return q(t,new H(e),r)}var W=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Y=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function J(t){var e,r,n=(t.length+9)%64,i=0===n?0:64-n;if(t.length>268435455)throw new Error("sha256: message length is too big: "+t.length);var o=t.length<<3,c=u(u(u(u([],a(t)),[128]),a(new Array(i).fill(0))),[0,0,0,0,o>>24&255,o>>16&255,o>>8&255,255&o]);function l(t,e){return t>>>e|t<<32-e}for(var f=u([],a(W)),p=new Array(64),h=new Array(8),d=0;d<c.length;d+=64){for(var b=d,y=0;y<16;)p[y]=c[b]<<24|c[b+1]<<16|c[b+2]<<8|c[b+3],b+=4,y++;for(;y<64;){var v=l(p[y-15],7)^l(p[y-15],18)^p[y-15]>>>3,m=l(p[y-2],17)^l(p[y-2],19)^p[y-2]>>>10;p[y]=(0|m)+p[y-7]+v+p[y-16]|0,y++}for(var g=0;g<8;g++)h[g]=f[g];for(var _=0;_<64;_++){var w=l(h[0],2)^l(h[0],13)^l(h[0],22),E=l(h[4],6)^l(h[4],11)^l(h[4],25),O=h[7]+E+(h[4]&h[5]^~h[4]&h[6])+Y[_]+p[_]|0,S=w+(h[0]&h[1]^h[0]&h[2]^h[1]&h[2])|0;h[7]=h[6],h[6]=h[5],h[5]=h[4],h[4]=h[3]+O|0,h[3]=h[2],h[2]=h[1],h[1]=h[0],h[0]=O+S|0}for(var x=0;x<8;x++)f[x]=f[x]+h[x]|0}var A=[];try{for(var P=s(f),T=P.next();!T.done;T=P.next()){var I=T.value;A.push(I>>24&255),A.push(I>>16&255),A.push(I>>8&255),A.push(255&I)}}catch(t){e={error:t}}finally{try{T&&!T.done&&(r=P.return)&&r.call(P)}finally{if(e)throw e.error}}return A}var X=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57],$=[0,1,2,3,4,5,6,7,8,16,17,18,19,20,21,22,23,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,48,49,50,51,52,53,54,55,56,57,58,60,61,62,63,64,65,66,67,68,69,70,71,72,73];function Q(t,e){var r=t.charCodeAt(e)-49;if(r>=X.length||-1===X[r])throw new Error("Base58 decoding error: unexpected character at position "+e+": "+t[e]);return X[r]}function Z(t){var e=function(t){for(var e=[],r=0;r<t.length&&0===Q(t,r);)r++;for(var n=r;r<t.length;)for(var i=Q(t,r++),o=0;0!==i||o<e.length;){var s=58*(e[o]||0)+i;e[o++]=s%256,i=Math.floor(s/256)}for(;n-- >0;)e.push(0);return e.reverse()}(t);if(e.length<4)throw new Error("Base58Check decoding error: data is too short "+e.length);var r=e.slice(0,e.length-4),n=e.slice(e.length-4),i=J(J(r));if(n[0]!==i[0]||n[1]!==i[1]||n[2]!==i[2]||n[3]!==i[3])throw new Error("Base58Check decoding error: invalid checksum");return r}function tt(t){var e=J(J(t));return function(t){for(var e=[],r=0;r<t.length&&0===t[r];)r++;for(var n=r;r<t.length;)for(var i=t[r++],o=0;0!==i||o<e.length;){var s=256*(e[o]||0)+i;e[o++]=s%58,i=Math.floor(s/58)}for(;n-- >0;)e.push(0);return e.reverse(),String.fromCharCode.apply(String,u([],a(e.map((function(t){return $[t]+49})))))}(u(u([],a(t)),a(e.slice(0,4))))}var et=function(t){function e(r,n){var i=t.call(this,n)||this;return i.val=r,Object.setPrototypeOf(i,e.prototype),i}return n(e,t),e}(Error);var rt=function(t){function e(r,n,i){var o=t.call(this,r,i)||this;return void 0!==n&&(o.data=n),Object.setPrototypeOf(o,e.prototype),o}return n(e,t),e}(et),nt=function(){function t(t){if(this.neg=!1,this.buf=[],void 0!==t)if("string"==typeof t)for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(0===e&&45===r)this.neg=!0;else{if(r<48||r>57)throw new Error("unexpected character in integer constant: "+t[e]);this.append(r-48)}}else t<0?(this.neg=!0,this.append(-t)):this.append(t)}return t.prototype.append=function(t){for(var e=0;0!==t||e<this.buf.length;){var r=10*(this.buf[e]||0)+t;this.buf[e++]=r%256,t=Math.floor(r/256)}},t.prototype.cmp=function(t){if(this.neg!==t.neg)return(t.neg?1:0)-(this.neg?1:0);var e=0;if(this.buf.length!==t.buf.length)e=this.buf.length<t.buf.length?-1:1;else if(0!==this.buf.length){for(var r=t.buf.length-1;r>=0&&this.buf[r]===t.buf[r];)r--;e=r<0?0:this.buf[r]<t.buf[r]?-1:1}return this.neg?0===e?0:-e:e},Object.defineProperty(t.prototype,"sign",{get:function(){return 0===this.buf.length?0:this.neg?-1:1},enumerable:!1,configurable:!0}),t}();function it(t){for(var e=[],r=0;r<t.length;r+=2){var n=parseInt(t.slice(r,r+2),16);if(Number.isNaN(n))return null;e.push(n)}return e}function ot(t,e){if(t.length!==e.length)return t.length<e.length?-1:1;if(0!==t.length){for(var r=0;r<t.length&&t[r]===e[r];)r++;return r===t.length?0:t[r]<e[r]?-1:1}return 0}function st(t){try{return new nt(t),!0}catch(t){return!1}}function at(t){try{return new nt(t).sign>=0}catch(t){return!1}}var ut=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z\.%@]*)?)$/;function ct(t,e){var r,n,i,o,a;if(Array.isArray(t))return{};if(void 0!==t.annots)try{for(var u=s(t.annots),c=u.next();!c.done;c=u.next()){var l=c.value;if(0!==l.length){if(!ut.test(l)||!(null==e?void 0:e.specialVar)&&("@%"===l||"@%%"===l)||!(null==e?void 0:e.specialFields)&&"%@"===l)throw new et(t,t.prim+": unexpected annotation: "+l);switch(l[0]){case"%":((null==e?void 0:e.emptyFields)||l.length>1)&&(i=i||[]).push(l);break;case":":l.length>1&&(o=o||[]).push(l);break;case"@":((null==e?void 0:e.emptyVar)||l.length>1)&&(a=a||[]).push(l)}}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return{f:i,t:o,v:a}}var lt={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]]};function ft(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Z(t);try{for(var u=s(n),c=u.next();!c.done;c=u.next()){var l=c.value,f=a(lt[l],2),p=f[0],h=f[1];if(o.length===p+h.length){for(var d=0;d<h.length&&o[d]===h[d];)d++;if(d===h.length)return[l,o.slice(h.length)]}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return null}function pt(t,e){var r=a(lt[t],2),n=r[0],i=r[1];if(e.length!==n)throw new Error("incorrect data length for "+t+": "+e.length);return tt(u(u([],a(i)),a(e)))}function ht(t,e){var r=e,n=Array.isArray(r)?r:r.args;return 2===n.length?"pair"===t?{prim:"pair",args:n}:{prim:"Pair",args:n}:i(i({},Array.isArray(r)?{prim:t}:r),{args:[n[0],{prim:t,args:n.slice(1)}]})}function dt(t){return Array.isArray(t)||"pair"===t.prim}function bt(t){return Array.isArray(t)||"prim"in t&&"Pair"===t.prim}var yt=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function vt(t){if("string"in t){if(at(t.string))return new Date(parseInt(t.string,10));if(yt.test(t.string)){var e=new Date(t.string);if(!Number.isNaN(e.valueOf))return e}}else if(at(t.int))return new Date(parseInt(t.int,10));return null}function mt(t){return t.map((function(t){return(t>>4&15).toString(16)+(15&t).toString(16)})).join("")}var gt={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0},_t=Object.assign({},gt,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0}),wt={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0},Et=Object.assign({},wt,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_state:!0,ticket:!0}),Ot=function(t){function e(r,n){var i=t.call(this,r,n)||this;return i.val=r,Object.setPrototypeOf(i,e.prototype),i}return n(e,t),e}(et);function St(t){return"prim"in t}function xt(t){if(St(t))return!0;throw new Ot(t,"prim expression expected")}function At(t){if(Array.isArray(t))return!0;throw new Ot(t,"sequence expression expected")}function Pt(t){if(function(t){return Array.isArray(t)||"prim"in t}(t))return!0;throw new Ot(t,"prim or sequence expression expected")}function Tt(t){if("-"===t.int[0])throw new Ot(t,"natural number expected")}function It(t){if("int"in t)return!0;throw new Ot(t,"int literal expected")}function Rt(t,e){var r;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new Ot(t,e+" arguments expected")}function jt(t){var e,r,n,i;if(Array.isArray(t)){try{for(var o=s(t),a=o.next();!a.done;a=o.next()){var u=a.value;if(!Array.isArray(u)&&!St(u))throw new Ot(t,"sequence or prim expected");jt(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!0}if(xt(t)){if(Object.prototype.hasOwnProperty.call(gt,t.prim))return Rt(t,0),!0;switch(t.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":void 0!==t.args&&Rt(t,1)&&It(t.args[0])&&Tt(t.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":Rt(t,1)&&It(t.args[0])&&Tt(t.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":Rt(t,1)&&Ut(t.args[0]);break;case"UNPACK":Rt(t,1)&&kt(t.args[0]);break;case"CONTRACT":Rt(t,1)&&Lt(t.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":Rt(t,2)&&(At(t.args[0])&&jt(t.args[0]),At(t.args[1])&&jt(t.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":Rt(t,1)&&jt(t.args[0]);break;case"CREATE_CONTRACT":Rt(t,1)&&Vt(t.args[0]);break;case"DIP":if(2===(null===(n=t.args)||void 0===n?void 0:n.length))It(t.args[0])&&Tt(t.args[0]),At(t.args[1])&&jt(t.args[1]);else{if(1!==(null===(i=t.args)||void 0===i?void 0:i.length))throw new Ot(t,"1 or 2 arguments expected");At(t.args[0])&&jt(t.args[0])}break;case"PUSH":Rt(t,2)&&(Ct(t.args[0]),Ft(t.args[1]));break;case"EMPTY_SET":Rt(t,1)&&Nt(t.args[0]);break;case"EMPTY_MAP":Rt(t,2)&&(Nt(t.args[0]),Ut(t.args[1]));break;case"EMPTY_BIG_MAP":Rt(t,2)&&(Nt(t.args[0]),Dt(t.args[1]));break;case"LAMBDA":Rt(t,3)&&(Ut(t.args[0]),Ut(t.args[1]),At(t.args[2])&&jt(t.args[2]));break;default:throw new Ot(t,"instruction expected")}}return!0}function Nt(t){if(Pt(t))if(Array.isArray(t)||"pair"===t.prim||"or"===t.prim||"option"===t.prim)Bt(t,(function(t){return Nt(t)}));else if(!Object.prototype.hasOwnProperty.call(wt,t.prim))throw new Ot(t,t.prim+": type is not comparable");return!0}function kt(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim)throw new Ot(t,t.prim+": type can't be used inside PACK/UNPACK instructions");Bt(t,(function(t){return kt(t)}))}return!0}function Ct(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim||"contract"===t.prim)throw new Ot(t,t.prim+": type can't be pushed");Bt(t,(function(t){return Ct(t)}))}return!0}function Mt(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim)||"operation"===t.prim||"contract"===t.prim)throw new Ot(t,t.prim+": type can't be used as part of a storage");Bt(t,(function(t){return Mt(t)}))}return!0}function Lt(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim)||"operation"===t.prim)throw new Ot(t,t.prim+": type can't be used as part of a parameter");Bt(t,(function(t){return Lt(t)}))}return!0}function Dt(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim)throw new Ot(t,t.prim+": type can't be used inside a big_map");Bt(t,(function(t){return Dt(t)}))}return!0}function Ut(t){if(Pt(t)&&St(t)){if(!Object.prototype.hasOwnProperty.call(Et,t.prim))throw new Ot(t,"type expected");Bt(t,(function(t){return Ut(t)}))}return!0}function Bt(t,e){if(Array.isArray(t)||"pair"===t.prim){var r=Array.isArray(t)?t:t.args;if(void 0===r||r.length<2)throw new Ot(t,"at least 2 arguments expected");return r.forEach((function(t){Pt(t)&&e(t)})),!0}switch(t.prim){case"option":case"list":Rt(t,1)&&Pt(t.args[0])&&e(t.args[0]);break;case"contract":Rt(t,1)&&Lt(t.args[0]);break;case"or":Rt(t,2)&&Pt(t.args[0])&&Pt(t.args[1])&&(e(t.args[0]),e(t.args[1]));break;case"lambda":Rt(t,2)&&(Ut(t.args[0]),Ut(t.args[1]));break;case"set":Rt(t,1)&&Nt(t.args[0]);break;case"map":Rt(t,2)&&Pt(t.args[0])&&Pt(t.args[1])&&(Nt(t.args[0]),e(t.args[1]));break;case"big_map":Rt(t,2)&&Pt(t.args[0])&&Pt(t.args[1])&&(Nt(t.args[0]),Dt(t.args[1]),e(t.args[1]));break;case"ticket":Rt(t,1)&&Pt(t.args[0])&&Nt(t.args[0]);break;case"sapling_state":case"sapling_transaction":Rt(t,1)&&It(t.args[0]);break;default:Rt(t,0)}return!0}function Ft(t){var e,r,n,i;if("int"in t||"string"in t||"bytes"in t)return!0;if(Array.isArray(t)){var o=0;try{for(var a=s(t),u=a.next();!u.done;u=a.next()){var c=u.value;St(c)&&"Elt"===c.prim?(Rt(c,2)&&(Ft(c.args[0]),Ft(c.args[1])),o++):Ft(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}if(0!==o&&o!==t.length)throw new Ot(t,"data entries and map elements can't be intermixed");return!0}if(!St(t))throw new Ot(t,"data entry expected");switch(t.prim){case"Unit":case"True":case"False":case"None":Rt(t,0);break;case"Pair":if(void 0===t.args||t.args.length<2)throw new Ot(t,"at least 2 arguments expected");try{for(var l=s(t.args),f=l.next();!f.done;f=l.next()){Ft(f.value)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}break;case"Left":case"Right":case"Some":Rt(t,1)&&Ft(t.args[0]);break;default:if(!Object.prototype.hasOwnProperty.call(_t,t.prim))throw new Ot(t,"data entry or instruction expected");jt(t)}return!0}function Vt(t){var e,r;if(At(t)){var n={};try{for(var i=s(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(xt(a)){if("code"!==a.prim&&"parameter"!==a.prim&&"storage"!==a.prim)throw new Ot(t,"unexpected contract section: "+a.prim);if(a.prim in n)throw new Ot(t,"duplicate contract section: "+a.prim);if(n[a.prim]=!0,Rt(a,1))switch(a.prim){case"code":At(a.args[0])&&jt(a.args[0]);break;case"parameter":Lt(a.args[0]);break;case"storage":Mt(a.args[0])}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}return!0}function Ht(t){return Object.prototype.hasOwnProperty.call(_t,t.prim)}function Kt(t){var e,r;if(!Array.isArray(t))return!1;try{for(var n=s(t),i=n.next();!i.done;i=n.next()){var o=i.value;if("prim"in o){if(Ht(o))throw new et(t,"Instruction outside of a lambda: "+JSON.stringify(t));if("Elt"===o.prim)throw new et(t,"Elt item outside of a map literal: "+JSON.stringify(t))}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0}var Gt,qt=["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE"],zt=Object.assign.apply(Object,u([{}],a(qt.map((function(t,e){var r;return(r={})[t]=e,r})))));!function(t){t[t.Int=0]="Int",t[t.String=1]="String",t[t.Sequence=2]="Sequence",t[t.Prim0=3]="Prim0",t[t.Prim0Annot=4]="Prim0Annot",t[t.Prim1=5]="Prim1",t[t.Prim1Annot=6]="Prim1Annot",t[t.Prim2=7]="Prim2",t[t.Prim2Annot=8]="Prim2Annot",t[t.Prim=9]="Prim",t[t.Bytes=10]="Bytes"}(Gt||(Gt={}));var Wt,Yt,Jt,Xt=function(){function t(){this.buffer=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.buffer.length},enumerable:!1,configurable:!0}),t.prototype.writeBytes=function(t){var e;(e=this.buffer).push.apply(e,u([],a(t.map((function(t){return 255&t})))))},t.prototype.writeUint8=function(t){var e=0|t;this.buffer.push(255&e)},t.prototype.writeUint16=function(t){var e=0|t;this.buffer.push(e>>8&255),this.buffer.push(255&e)},t.prototype.writeUint32=function(t){var e=0|t;this.buffer.push(e>>24&255),this.buffer.push(e>>16&255),this.buffer.push(e>>8&255),this.buffer.push(255&e)},t.prototype.writeInt8=function(t){this.writeUint8(t)},t.prototype.writeInt16=function(t){this.writeUint16(t)},t.prototype.writeInt32=function(t){this.writeUint32(t)},t}(),$t=new Error("bounds out of range"),Qt=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.buffer=t,this.idx=e,this.cap=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.cap-this.idx},enumerable:!1,configurable:!0}),t.prototype.readBytes=function(t){if(this.cap-this.idx<t)throw $t;var e=this.buffer.slice(this.idx,this.idx+t);return this.idx+=t,e},t.prototype.reader=function(e){if(this.cap-this.idx<e)throw $t;var r=new t(this.buffer,this.idx,this.idx+e);return this.idx+=e,r},t.prototype.copy=function(){return new t(this.buffer,this.idx,this.cap)},t.prototype.readUint8=function(){if(this.cap-this.idx<1)throw $t;return this.buffer[this.idx++]>>>0},t.prototype.readUint16=function(){if(this.cap-this.idx<2)throw $t;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0},t.prototype.readUint32=function(){if(this.cap-this.idx<4)throw $t;return(this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0},t.prototype.readInt8=function(){if(this.cap-this.idx<1)throw $t;return this.buffer[this.idx++]<<24>>24},t.prototype.readInt16=function(){if(this.cap-this.idx<2)throw $t;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])<<16>>16},t.prototype.readInt32=function(){if(this.cap-this.idx<4)throw $t;return this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++]},t}();function Zt(t){var e,r=t.readUint8();switch(r){case Yt.ED25519:e="ED25519PublicKeyHash";break;case Yt.SECP256K1:e="SECP256K1PublicKeyHash";break;case Yt.P256:e="P256PublicKeyHash";break;default:throw new Error("unknown public key hash tag: "+r)}return{type:e,hash:t.readBytes(20)}}function te(t){var e,r=t.readUint8();switch(r){case Wt.Implicit:e=Zt(t);break;case Wt.Originated:e={type:"ContractHash",hash:t.readBytes(20)},t.readBytes(1);break;default:throw new Error("unknown address tag: "+r)}if(0!==t.length){var n=new TextDecoder;e.entryPoint=n.decode(new Uint8Array(t.readBytes(t.length)))}return e}function ee(t,e){var r;switch(t.type){case"ED25519PublicKeyHash":r=Yt.ED25519;break;case"SECP256K1PublicKeyHash":r=Yt.SECP256K1;break;case"P256PublicKeyHash":r=Yt.P256;break;default:throw new Error("unexpected address type: "+t.type)}e.writeUint8(r),e.writeBytes(Array.from(t.hash))}function re(t){var e,r,n=t.readUint8();switch(n){case Jt.ED25519:r="ED25519PublicKey",e=32;break;case Jt.SECP256K1:r="SECP256K1PublicKey",e=33;break;case Jt.P256:r="P256PublicKey",e=33;break;default:throw new Error("unknown public key tag: "+n)}return{type:r,publicKey:t.readBytes(e)}}function ne(t,e,r){var n,i,o,u,c,l,f,p,h=a(r(t),2),d=h[0],b=h[1];if(Array.isArray(d)){var y=new Xt;try{for(var v=s(d),m=v.next();!m.done;m=v.next()){var g=m.value;if((N=b.next()).done)throw new Error("REPORT ME: iterator is done");ne(g,y,N.value)}}catch(t){n={error:t}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return e.writeUint8(Gt.Sequence),e.writeUint32(y.length),void e.writeBytes(y.buffer)}if("string"in d){var _=(new TextEncoder).encode(d.string);return e.writeUint8(Gt.String),e.writeUint32(_.length),void e.writeBytes(Array.from(_))}if("int"in d){e.writeUint8(Gt.Int);var w=BigInt(d.int),E=w<0;E&&(w=-w);var O=0;do{var S=0===O?BigInt(6):BigInt(7),x=w&(BigInt(1)<<S)-BigInt(1);(w>>=S)&&(x|=BigInt(128)),0===O&&E&&(x|=BigInt(64)),e.writeUint8(Number(x)),O++}while(w)}else{if("bytes"in d){_=function(t){for(var e=[],r=0;r<t.length;r+=2){var n=t.slice(r,r+2),i=parseInt(n,16);if(Number.isNaN(i))throw new Error("can't parse hex byte: "+n);e.push(i)}return e}(d.bytes);return e.writeUint8(Gt.Bytes),e.writeUint32(_.length),void e.writeBytes(_)}var A=zt[d.prim];if(void 0===A)throw new TypeError("Can't encode primary: "+d.prim);var P=((null===(f=d.args)||void 0===f?void 0:f.length)||0)<3?Gt.Prim0+2*((null===(p=d.args)||void 0===p?void 0:p.length)||0)+(void 0===d.annots||0===d.annots.length?0:1):Gt.Prim;if(e.writeUint8(P),e.writeUint8(A),void 0!==d.args)if(d.args.length<3)try{for(var T=s(d.args),I=T.next();!I.done;I=T.next()){g=I.value;if((N=b.next()).done)throw new Error("REPORT ME: iterator is done");ne(g,e,N.value)}}catch(t){o={error:t}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(o)throw o.error}}else{y=new Xt;try{for(var R=s(d.args),j=R.next();!j.done;j=R.next()){var N;g=j.value;if((N=b.next()).done)throw new Error("REPORT ME: iterator is done");ne(g,y,N.value)}}catch(t){c={error:t}}finally{try{j&&!j.done&&(l=R.return)&&l.call(R)}finally{if(c)throw c.error}}e.writeUint32(y.length),e.writeBytes(y.buffer)}if(void 0!==d.annots&&0!==d.annots.length){_=(new TextEncoder).encode(d.annots.join(" "));e.writeUint32(_.length),e.writeBytes(Array.from(_))}else void 0!==d.args&&d.args.length>=3&&e.writeUint32(0)}}function ie(t,e){function r(){return o(this,(function(t){switch(t.label){case 0:return[4,pe];case 1:return t.sent(),[3,0];case 2:return[2]}}))}var n=a(e,2),i=n[0],s=n[1],u=t.readUint8();switch(u){case Gt.Int:var c=[],l=void 0;do{l=t.readInt8(),c.push(l)}while(0!=(128&l));for(var f=BigInt(0),p=!1,h=c.length-1;h>=0;h--){var d=0===h?BigInt(6):BigInt(7),b=BigInt(c[h]);f<<=d,f|=b&(BigInt(1)<<d)-BigInt(1),0===h&&(p=!!(b&BigInt(64)))}return p&&(f=-f),s({int:String(f)});case Gt.String:var y=t.readUint32(),v=t.readBytes(y);return s({string:(N=new TextDecoder).decode(new Uint8Array(v))});case Gt.Bytes:var m=t.readUint32();v=t.readBytes(m);return s({bytes:mt(Array.from(v))});case Gt.Sequence:for(var g=t.readUint32(),_=[],w=t.copy(),E=r(),O=0;O<2;O++){var S=w.reader(g);for(_=[];S.length>0;){if((R=E.next()).done)throw new Error("REPORT ME: iterator is done");_.push(ie(S,R.value))}E=i(_),w=t}return s(_);default:if(u>9)throw new Error("Unknown tag: "+u);var x=t.readUint8();if(x>=qt.length)throw new Error("Unknown primitive tag: "+x);var A=qt[x],P=u-3>>1,T=(_={prim:A},r());for(w=t.copy(),O=0;O<2;O++){if(_={prim:A},P<3)for(h=0;h<P;h++){if((R=T.next()).done)throw new Error("REPORT ME: iterator is done");_.args=_.args||[],_.args.push(ie(w,R.value))}else{_.args=_.args||[];var I=w.readUint32();for(S=w.reader(I);S.length>0;){var R;if((R=T.next()).done)throw new Error("REPORT ME: iterator is done");_.args.push(ie(S,R.value))}}T=i(_),w=t}if(1==(u-3&1)||3===P){var j=t.readUint32();if(0!==j){v=t.readBytes(j);var N=new TextDecoder;_.annots=N.decode(new Uint8Array(v)).split(" ")}}return s(_)}}!function(t){t[t.Implicit=0]="Implicit",t[t.Originated=1]="Originated"}(Wt||(Wt={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(Yt||(Yt={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(Jt||(Jt={}));var oe=function(t){return"prim"in t&&("Left"===t.prim||"Right"===t.prim)},se=function(t){return"prim"in t&&("Some"===t.prim||"None"===t.prim)},ae=function(t){if(dt(t))return function(e){if(!bt(e))throw new rt(t,e,"pair expected: "+JSON.stringify(e));Kt(e);var r=ht("pair",t);return[ht("Pair",e),function(){var t,e,n,i,a,u;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),t=s(r.args),e=t.next(),o.label=1;case 1:return e.done?[3,4]:(n=e.value,[4,ae(n)]);case 2:o.sent(),o.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),a={error:i},[3,7];case 6:try{e&&!e.done&&(u=t.return)&&u.call(t)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()]};switch(t.prim){case"or":return function(e){if(!oe(e))throw new rt(t,e,"or expected: "+JSON.stringify(e));return[e,function(){return o(this,(function(r){switch(r.label){case 0:return[4,ae(t.args["Left"===e.prim?0:1])];case 1:return r.sent(),[2]}}))}()]};case"option":return function(e){if(!se(e))throw new rt(t,e,"option expected: "+JSON.stringify(e));return[e,function(){return o(this,(function(r){switch(r.label){case 0:return"Some"!==e.prim?[3,2]:[4,ae(t.args[0])];case 1:r.sent(),r.label=2;case 2:return[2]}}))}()]};case"list":case"set":return function(e){if(!Array.isArray(e))throw new rt(t,e,t.prim+" expected: "+JSON.stringify(e));return[e,function(){var r,n,i,a,u;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),r=s(e),n=r.next(),o.label=1;case 1:return n.done?[3,4]:[4,ae(t.args[0])];case 2:o.sent(),o.label=3;case 3:return n=r.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),a={error:i},[3,7];case 6:try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()]};case"map":return function(e){if(!Array.isArray(e))throw new rt(t,e,"map expected: "+JSON.stringify(e));return[e,function(){var r,n,i,a,u;return o(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),r=s(e),n=r.next(),c.label=1;case 1:return n.done?[3,4]:[4,function(e){if(!("prim"in e)||"Elt"!==e.prim)throw new rt(t,e,"map element expected: "+JSON.stringify(e));return[e,function(){var e,r,n,i,a,u;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),e=s(t.args),r=e.next(),o.label=1;case 1:return r.done?[3,4]:(n=r.value,[4,ae(n)]);case 2:o.sent(),o.label=3;case 3:return r=e.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),a={error:i},[3,7];case 6:try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()]}];case 2:c.sent(),c.label=3;case 3:return n=r.next(),[3,1];case 4:return[3,7];case 5:return i=c.sent(),a={error:i},[3,7];case 6:try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()]};case"chain_id":return function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"chain id expected: "+JSON.stringify(e));var r;if("string"in e){var n=ft(e.string,"ChainID");if(null===n)throw new rt(t,e,"chain id base58 expected: "+e.string);r={bytes:mt(n[1])}}else r=e;return[r,[][Symbol.iterator]()]};case"signature":return function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"signature expected: "+JSON.stringify(e));var r;if("string"in e){var n=ft(e.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature");if(null===n)throw new rt(t,e,"signature base58 expected: "+e.string);r={bytes:mt(n[1])}}else r=e;return[r,[][Symbol.iterator]()]};case"key_hash":return function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"key hash expected: "+JSON.stringify(e));var r;if("string"in e){var n=ft(e.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash");if(null===n)throw new rt(t,e,"key hash base58 expected: "+e.string);var i=new Xt;ee({type:n[0],hash:n[1]},i),r={bytes:mt(i.buffer)}}else r=e;return[r,[][Symbol.iterator]()]};case"key":return function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"public key expected: "+JSON.stringify(e));var r;if("string"in e){var n=ft(e.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey");if(null===n)throw new rt(t,e,"public key base58 expected: "+e.string);var i=new Xt;!function(t,e){var r;switch(t.type){case"ED25519PublicKey":r=Jt.ED25519;break;case"SECP256K1PublicKey":r=Jt.SECP256K1;break;case"P256PublicKey":r=Jt.P256;break;default:throw new Error("unexpected public key type: "+t.type)}e.writeUint8(r),e.writeBytes(Array.from(t.publicKey))}({type:n[0],publicKey:n[1]},i),r={bytes:mt(i.buffer)}}else r=e;return[r,[][Symbol.iterator]()]};case"address":return function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"address expected: "+JSON.stringify(e));var r;if("string"in e){var n=e.string.split("%"),i=ft(n[0],"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash");if(null===i)throw new rt(t,e,"address base58 expected: "+e.string);var o=new Xt;!function(t,e){if("ContractHash"===t.type?(e.writeUint8(Wt.Originated),e.writeBytes(Array.from(t.hash)),e.writeUint8(0)):(e.writeUint8(Wt.Implicit),ee(t,e)),void 0!==t.entryPoint&&""!==t.entryPoint&&"default"!==t.entryPoint){var r=(new TextEncoder).encode(t.entryPoint);e.writeBytes(Array.from(r))}}({type:i[0],hash:i[1],entryPoint:n.length>1?n[1]:void 0},o),r={bytes:mt(o.buffer)}}else r=e;return[r,[][Symbol.iterator]()]};case"timestamp":return function(e){if(!("string"in e)&&!("int"in e))throw new rt(t,e,"timestamp expected: "+JSON.stringify(e));var r;if("string"in e){var n=vt(e);if(null===n)throw new rt(t,e,"can't parse date: "+e.string);r={int:String(Math.floor(n.getTime()/1e3))}}else r=e;return[r,[][Symbol.iterator]()]};default:return ce}},ue=function(t){return"prim"in t&&"PUSH"===t.prim},ce=function(t){return ue(t)?(jt(t),[t,function(){return o(this,(function(e){switch(e.label){case 0:return[4,ce];case 1:return e.sent(),[4,ae(t.args[0])];case 2:return e.sent(),[2]}}))}()]):[t,function(){return o(this,(function(t){switch(t.label){case 0:return[4,ce];case 1:return t.sent(),[3,0];case 2:return[2]}}))}()]};function le(t,e){var r=new Xt;return r.writeUint8(5),ne(t,r,void 0!==e?ae(e):ce),r.buffer}var fe=function(t){if(dt(t)){var e=Array.isArray(t)?t:t.args;return[function(r){if(!bt(r))throw new rt(t,r,"pair expected: "+JSON.stringify(r));return function(){var t,r,n,i,a,u;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),t=s(e),r=t.next(),o.label=1;case 1:return r.done?[3,4]:(n=r.value,[4,fe(n)]);case 2:o.sent(),o.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),a={error:i},[3,7];case 6:try{r&&!r.done&&(u=t.return)&&u.call(t)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()},function(t){return t}]}switch(t.prim){case"or":return[function(e){if(!oe(e))throw new rt(t,e,"or expected: "+JSON.stringify(e));return function(){return o(this,(function(r){switch(r.label){case 0:return[4,fe(t.args["Left"===e.prim?0:1])];case 1:return r.sent(),[2]}}))}()},function(t){return t}];case"option":return[function(e){if(!se(e))throw new rt(t,e,"option expected: "+JSON.stringify(e));return function(){return o(this,(function(r){switch(r.label){case 0:return"Some"!==e.prim?[3,2]:[4,fe(t.args[0])];case 1:r.sent(),r.label=2;case 2:return[2]}}))}()},function(t){return t}];case"list":case"set":return[function(e){if(!Array.isArray(e))throw new rt(t,e,t.prim+" expected: "+JSON.stringify(e));return function(){return o(this,(function(e){switch(e.label){case 0:return[4,fe(t.args[0])];case 1:return e.sent(),[3,0];case 2:return[2]}}))}()},function(t){return t}];case"map":return[function(e){if(!Array.isArray(e))throw new rt(t,e,"map expected: "+JSON.stringify(e));return function(){return o(this,(function(e){switch(e.label){case 0:return[4,[function(e){if(!("prim"in e)||"Elt"!==e.prim)throw new rt(t,e,"map element expected: "+JSON.stringify(e));return function(){var e,r,n,i,a,u;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),e=s(t.args),r=e.next(),o.label=1;case 1:return r.done?[3,4]:(n=r.value,[4,fe(n)]);case 2:o.sent(),o.label=3;case 3:return r=e.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),a={error:i},[3,7];case 6:try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}()},function(t){return t}]];case 1:return e.sent(),[3,0];case 2:return[2]}}))}()},function(t){return t}];case"chain_id":return[function(){return[][Symbol.iterator]()},function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"chain id expected: "+JSON.stringify(e));if("string"in e)return e;var r=it(e.bytes);if(null===r)throw new rt(t,e,"can't parse bytes: "+e.bytes);return{string:pt("ChainID",r)}}];case"signature":return[function(){return[][Symbol.iterator]()},function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"signature expected: "+JSON.stringify(e));if("string"in e)return e;var r=it(e.bytes);if(null===r)throw new rt(t,e,"can't parse bytes: "+e.bytes);return{string:pt("GenericSignature",r)}}];case"key_hash":return[function(){return[][Symbol.iterator]()},function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"key hash expected: "+JSON.stringify(e));if("string"in e)return e;var r=it(e.bytes);if(null===r)throw new rt(t,e,"can't parse bytes: "+e.bytes);var n=Zt(new Qt(new Uint8Array(r)));return{string:pt(n.type,n.hash)+(n.entryPoint?"%"+n.entryPoint:"")}}];case"key":return[function(){return[][Symbol.iterator]()},function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"public key expected: "+JSON.stringify(e));if("string"in e)return e;var r=it(e.bytes);if(null===r)throw new rt(t,e,"can't parse bytes: "+e.bytes);var n=re(new Qt(new Uint8Array(r)));return{string:pt(n.type,n.publicKey)}}];case"address":return[function(){return[][Symbol.iterator]()},function(e){if(!("bytes"in e)&&!("string"in e))throw new rt(t,e,"address expected: "+JSON.stringify(e));if("string"in e)return e;var r=it(e.bytes);if(null===r)throw new rt(t,e,"can't parse bytes: "+e.bytes);var n=te(new Qt(new Uint8Array(r)));return{string:pt(n.type,n.hash)+(n.entryPoint?"%"+n.entryPoint:"")}}];case"timestamp":return[function(){return[][Symbol.iterator]()},function(e){if(!("int"in e)&&!("string"in e))throw new rt(t,e,"address expected: "+JSON.stringify(e));return"string"in e?e:{string:new Date(1e3*parseInt(e.int,10)).toISOString().slice(0,19)+"Z"}}];default:return pe}},pe=[function(t){return ue(t)?(jt(t),function(){return o(this,(function(e){switch(e.label){case 0:return[4,pe];case 1:return e.sent(),[4,fe(t.args[0])];case 2:return e.sent(),[2]}}))}()):function(){return o(this,(function(t){switch(t.label){case 0:return[4,pe];case 1:return t.sent(),[3,0];case 2:return[2]}}))}()},function(t){return t}];function he(t,e){var r=new Qt(t);if(5!==r.readUint8())throw new Error("incorrect packed data magic number");var n=ie(r,void 0!==e?fe(e):pe);if(Ft(n))return n;throw new Error}function de(t){var e=it(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');return te(new Qt(new Uint8Array(e)))}function be(t){var e=it(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');return Zt(new Qt(new Uint8Array(e)))}function ye(t){var e=it(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');return re(new Qt(new Uint8Array(e)))}var ve=function(t){function e(r,n,i){var o=t.call(this,r,i)||this;return o.stackState=n,Object.setPrototypeOf(o,e.prototype),o}return n(e,t),e}(et);function me(t){return Array.isArray(t)?"pair":t.prim}function ge(t){return"prim"in t?t.args:t}function _e(t,e,r){if(void 0===r&&(r=!1),me(t)!==me(e))throw new rt(t,void 0,"types mismatch: "+me(t)+" != "+me(e));var n=[ct(t),ct(e)];if(n[0].t&&n[1].t&&n[0].t[0]!==n[1].t[0])throw new rt(t,void 0,me(t)+": type names mismatch: "+n[0].t[0]+" != "+n[1].t[0]);if(r&&n[0].f&&n[1].f&&n[0].f[0]!==n[1].f[0])throw new rt(t,void 0,me(t)+": field names mismatch: "+n[0].f[0]+" != "+n[1].f);if(dt(t)){var i=ht("pair",t),o=ht("pair",e);return _e(i.args[0],o.args[0],!0),void _e(i.args[1],o.args[1],!0)}switch(t.prim){case"option":case"list":case"contract":case"set":case"ticket":_e(t.args[0],e.args[0]);break;case"or":_e(t.args[0],e.args[0],!0),_e(t.args[1],e.args[1],!0);break;case"lambda":case"map":case"big_map":_e(t.args[0],e.args[0]),_e(t.args[1],e.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(t.args[0].int,10)!==parseInt(e.args[0].int,10))throw new rt(t,void 0,me(t)+": type argument mismatch: "+t.args[0].int+" != "+e.args[0].int)}}function we(t,e){if(t.length!==e.length)throw new rt(t,void 0,"stack length mismatch: "+t.length+" != "+e.length);for(var r=0;r<t.length;r++)_e(t[r],e[r])}function Ee(t,e){var r,n,i,o,a,u,c;if(void 0===e&&(e=!1),!Array.isArray(t)){var l=ct(t);if(((null===(a=l.t)||void 0===a?void 0:a.length)||0)>1)throw new rt(t,void 0,t.prim+": at most one type annotation allowed: "+t.annots);if(e){if(((null===(u=l.f)||void 0===u?void 0:u.length)||0)>1)throw new rt(t,void 0,t.prim+": at most one field annotation allowed: "+t.annots)}else if(((null===(c=l.f)||void 0===c?void 0:c.length)||0)>0)throw new rt(t,void 0,t.prim+": field annotations aren't allowed: "+t.annots)}if(dt(t)){var f=ge(t);try{for(var p=s(f),h=p.next();!h.done;h=p.next()){Ee(h.value,!0)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}}else switch(t.prim){case"option":case"list":case"contract":case"set":Ee(t.args[0]);break;case"or":try{for(var d=s(t.args),b=d.next();!b.done;b=d.next()){Ee(b.value,!0)}}catch(t){i={error:t}}finally{try{b&&!b.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}break;case"lambda":case"map":case"big_map":Ee(t.args[0]),Ee(t.args[1])}}function Oe(t,e,r){if(dt(t)){if(bt(e)&&bt(r)){Kt(e),Kt(r);var n=ht("pair",t),i=ht("Pair",e),o=ht("Pair",r);return 0!==(u=Oe(n.args[0],i.args[0],o.args[0]))?u:Oe(n.args[0],i.args[1],o.args[1])}}else switch(t.prim){case"int":case"nat":case"mutez":if("int"in e&&"int"in r)return new nt(e.int).cmp(new nt(r.int));break;case"string":if("string"in e&&"string"in r)return(u=e.string.localeCompare(r.string))<0?-1:u>0?1:0;break;case"bytes":if("bytes"in e&&"bytes"in r){var s=it(e.bytes),a=it(r.bytes);if(null!==s&&null!==a)return ot(s,a)}break;case"bool":if("prim"in e&&"prim"in r&&("True"===e.prim||"False"===e.prim)&&("True"===r.prim||"False"===r.prim))return e.prim===r.prim?0:"False"===e.prim?-1:1;break;case"key":case"key_hash":case"address":case"signature":case"chain_id":if(("string"in e||"bytes"in e)&&("string"in r||"bytes"in r))return ot("string"in e?Z(e.string):it(e.bytes)||[],"string"in r?Z(r.string):it(r.bytes)||[]);break;case"timestamp":if(("string"in e||"int"in e)&&("string"in r||"int"in r)){var u;s=vt(e),a=vt(r);if(null!==s&&null!==a)return(u=s.valueOf()-a.valueOf())<0?-1:u>0?1:0}break;case"unit":if("prim"in e&&"prim"in r&&"Unit"===e.prim&&"Unit"===r.prim)return 0}throw new rt(t,void 0,me(t)+": not comparable values: "+JSON.stringify(e)+", "+JSON.stringify(r))}function Se(t){var e,r;if(!Array.isArray(t))return!1;try{for(var n=s(t),i=n.next();!i.done;i=n.next()){var o=i.value;if(!(Array.isArray(o)&&Se(o)||"prim"in o&&Ht(o)))return!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0}function xe(t,e,r){var n,i,o,a;if(dt(e)){if(bt(t)){Kt(t);var u=ht("Pair",t),c=ht("pair",e);return xe(u.args[0],c.args[0],r),void xe(u.args[1],c.args[1],r)}throw new rt(e,t,"pair expected: "+JSON.stringify(t))}switch(e.prim){case"int":if("int"in t&&st(t.int))return;throw new rt(e,t,"integer value expected: "+JSON.stringify(t));case"nat":case"mutez":if("int"in t&&at(t.int))return;throw new rt(e,t,"natural value expected: "+JSON.stringify(t));case"string":if("string"in t)return;throw new rt(e,t,"string value expected: "+JSON.stringify(t));case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in t&&null!==it(t.bytes))return;throw new rt(e,t,"bytes value expected: "+JSON.stringify(t));case"bool":if("prim"in t&&("True"===t.prim||"False"===t.prim))return;throw new rt(e,t,"boolean value expected: "+JSON.stringify(t));case"key_hash":if("string"in t&&null!==ft(t.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash"))return;if("bytes"in t)try{return void be(t)}catch(t){}throw new rt(e,t,"key hash expected: "+JSON.stringify(t));case"timestamp":if(("string"in t||"int"in t)&&null!==vt(t))return;throw new rt(e,t,"timestamp expected: "+JSON.stringify(t));case"address":if("string"in t){var l=t.string,f=t.string.indexOf("%");if(f>=0&&(l=t.string.slice(0,f)),null!==ft(l,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash"))return}else if("bytes"in t)try{return void de(t)}catch(t){}throw new rt(e,t,"address expected: "+JSON.stringify(t));case"key":if("string"in t&&null!==ft(t.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey"))return;if("bytes"in t)try{return void ye(t)}catch(t){}throw new rt(e,t,"public key expected: "+JSON.stringify(t));case"unit":if("prim"in t&&"Unit"===t.prim)return;throw new rt(e,t,"unit value expected: "+JSON.stringify(t));case"signature":if("bytes"in t||"string"in t&&null!==ft(t.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature"))return;throw new rt(e,t,"signature expected: "+JSON.stringify(t));case"chain_id":if("bytes"in t||"string"in t)if(null!==("string"in t?Z(t.string):it(t.bytes)))return;throw new rt(e,t,"chain id expected: "+JSON.stringify(t));case"operation":throw new rt(e,t,"operation type can't be represented as a literal value");case"contract":throw new rt(e,t,"contract type can't be represented as a literal value");case"option":if("prim"in t){if("None"===t.prim)return;if("Some"===t.prim)return void xe(t.args[0],e.args[0],r)}throw new rt(e,t,"option expected: "+JSON.stringify(t));case"list":case"set":if(Kt(t)){var p=void 0;try{for(var h=s(t),d=h.next();!d.done;d=h.next()){if(xe(m=d.value,e.args[0],r),"set"===e.prim)if(void 0===p)p=m;else if(Oe(e.args[0],p,m)>0)throw new rt(e,t,"set elements must be ordered: "+JSON.stringify(t))}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return}throw new rt(e,t,e.prim+" expected: "+JSON.stringify(t));case"or":if("prim"in t){if("Left"===t.prim)return void xe(t.args[0],e.args[0],r);if("Right"===t.prim)return void xe(t.args[0],e.args[1],r)}throw new rt(e,t,"union (or) expected: "+JSON.stringify(t));case"lambda":if(Se(t)){var b=Ae(t,[e.args[0]],r);if("failed"in b)throw new rt(e,t,"function is failed with error type: "+b.failed);if(1!==b.length)throw new rt(e,t,"function must return a value");return void _e(e.args[1],b[0])}throw new rt(e,t,"function expected: "+JSON.stringify(t));case"map":case"big_map":if(Array.isArray(t)){p=void 0;try{for(var y=s(t),v=y.next();!v.done;v=y.next()){var m;if(!("prim"in(m=v.value))||"Elt"!==m.prim)throw new rt(e,t,"map elements expected: "+JSON.stringify(t));if(xe(m.args[0],e.args[0],r),xe(m.args[1],e.args[1],r),void 0===p)p=m;else if(Oe(e.args[0],p.args[0],m.args[0])>0)throw new rt(e,t,"map elements must be ordered: "+JSON.stringify(t))}}catch(t){o={error:t}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}return}throw new rt(e,t,e.prim+" expected: "+JSON.stringify(t));case"bls12_381_fr":if("int"in t&&st(t.int)||"bytes"in t&&null!==it(t.bytes))return;throw new rt(e,t,"BLS12-381 element expected: "+JSON.stringify(t));case"sapling_state":if(Array.isArray(t))return;throw new rt(e,t,"sapling state expected: "+JSON.stringify(t));case"ticket":return void xe(t,{prim:"pair",args:[{prim:"address"},e.args[0],{prim:"nat"}]},r);default:throw new rt(e,t,"unexpected type: "+me(e))}}function Ae(e,r,n){var o=(null==n?void 0:n.protocol)||g;if(Array.isArray(e))return function(t,e,r){var n,i,o=e,a=e,u=0;try{for(var c=s(t),l=c.next();!l.done;l=c.next()){var f=Ae(l.value,a,r);if(o=f,"failed"in f)break;a=f,u++}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if("failed"in o&&u!==t.length-1)throw new ve(t,o,"FAIL must appear in a tail position");if(void 0!==(null==r?void 0:r.traceCallback)){var p={op:t,in:e,out:o};r.traceCallback(p)}return o}(e,r,n);var c=e;function l(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(r.length<i.length+t)throw new ve(c,r,c.prim+": stack must have at least "+i.length+" element(s)");var a=t;try{for(var u=s(i),l=u.next();!l.done;l=u.next()){var f=l.value;if(null!==f&&0!==f.length){for(var p=0;p<f.length&&f[p]!==me(r[a]);)p++;if(p===f.length)throw new ve(c,r,c.prim+": stack type mismatch: ["+a+"] expected to be "+f+", got "+me(r[a])+" instead")}a++}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return r.slice(t,i.length+t)}function f(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return t.apply(void 0,u([],a(e)))}catch(t){throw t instanceof et?new ve(c,r,t.message):t}}}function p(t){return function(e){try{return t(e)}catch(t){throw t instanceof et?new ve(c,r,t.message):t}}}var h=f(ct),d=f(we),b=f(_e),y=p(Nt),v=p(kt),_=p(Mt),w=p(Ct),E=p(Dt);function O(t,e){var n=h(c,i(i({},e),{emptyFields:void 0!==t.f&&t.f>1,emptyVar:void 0!==t.v&&t.v>1})),o=function(t,e,n){if(t&&t.length>(e||0))throw new ve(c,r,c.prim+": at most "+(e||0)+" "+n+" annotations allowed")};return o(n.f,t.f,"field"),o(n.t,t.t,"type"),o(n.v,t.v,"variable"),n}function S(t,e){var r=t,n=Array.isArray(r)?{prim:"pair",args:r}:r,o=h(n),s=void 0!==e.v||void 0!==e.t||void 0!==e.f?u(u(u([],a((null===e.v?o.v:e.v)||[])),a((null===e.t?o.t:e.t)||[])),a((null===e.f?o.f:e.f)||[])):void 0;n.annots;var c=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(n,["annots"]);return i(i({},c),s&&0!==s.length&&{annots:s})}function x(t,e){var r=O({v:1});return S(t,{v:void 0!==r.v?r.v:void 0!==e?[e]:null,t:null})}function A(t,e,n,i,o){var s,a,u,l,f=null===(s=h(e).f)||void 0===s?void 0:s[0],p=null===(a=n.f)||void 0===a?void 0:a[i];if(void 0!==p&&"%"!==p&&void 0!==f&&p!==f)throw new ve(c,r,c.prim+": field names doesn't match: "+p+" !== "+f);var d=null===(u=n.v)||void 0===u?void 0:u[i],b=null===(l=h(t).v)||void 0===l?void 0:l[0];return S(e,{t:null,v:d?"@%"===d?f?["@"+f.slice(1)]:void 0:"@%%"===d?b?["@"+b.slice(1)+"."+(f?f.slice(1):o)]:f?["@"+f.slice(1)]:void 0:[d]:null})}function P(t,e,n){void 0===n&&(n=e);var i=ht("pair",t);if(1===n)return[i.args[0]];if(2===n)return i.args;var o=i.args[1];if(dt(o))return u([i.args[0]],a(P(o,e,n-1)));throw new ve(c,r,c.prim+": at least "+e+" fields are expected")}function T(t,e,n){if(void 0===n&&(n=e),0===n)return t;var i=ht("pair",t);if(1===n)return i.args[0];var o=i.args[1];if(dt(o))return T(o,e,n-2);if(2===n)return o;throw new ve(c,r,c.prim+": at least "+(e+1)+" fields are expected")}function I(t,e,n,o){if(void 0===o&&(o=n),0===o)return e;var s=ht("pair",t);if(1===o)return i(i({},s),{args:[e,s.args[1]]});var a=s.args[1];if(dt(a))return i(i({},s),{args:[s.args[0],I(a,e,n,o-2)]});if(2===o)return i(i({},s),{args:[s.args[0],e]});throw new ve(c,r,c.prim+": at least "+(n+1)+" fields are expected")}var R=function(t,e){return["@"+(t.v?t.v[0].slice(1)+".":"")+e]};function j(t,e){if(!("failed"in t)&&!("failed"in e))return d(t,e),t;if(!("failed"in t)||!("failed"in e))return"failed"in t?e:t;try{return _e(t.failed,e.failed),t}catch(r){return{failed:{prim:"or",args:[t.failed,e.failed]}}}}var N=function(e){var s,c,f,p,g,N,k;switch(e.prim){case"DUP":if(0===(q=e.args?parseInt(e.args[0].int,10):1))throw new ve(e,r,"DUP 0 is forbidden");var C=l(q-1,null)[0];if("ticket"===me(C))throw new ve(e,r,"ticket can't be DUPed");return u([C],a(r));case"SWAP":var M=l(0,null,null);return O({}),u([M[1],M[0]],a(r.slice(2)));case"SOME":return u([S({prim:"option",args:[l(0,null)[0]]},O({t:1,v:1}))],a(r.slice(1)));case"UNIT":return u([S({prim:"unit"},O({v:1,t:1}))],a(r));case"PAIR":if((q=e.args?parseInt(e.args[0].int,10):2)<2)throw new ve(e,r,"PAIR "+q+" is forbidden");var L=l.apply(void 0,u([0],a(new Array(q).fill(null)))),D=O({f:q,t:1,v:1},{specialFields:!0}),U=function(t){var e=t.lastIndexOf(".");return t.slice(e>0?e+1:1)},B=L.map((function(t,e){var r,n=h(t);return S(t,{v:null,t:null,f:D.f&&D.f.length>e&&"%"!==D.f[e]?"%@"===D.f[e]?n.v?["%"+U((null===(r=n.v)||void 0===r?void 0:r[0])||"")]:void 0:[D.f[e]]:void 0})}));return u([S({prim:"pair",args:B},{t:D.t,v:D.v})],a(r.slice(q)));case"UNPAIR":if((q=e.args?parseInt(e.args[0].int,10):2)<2)throw new ve(e,r,"UNPAIR "+q+" is forbidden");var F=l(0,["pair"])[0],V=O({f:2,v:2},{specialVar:!0});return u(u([],a(P(F,q).map((function(t,e){return A(F,t,V,e,0===e?"car":"cdr")})))),a(r.slice(1)));case"CAR":case"CDR":var H=ht("pair",l(0,["pair"])[0]);return u([A(H,H.args["CAR"===e.prim?0:1],$=O({f:1,v:1},{specialVar:!0}),0,e.prim.toLocaleLowerCase())],a(r.slice(1)));case"CONS":var K=l(0,null,["list"]);return b(K[0],K[1].args[0]),u([x({prim:"list",args:[K[1].args[0]]})],a(r.slice(2)));case"SIZE":return l(0,["string","list","set","map","bytes"]),u([x({prim:"nat"})],a(r.slice(1)));case"MEM":var G=l(0,null,["set","map","big_map"]);return y(G[0]),b(G[0],G[1].args[0]),u([x({prim:"bool"})],a(r.slice(2)));case"GET":if(e.args){var q=parseInt(e.args[0].int,10);return u([x(T(l(0,["pair"])[0],q))],a(r.slice(1)))}var z=l(0,null,["map","big_map"]);return y(z[0]),b(z[0],z[1].args[0]),u([x({prim:"option",args:[z[1].args[1]]})],a(r.slice(2)));case"UPDATE":if(e.args){q=parseInt(e.args[0].int,10);var W=l(0,null,["pair"]);return u([x(I(W[1],W[0],q))],a(r.slice(2)))}var Y=l(0,null,["bool","option"]);if(y(Y[0]),"bool"===Y[1].prim){var J=l(2,["set"]);return b(Y[0],J[0].args[0]),u([x({prim:"set",args:[S(Y[0],{t:null})]})],a(r.slice(3)))}var X=l(2,["map","big_map"]);return b(Y[0],X[0].args[0]),"map"===X[0].prim?u([x({prim:"map",args:[S(Y[0],{t:null}),S(Y[1].args[0],{t:null})]})],a(r.slice(3))):(E(Y[1].args[0]),u([x({prim:"big_map",args:[S(Y[0],{t:null}),S(Y[1].args[0],{t:null})]})],a(r.slice(3))));case"GET_AND_UPDATE":var $=O({v:2}),Q=l(0,null,["option"],["map","big_map"]);y(Q[0]),b(Q[0],Q[2].args[0]),b(Q[1].args[0],Q[2].args[1]);var Z=null===(f=$.v)||void 0===f?void 0:f.map((function(t){return"@"!==t?[t]:void 0}));return"map"===Q[2].prim?u([S({prim:"option",args:[Q[2].args[1]]},{v:null==Z?void 0:Z[0]}),S({prim:"map",args:[S(Q[0],{t:null}),S(Q[1].args[0],{t:null})]},{v:null==Z?void 0:Z[1]})],a(r.slice(3))):(E(Q[1].args[0]),u([S({prim:"option",args:[Q[2].args[1]]},{v:null==Z?void 0:Z[0]}),S({prim:"big_map",args:[S(Q[0],{t:null}),S(Q[1].args[0],{t:null})]},{v:null==Z?void 0:Z[1]})],a(r.slice(3))));case"EXEC":var tt=l(0,null,["lambda"]);return b(tt[0],tt[1].args[0]),u([x(tt[1].args[1])],a(r.slice(2)));case"APPLY":var rt=l(0,null,["lambda"]);if(_(rt[0]),w(rt[0]),!dt(rt[1].args[0]))throw new ve(e,r,e.prim+": function's argument must be a pair: "+me(rt[1].args[0]));var nt=rt[1].args[0];return b(rt[0],ge(nt)[0]),u([x({prim:"lambda",args:[ge(nt)[1],rt[1].args[1]]})],a(r.slice(2)));case"FAILWITH":var it=l(0,null)[0];return o!==t.Protocol.PtEdo2Zk&&o!==t.Protocol.PsFLorena&&o!==t.Protocol.PtGRANADs||v(it),{failed:it};case"NEVER":return l(0,["never"]),{failed:{prim:"never"}};case"RENAME":return u([x(l(0,null)[0])],a(r.slice(1)));case"CONCAT":if("list"===(Y=l(0,["string","list","bytes"]))[0].prim){if("string"!==me(Y[0].args[0])&&"bytes"!==me(Y[0].args[0]))throw new ve(e,r,e.prim+": can't concatenate list of "+me(Y[0].args[0])+"'s");return u([x(Y[0].args[0])],a(r.slice(1)))}X=l(1,["string","bytes"]);if(Y[0].prim!==X[0].prim)throw new ve(e,r,e.prim+": can't concatenate "+Y[0].prim+" with "+X[0].prim);return u([x(X[0])],a(r.slice(2)));case"SLICE":return u([x({prim:"option",args:[l(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice")],a(r.slice(3)));case"PACK":var ot=l(0,null)[0];return v(ot),u([x({prim:"bytes"},"@packed")],a(r.slice(1)));case"ADD":var st=l(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===st[0].prim&&"int"===st[1].prim||"int"===st[0].prim&&"nat"===st[1].prim)return u([x({prim:"int"})],a(r.slice(2)));if("int"===st[0].prim&&"timestamp"===st[1].prim||"timestamp"===st[0].prim&&"int"===st[1].prim)return u([x({prim:"timestamp"})],a(r.slice(2)));if(("int"===st[0].prim||"nat"===st[0].prim||"mutez"===st[0].prim||"bls12_381_g1"===st[0].prim||"bls12_381_g2"===st[0].prim||"bls12_381_fr"===st[0].prim)&&st[0].prim===st[1].prim)return u([x(st[0])],a(r.slice(2)));throw new ve(e,r,e.prim+": can't add "+st[0].prim+" to "+st[1].prim);case"SUB":var at=l(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]);if(("nat"===at[0].prim||"int"===at[0].prim)&&("nat"===at[1].prim||"int"===at[1].prim)||"timestamp"===at[0].prim&&"timestamp"===at[1].prim)return u([x({prim:"int"})],a(r.slice(2)));if("timestamp"===at[0].prim&&"int"===at[1].prim)return u([x({prim:"timestamp"})],a(r.slice(2)));if("mutez"===at[0].prim&&"mutez"===at[1].prim)return u([x({prim:"mutez"})],a(r.slice(2)));throw new ve(e,r,e.prim+": can't subtract "+at[0].prim+" from "+at[1].prim);case"MUL":var ut=l(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===ut[0].prim&&"int"===ut[1].prim||"int"===ut[0].prim&&"nat"===ut[1].prim)return u([x({prim:"int"})],a(r.slice(2)));if("nat"===ut[0].prim&&"mutez"===ut[1].prim||"mutez"===ut[0].prim&&"nat"===ut[1].prim)return u([x({prim:"mutez"})],a(r.slice(2)));if(("bls12_381_g1"===ut[0].prim||"bls12_381_g2"===ut[0].prim||"bls12_381_fr"===ut[0].prim)&&"bls12_381_fr"===ut[1].prim||("nat"===ut[0].prim||"int"===ut[0].prim)&&ut[0].prim===ut[1].prim)return u([x(ut[0])],a(r.slice(2)));if(("nat"===ut[0].prim||"int"===ut[0].prim)&&"bls12_381_fr"===ut[1].prim||("nat"===ut[1].prim||"int"===ut[1].prim)&&"bls12_381_fr"===ut[0].prim)return u([x({prim:"bls12_381_fr"})],a(r.slice(2)));throw new ve(e,r,e.prim+": can't multiply "+ut[0].prim+" by "+ut[1].prim);case"EDIV":var ct=function(t,e){return{prim:"option",args:[{prim:"pair",args:[{prim:t},{prim:e}]}]}},lt=l(0,["nat","int","mutez"],["nat","int","mutez"]);if("nat"===lt[0].prim&&"nat"===lt[1].prim)return u([x(ct("nat","nat"))],a(r.slice(2)));if(!("nat"!==lt[0].prim&&"int"!==lt[0].prim||"nat"!==lt[1].prim&&"int"!==lt[1].prim))return u([x(ct("int","nat"))],a(r.slice(2)));if("mutez"===lt[0].prim&&"nat"===lt[1].prim)return u([x(ct("mutez","mutez"))],a(r.slice(2)));if("mutez"===lt[0].prim&&"mutez"===lt[1].prim)return u([x(ct("nat","mutez"))],a(r.slice(2)));throw new ve(e,r,e.prim+": can't euclideally divide "+lt[0].prim+" by "+lt[1].prim);case"ABS":return l(0,["int"]),u([x({prim:"nat"})],a(r.slice(1)));case"ISNAT":return l(0,["int"]),u([x({prim:"option",args:[{prim:"nat"}]})],a(r.slice(1)));case"INT":return l(0,["nat","bls12_381_fr"]),u([x({prim:"int"})],a(r.slice(1)));case"NEG":var ft=l(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return"nat"===ft.prim||"int"===ft.prim?u([x({prim:"int"})],a(r.slice(1))):u([x(ft)],a(r.slice(1)));case"LSL":case"LSR":return l(0,["nat"],["nat"]),u([x({prim:"nat"})],a(r.slice(2)));case"OR":case"XOR":var pt=l(0,["nat","bool"],["nat","bool"]);if(pt[0].prim!==pt[1].prim)throw new ve(e,r,e.prim+": both arguments must be of the same type: "+pt[0].prim+", "+pt[1].prim);return u([x(pt[1])],a(r.slice(2)));case"AND":var bt=l(0,["nat","bool","int"],["nat","bool"]);if(("int"!==bt[0].prim||"nat"!==bt[1].prim)&&bt[0].prim!==bt[1].prim)throw new ve(e,r,e.prim+": both arguments must be of the same type: "+bt[0].prim+", "+bt[1].prim);return u([x(bt[1])],a(r.slice(2)));case"NOT":return"bool"===l(0,["nat","bool","int"])[0].prim?u([x({prim:"bool"})],a(r.slice(1))):u([x({prim:"int"})],a(r.slice(1)));case"COMPARE":var yt=l(0,null,null);return y(yt[0]),y(yt[1]),u([x({prim:"int"})],a(r.slice(2)));case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return l(0,["int"]),u([x({prim:"bool"})],a(r.slice(1)));case"SELF":if(void 0===(null==n?void 0:n.contract))throw new ve(e,r,e.prim+": contract required");$=O({f:1,v:1});if(null===(xt=Ie(n.contract,null===(p=$.f)||void 0===p?void 0:p[0])))throw new ve(e,r,e.prim+": contract has no entrypoint "+xt);return u([S({prim:"contract",args:[xt]},{v:$.v?$.v:["@self"]})],a(r));case"TRANSFER_TOKENS":var vt=l(0,null,["mutez"],["contract"]);return b(vt[0],vt[2].args[0]),u([x({prim:"operation"})],a(r.slice(3)));case"SET_DELEGATE":var mt=l(0,["option"])[0];if("key_hash"!==me(mt.args[0]))throw new ve(e,r,e.prim+": key hash expected: "+me(mt.args[0]));return u([x({prim:"operation"})],a(r.slice(1)));case"IMPLICIT_ACCOUNT":return l(0,["key_hash"]),u([x({prim:"contract",args:[{prim:"unit"}]})],a(r.slice(1)));case"NOW":return u([x({prim:"timestamp"},"@now")],a(r));case"AMOUNT":return u([x({prim:"mutez"},"@amount")],a(r));case"BALANCE":return u([x({prim:"mutez"},"@balance")],a(r));case"CHECK_SIGNATURE":return l(0,["key"],["signature"],["bytes"]),u([x({prim:"bool"})],a(r.slice(3)));case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return l(0,["bytes"]),u([x({prim:"bytes"})],a(r.slice(1)));case"HASH_KEY":return l(0,["key"]),u([x({prim:"key_hash"})],a(r.slice(1)));case"SOURCE":return u([x({prim:"address"},"@source")],a(r));case"SENDER":return u([x({prim:"address"},"@sender")],a(r));case"ADDRESS":var gt=l(0,["contract"])[0];$=O({v:1});return u([S((s={prim:"address"},s[m]=gt,s),{v:$.v?$.v:R(h(gt),"address")})],a(r.slice(1)));case"SELF_ADDRESS":var _t={prim:"address"};return void 0!==(null==n?void 0:n.contract)&&(_t[m]={prim:"contract",args:[Pe(n.contract,"parameter").args[0]]}),u([x(_t,"@address")],a(r));case"CHAIN_ID":return u([x({prim:"chain_id"})],a(r));case"DROP":return O({}),l((q=void 0!==e.args?parseInt(e.args[0].int,10):1)-1,null),r.slice(q);case"DIG":return O({}),u(u([l(q=parseInt(e.args[0].int,10),null)[0]],a(r.slice(0,q))),a(r.slice(q+1)));case"DUG":O({});q=parseInt(e.args[0].int,10);return u(u(u([],a(r.slice(1,q+1))),[l(0,null)[0]]),a(r.slice(q+1)));case"NONE":return Ee(e.args[0]),u([S({prim:"option",args:[e.args[0]]},O({t:1,v:1}))],a(r));case"LEFT":case"RIGHT":var wt=l(0,null)[0],Et=($=O({f:2,t:1,v:1},{specialFields:!0}),Z=h(wt),[S(wt,{t:null,v:null,f:$.f&&$.f.length>0&&"%"!==$.f[0]?"%@"===$.f[0]?Z.v?["%"+Z.v[0].slice(1)]:void 0:$.f:void 0}),S(e.args[0],{t:null,f:$.f&&$.f.length>1&&"%"!==$.f[1]?$.f:void 0})]);return u([S({prim:"or",args:"LEFT"===e.prim?Et:[Et[1],Et[0]]},{t:$.t,v:$.v})],a(r.slice(1)));case"NIL":return Ee(e.args[0]),u([S({prim:"list",args:[e.args[0]]},O({t:1,v:1}))],a(r));case"UNPACK":return l(0,["bytes"]),Ee(e.args[0]),u([x({prim:"option",args:[e.args[0]]},"@unpacked")],a(r.slice(1)));case"CONTRACT":var Ot=l(0,["address"])[0];Ee(e.args[0]);$=O({v:1,f:1});var St=Ot[m];if(void 0!==St){var xt;if(null===(xt=Ie(St,null===(g=$.f)||void 0===g?void 0:g[0])))throw new ve(e,r,e.prim+": contract has no entrypoint "+xt);b(xt,e.args[0])}return u([S({prim:"option",args:[{prim:"contract",args:[e.args[0]]}]},{v:$.v?$.v:R(h(Ot),"contract")})],a(r.slice(1)));case"CAST":O({});var At=l(0,null)[0];return Ee(e.args[0]),b(e.args[0],At),u([e.args[0]],a(r.slice(1)));case"IF_NONE":O({});var Pt=l(0,["option"])[0],Tt=r.slice(1);return j(Ae(e.args[0],Tt,n),Ae(e.args[1],u([S(Pt.args[0],{t:null,v:R(h(Pt),"some")})],a(Tt)),n));case"IF_LEFT":O({});var It=l(0,["or"])[0],Rt=(Z=h(It),h(It.args[0])),jt=h(It.args[1]);Tt=r.slice(1);return j(Ae(e.args[0],u([S(It.args[0],{t:null,v:R(Z,Rt.f?Rt.f[0].slice(1):"left")})],a(Tt)),n),Ae(e.args[1],u([S(It.args[1],{t:null,v:R(Z,jt.f?jt.f[0].slice(1):"right")})],a(Tt)),n));case"IF_CONS":O({});var Nt=l(0,["list"])[0];Z=h(Nt),Tt=r.slice(1);return j(Ae(e.args[0],u([S(Nt.args[0],{t:null,v:R(Z,"hd")}),S(Nt,{t:null,v:R(Z,"tl")})],a(Tt)),n),Ae(e.args[1],Tt,n));case"IF":O({}),l(0,["bool"]);Tt=r.slice(1);return j(Ae(e.args[0],Tt,n),Ae(e.args[1],Tt,n));case"MAP":var kt=l(0,["list","map"])[0],Ct=(Tt=r.slice(1),"map"===kt.prim?{prim:"pair",args:kt.args}:kt.args[0]);if("failed"in(Bt=Ae(e.args[0],u([S(Ct,{t:null,v:R(h(kt),"elt")})],a(Tt)),n)))return Bt;if(Bt.length<1)throw new ve(e,r,e.prim+": function must return a value");return d(Bt.slice(1),Tt),"list"===kt.prim?u([x({prim:"list",args:[Bt[0]]})],a(Tt)):u([x({prim:"map",args:[kt.args[0],Bt[0]]})],a(Tt));case"ITER":O({});var Mt=l(0,["set","list","map"])[0];Tt=r.slice(1),Ct="map"===Mt.prim?{prim:"pair",args:Mt.args}:Mt.args[0];return"failed"in(Bt=Ae(e.args[0],u([S(Ct,{t:null,v:R(h(Mt),"elt")})],a(Tt)),n))?Bt:(d(Bt,Tt),Tt);case"LOOP":O({}),l(0,["bool"]);Tt=r.slice(1);return"failed"in(Bt=Ae(e.args[0],Tt,n))?Bt:(d(Bt,u([{prim:"bool"}],a(Tt))),Tt);case"LOOP_LEFT":O({});var Lt=l(0,["or"])[0];Tt=r.slice(1);return"failed"in(Bt=Ae(e.args[0],u([S(Lt.args[0],{t:null,v:R(h(Lt),"left")})],a(Tt)),n))?Bt:(d(Bt,u([Lt],a(Tt))),u([S(Lt.args[1],{t:null,v:O({v:1}).v})],a(Tt)));case"DIP":O({}),l((q=2===e.args.length?parseInt(e.args[0].int,10):1)-1,null);var Dt=r.slice(0,q);Tt=r.slice(q);return"failed"in(Bt=2===e.args.length?Ae(e.args[1],Tt,n):Ae(e.args[0],Tt,n))?Bt:u(u([],a(Dt)),a(Bt));case"CREATE_CONTRACT":$=O({v:2});var Ut=l(0,["option"],["mutez"],null);if("key_hash"!==me(Ut[0].args[0]))throw new ve(e,r,e.prim+": key hash expected: "+me(Ut[0].args[0]));return _(Ut[2])&&(je(e.args[0]),_e(Pe(e.args[0],"storage").args[0],Ut[2])),u([S({prim:"operation"},{v:null==(Z=null===(N=$.v)||void 0===N?void 0:N.map((function(t){return"@"!==t?[t]:void 0})))?void 0:Z[0]}),S((c={prim:"address"},c[m]={prim:"contract",args:[Pe(e.args[0],"parameter").args[0]]},c),{v:null==Z?void 0:Z[1]})],a(r.slice(3)));case"PUSH":return Ee(e.args[0]),xe(e.args[1],e.args[0],i(i({},n),{contract:void 0})),u([x(e.args[0])],a(r));case"EMPTY_SET":return Ee(e.args[0]),y(e.args[0]),u([S({prim:"set",args:e.args},O({t:1,v:1}))],a(r));case"EMPTY_MAP":return Ee(e.args[0]),y(e.args[0]),Ee(e.args[1]),u([S({prim:"map",args:e.args},O({t:1,v:1}))],a(r));case"EMPTY_BIG_MAP":return Ee(e.args[0]),y(e.args[0]),Ee(e.args[1]),E(e.args[0]),u([S({prim:"big_map",args:e.args},O({t:1,v:1}))],a(r));case"LAMBDA":var Bt;if(Ee(e.args[0]),Ee(e.args[1]),"failed"in(Bt=Ae(e.args[2],[e.args[0]],i(i({},n),{contract:void 0}))))return Bt;if(1!==Bt.length)throw new ve(e,r,e.prim+": function must return a value");return b(e.args[1],Bt[0]),u([x({prim:"lambda",args:[e.args[0],e.args[1]]})],a(r));case"LEVEL":return u([x({prim:"nat"},"@level")],a(r));case"TOTAL_VOTING_POWER":return u([x({prim:"nat"})],a(r));case"VOTING_POWER":return l(0,["key_hash"]),u([x({prim:"nat"})],a(r.slice(1)));case"TICKET":var Ft=l(0,null,["nat"])[0];return y(Ft),u([S({prim:"ticket",args:[Ft]},O({t:1,v:1}))],a(r.slice(2)));case"JOIN_TICKETS":var Vt=ht("pair",l(0,["pair"])[0]);if("ticket"!==me(Vt.args[0]))throw new ve(e,r,e.prim+": ticket expected: "+me(Vt.args[0]));return b(Vt.args[0],Vt.args[1]),u([x({prim:"option",args:[S(Vt.args[0],{t:null})]})],a(r.slice(1)));case"SPLIT_TICKET":var Ht=l(0,["ticket"],["pair"]);if("nat"!==me((Gt=ht("pair",Ht[1])).args[0]))throw new ve(e,r,e.prim+": nat expected: "+me(Gt.args[0]));return b(Gt.args[0],Gt.args[1]),u([x({prim:"option",args:[{prim:"pair",args:[S(Ht[0],{t:null}),S(Ht[0],{t:null})]}]})],a(r.slice(2)));case"READ_TICKET":$=O({v:2});var Kt=l(0,["ticket"])[0];Z=null===(k=$.v)||void 0===k?void 0:k.map((function(t){return"@"!==t?[t]:void 0}));return u([S({prim:"pair",args:[{prim:"address"},S(Kt.args[0],{t:null}),{prim:"nat"}]},{v:null==Z?void 0:Z[0]}),S(Kt,{v:null==Z?void 0:Z[1],t:null})],a(r.slice(1)));case"PAIRING_CHECK":var Gt;if(!dt(Gt=l(0,["list"])[0].args[0]))throw new ve(e,r,e.prim+": pair expected: "+me(Gt));var qt=ht("pair",Gt);if("bls12_381_g1"!==me(qt.args[0]))throw new ve(e,r,e.prim+": bls12_381_g1 expected: "+me(qt.args[0]));if("bls12_381_g2"!==me(qt.args[1]))throw new ve(e,r,e.prim+": bls12_381_g2 expected: "+me(qt.args[1]));return u([x({prim:"bool"})],a(r.slice(1)));case"SAPLING_EMPTY_STATE":return u([S({prim:"sapling_state",args:[e.args[0]]},O({v:1,t:1}))],a(r));case"SAPLING_VERIFY_UPDATE":var zt=l(0,["sapling_transaction"],["sapling_state"]);if(parseInt(zt[0].args[0].int,10)!==parseInt(zt[1].args[0].int,10))throw new ve(e,r,e.prim+": sapling memo size mismatch: "+zt[0].args[0].int+" != "+zt[1].args[0].int);return u([x({prim:"option",args:[{prim:"pair",args:[{prim:"int"},S(zt[1],{t:null})]}]})],a(r.slice(2)));default:throw new et(e,"unexpected instruction: "+e.prim)}}(c);if(void 0!==(null==n?void 0:n.traceCallback)){var k={op:c,in:r,out:N};n.traceCallback(k)}return N}function Pe(t,e){var r,n;try{for(var i=s(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.prim===e)return a}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new et(t,"missing contract section: "+e)}function Te(t){var e,r;if(Array.isArray(t))try{for(var n=s(t),i=n.next();!i.done;i=n.next()){var o=i.value;if("prim"in o&&("parameter"===o.prim||"storage"===o.prim||"code"===o.prim))return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!1}function Ie(t,e){e=e||"%default";var r=Re(t).find((function(t){return t[0]===e}));return void 0!==r?r[1]:"%default"===e?Te(t)?Pe(t,"parameter").args[0]:t:null}function Re(t){if(Te(t)){var e=Pe(t,"parameter"),r=Re(e.args[0]),n=ct(e);return n.f?u([[n.f[0],e.args[0]]],a(r)):r}if(s=t,Array.isArray(s)||"or"===s.prim){var i=ge(t),o=function(t){var e=ct(i[t]);if("or"===me(i[t])){var r=Re(i[t]);return e.f?u([[e.f[0],i[t]]],a(r)):r}return e.f?[[e.f[0],i[t]]]:[]};return u(u([],a(o(0))),a(o(1)))}var s;return[]}function je(t,e){var r=Pe(t,"parameter").args[0];Ee(r,!0);var n=Pe(t,"storage").args[0];Ee(n);var o={prim:"pair",args:[i(i({},r),{annots:["@parameter"]}),i(i({},n),{annots:["@storage"]})]},s=Pe(t,"code").args[0],a=Ae(s,[o],i(i({},e),{contract:t}));if("failed"in a)return a;var u={prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},n]};try{we(a,[u])}catch(t){throw t instanceof et?new ve(s,a,t.message):t}return a}function Ne(t,e,r){Ee(e),xe(t,e,r||null)}function ke(t,e,r){var n,i,o,a;try{for(var u=s(e),c=u.next();!c.done;c=u.next()){Ee(c.value)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}if(void 0!==(null==r?void 0:r.contract))try{for(var l=s(["parameter","storage"]),f=l.next();!f.done;f=l.next()){var p=f.value;Ee(Pe(r.contract,p).args[0])}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return Ae(t,e,r||null)}function Ce(t,e,r){var n,i,o,a;if(void 0===r&&(r=!1),Array.isArray(t)){try{for(var u=s(t),c=u.next();!c.done;c=u.next()){Ee(c.value)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}try{for(var l=s(e),f=l.next();!f.done;f=l.next()){Ee(f.value)}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}}else Ee(t),Ee(e);_e(t,e,r)}function Me(t,e,r){try{return Ne(t,e,r),!0}catch(t){return!1}}var Le=function(){function t(t,e){this.contract=t,this.ctx=i({contract:t},e),this.output=je(t,this.ctx)}return t.parse=function(e,r){var n=new V(r),i="string"==typeof e?n.parseScript(e):n.parseJSON(e);if(null===i)throw new Error("empty contract");if(Vt(i))return new t(i,r)},t.parseTypeExpression=function(t,e){var r=new V(e),n="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===n)throw new Error("empty type expression");if(Ut(n)&&Ee(n))return n;throw void 0},t.parseDataExpression=function(t,e){var r=new V(e),n="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===n)throw new Error("empty data expression");if(Ft(n))return n;throw void 0},t.prototype.section=function(t){return Pe(this.contract,t)},t.prototype.entryPoints=function(){return Re(this.contract)},t.prototype.entryPoint=function(t){return Ie(this.contract,t)},t.prototype.assertDataValid=function(t,e){Ne(t,e,this.ctx)},t.prototype.isDataValid=function(t,e){return Me(t,e,this.ctx)},t.prototype.assertParameterValid=function(t,e){var r=this.entryPoint(t||void 0);if(null===r)throw new Error("contract has no entrypoint named "+t);this.assertDataValid(e,r)},t.prototype.isParameterValid=function(t,e){try{return this.assertParameterValid(t,e),!0}catch(t){return!1}},t.prototype.functionType=function(t,e){return ke(t,e,this.ctx)},t}(),De=new Le([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);function Ue(t){return"failed"in t?"[FAILED: "+z(t.failed)+"]":t.map((function(t,e){var r=ct(t);return"["+e+(r.v?"/"+r.v[0]:"")+"]: "+z(t)})).join("\n")}t.Contract=Le,t.DefaultProtocol=g,t.JSONParseError=L,t.MacroError=_,t.MichelineParseError=M,t.MichelsonError=et,t.MichelsonInstructionError=ve,t.MichelsonTypeError=rt,t.MichelsonValidationError=Ot,t.Parser=V,t.VERSION={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},t.assertContractValid=je,t.assertDataListIfAny=Kt,t.assertDataValid=Ne,t.assertMichelsonBigMapStorableType=Dt,t.assertMichelsonComparableType=Nt,t.assertMichelsonContract=Vt,t.assertMichelsonData=Ft,t.assertMichelsonInstruction=jt,t.assertMichelsonPackableType=kt,t.assertMichelsonPassableType=Lt,t.assertMichelsonPushableType=Ct,t.assertMichelsonStorableType=Mt,t.assertMichelsonType=Ut,t.assertTypeAnnotationsValid=Ee,t.assertTypesEqual=Ce,t.contractEntryPoint=Ie,t.contractEntryPoints=Re,t.contractSection=Pe,t.decodeAddressBytes=de,t.decodePublicKeyBytes=ye,t.decodePublicKeyHashBytes=be,t.dummyContract=De,t.emitMicheline=z,t.formatError=function(t){var r;if(t instanceof ve){var n=null===(r=t.val[e])||void 0===r?void 0:r.macro;return(n?"Macro":"Op")+": "+(n?z(n,void 0,!0)+" / ":"")+z(t.val)+"\nStack:\n"+Ue(t.stackState)+"\n"}return t instanceof rt?"Type: "+(Array.isArray(t.val)?"["+t.val.map((function(t,e){return"["+e+"]: "+z(t)})).join("; ")+"]":z(t.val))+"\n"+(t.data?"Data: "+z(t.data)+"\n":"")+"\n":"Value: "+z(t.val)},t.formatStack=Ue,t.functionType=ke,t.instructionIDs=_t,t.isContractValid=function(t,e){try{return je(t,e)}catch(t){return null}},t.isDataValid=Me,t.isInstruction=Ht,t.isMichelsonCode=function(t){try{return jt(t),!0}catch(t){return!1}},t.isMichelsonData=function(t){try{return Ft(t),!0}catch(t){return!1}},t.isMichelsonError=function(t){return t instanceof et},t.isMichelsonScript=function(t){try{return Vt(t),!0}catch(t){return!1}},t.isMichelsonType=function(t){try{return Ut(t),!0}catch(t){return!1}},t.isTypeAnnotationsValid=function(t,e){void 0===e&&(e=!1);try{return Ee(t,e),!0}catch(t){return!1}},t.isTypeEqual=function(t,e,r){void 0===r&&(r=!1);try{return Ce(t,e,r),!0}catch(t){return!1}},t.packData=le,t.packDataBytes=function(t,e){return{bytes:mt(le(t,e))}},t.refContract=m,t.sourceReference=e,t.traceDumpFunc=function(t,r){return function(n){var i;if(!Array.isArray(n)||t){var o=null===(i=n.op[e])||void 0===i?void 0:i.macro,s=(o?"Macro":"Op")+": "+(o?z(o,void 0,!0)+" / ":"")+z(n.op)+"\nInput:\n"+Ue(n.in)+"\nOutput:\n"+Ue(n.out)+"\n";r(s)}}},t.unpackData=he,t.unpackDataBytes=function(t,e){var r=it(t.bytes);if(null===r)throw new Error("can't parse bytes: \""+t.bytes+'"');return he(r,e)},Object.defineProperty(t,"__esModule",{value:!0})}))},{}],3:[function(t,e,r){(function(n){(function(){!function(n,i){"object"==typeof r&&void 0!==e?i(r,t("fast-json-stable-stringify"),t("bignumber.js"),t("@taquito/utils")):"function"==typeof define&&define.amd?define(["exports","fast-json-stable-stringify","bignumber.js","@taquito/utils"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).taquitoMichelsonEncoder={},n.stringify,n.BigNumber,n.utils)}(this,(function(t,e,r,i){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=o(e),a=o(r),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var l,f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function p(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function b(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var y=Symbol.for("taquito-michelson-map-type-symbol"),v=function(t,e,r){this.value=t,this.type=e,this.name="MapTypecheckError",this.message=r+" not compliant with underlying michelson type"},m=function(){function t(t){this.valueMap=new Map,this.keyMap=new Map,this[l]=!0,t&&this.setType(t)}return t.isMichelsonMap=function(t){return t&&!0===t[y]},t.prototype.setType=function(t){if(!("args"in(e=t))||!Array.isArray(e.args)||2!==e.args.length)throw new Error("mapType is not a valid michelson map type");var e;this.keySchema=new It(t.args[0]),this.valueSchema=new It(t.args[1])},t.prototype.removeType=function(){this.keySchema=void 0,this.valueSchema=void 0},t.fromLiteral=function(e,r){var n=new t(r);return Object.keys(e).forEach((function(t){n.set(t,e[t])})),n},t.prototype.typecheckKey=function(t){return!this.keySchema||this.keySchema.Typecheck(t)},t.prototype.typecheckValue=function(t){return!this.valueSchema||this.valueSchema.Typecheck(t)},t.prototype.assertTypecheckValue=function(t){if(!this.typecheckValue(t))throw new v(t,this.valueSchema,"value")},t.prototype.assertTypecheckKey=function(t){if(!this.typecheckKey(t))throw new v(t,this.keySchema,"key")},t.prototype.serializeDeterministically=function(t){return s.default(t)},t.prototype.keys=function(){var t,e,r,n,i,o;return p(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=h(this.entries()),e=t.next(),s.label=1;case 1:return e.done?[3,4]:(r=d(e.value,1),[4,r[0]]);case 2:s.sent(),s.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return n=s.sent(),i={error:n},[3,7];case 6:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))},t.prototype.values=function(){var t,e,r,n,i,o;return p(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=h(this.entries()),e=t.next(),s.label=1;case 1:return e.done?[3,4]:(r=d(e.value,2),[4,r[1]]);case 2:s.sent(),s.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return n=s.sent(),i={error:n},[3,7];case 6:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))},t.prototype.entries=function(){var t,e,r,n,i,o;return p(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=h(this.valueMap.keys()),e=t.next(),s.label=1;case 1:return e.done?[3,4]:(r=e.value,[4,[this.keyMap.get(r),this.valueMap.get(r)]]);case 2:s.sent(),s.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return n=s.sent(),i={error:n},[3,7];case 6:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))},t.prototype.get=function(t){this.assertTypecheckKey(t);var e=this.serializeDeterministically(t);return this.valueMap.get(e)},t.prototype.set=function(t,e){this.assertTypecheckKey(t),this.assertTypecheckValue(e);var r=this.serializeDeterministically(t);this.keyMap.set(r,t),this.valueMap.set(r,e)},t.prototype.delete=function(t){this.assertTypecheckKey(t),this.keyMap.delete(this.serializeDeterministically(t)),this.valueMap.delete(this.serializeDeterministically(t))},t.prototype.has=function(t){this.assertTypecheckKey(t);var e=this.serializeDeterministically(t);return this.keyMap.has(e)&&this.valueMap.has(e)},t.prototype.clear=function(){this.keyMap.clear(),this.valueMap.clear()},Object.defineProperty(t.prototype,"size",{get:function(){return this.keyMap.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){var e,r;try{for(var n=h(this.entries()),i=n.next();!i.done;i=n.next()){var o=d(i.value,2),s=o[0];t(o[1],s,this)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t}();l=y;var g=function(t,e,r){this.value=t,this.token=e,this.name="ValidationError";var n=this.token.annot(),i=n?"["+n+"] ":"";this.message=""+i+r},_=function(){function t(t,e,r){this.val=t,this.idx=e,this.fac=r,this.createToken=this.fac}return t.prototype.typeWithoutAnnotations=function(){var t=function(e){return e.args?{prim:e.prim,args:e.args.map((function(e){return t(e)}))}:{prim:e.prim}};return t(this.val)},t.prototype.annot=function(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|\:)(_Liq_entry_)?/,"")},t.prototype.hasAnnotations=function(){return Array.isArray(this.val.annots)&&this.val.annots.length},t.prototype.ExtractSignature=function(){return[[this.ExtractSchema()]]},t}(),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.compare=function(t,e){return t===e?0:t<e?-1:1},e}(_),E=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="BigMapValidationError",i}return c(e,t),e}(g),O=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),Object.defineProperty(e.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.ExtractSchema=function(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}},e.prototype.isValid=function(t){return m.isMichelsonMap(t)?null:new E(t,this,"Value must be a MichelsonMap")},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.EncodeObject=function(t){var e=this,r=t,n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.Execute=function(t,r){var n=this;if(r&&r[e.prim])return r[e.prim](t,this.val);if(Array.isArray(t)){var i=new m(this.val);return t.forEach((function(t){i.set(n.KeySchema.ToKey(t.args[0]),n.ValueSchema.Execute(t.args[1]))})),i}if("int"in t)return t.int;throw new Error("Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got "+JSON.stringify(t))},e.prim="big_map",e}(_),S=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Encode=function(t){var r=t[t.length-1],n=this.createToken(this.val.args[0],this.idx),i=1;n instanceof e&&(i=Object.keys(n.ExtractSchema()).length);var o=this.createToken(this.val.args[1],this.idx+i);if(String(n.annot())!==String(r)||n instanceof e){if(String(o.annot())!==String(r)||o instanceof e){var s;if(n instanceof e)if(s=n.Encode(t))return{prim:"Left",args:[s]};if(o instanceof e)if(s=o.Encode(t))return{prim:"Right",args:[s]};return null}return t.pop(),{prim:"Right",args:[o.Encode(t)]}}return t.pop(),{prim:"Left",args:[n.Encode(t)]}},e.prototype.ExtractSignature=function(){var t,r,n,i,o=this.createToken(this.val.args[0],this.idx),s=1;o instanceof e&&(s=Object.keys(o.ExtractSchema()).length);var a=this.createToken(this.val.args[1],this.idx+s),u=[];if(o instanceof e)u.push.apply(u,b([],d(o.ExtractSignature())));else try{for(var c=h(o.ExtractSignature()),l=c.next();!l.done;l=c.next()){var f=l.value;u.push(b([o.annot()],d(f)))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(a instanceof e)u.push.apply(u,b([],d(a.ExtractSignature())));else try{for(var p=h(a.ExtractSignature()),y=p.next();!y.done;y=p.next()){f=y.value;u.push(b([a.annot()],d(f)))}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return u},e.prototype.EncodeObject=function(t){var r=Object.keys(t)[0],n=this.createToken(this.val.args[0],this.idx),i=1;n instanceof e&&(i=Object.keys(n.ExtractSchema()).length);var o=this.createToken(this.val.args[1],this.idx+i);if(String(n.annot())!==String(r)||n instanceof e){if(String(o.annot())!==String(r)||o instanceof e){var s;if(n instanceof e)if(s=n.EncodeObject(t))return{prim:"Left",args:[s]};if(o instanceof e)if(s=o.EncodeObject(t))return{prim:"Right",args:[s]};return null}return{prim:"Right",args:[o.EncodeObject(t[r])]}}return{prim:"Left",args:[n.EncodeObject(t[r])]}},e.prototype.Execute=function(t,r){var n,i,o=this.createToken(this.val.args[0],this.idx),s=1;o instanceof e&&(s=Object.keys(o.ExtractSchema()).length);var a=this.createToken(this.val.args[1],this.idx+s);if("Right"===t.prim)return a instanceof e?a.Execute(t.args[0],r):((n={})[a.annot()]=a.Execute(t.args[0],r),n);if("Left"===t.prim)return o instanceof e?o.Execute(t.args[0],r):((i={})[o.annot()]=o.Execute(t.args[0],r),i);throw new Error("Was expecting Left or Right prim but got: "+t.prim)},e.prototype.traversal=function(t,r,n){var i,o,s,a=this.createToken(this.val.args[0],this.idx),u=1;a instanceof e&&!a.hasAnnotations()?(s=t(a),u=Object.keys(a.ExtractSchema()).length):((i={})[a.annot()]=t(a),s=i);var c,l=this.createToken(this.val.args[1],this.idx+u);return l instanceof e&&!l.hasAnnotations()?c=r(l):((o={})[l.annot()]=r(l),c=o),n(s,c)},e.prototype.ExtractSchema=function(){return this.traversal((function(t){return t.ExtractSchema()}),(function(t){return t.ExtractSchema()}),(function(t,e){return f(f({},t),e)}))},e.prototype.findToken=function(t){var r=this.createToken(this.val.args[0],this.idx),n=1;r instanceof e&&(n=Object.keys(r.ExtractSchema()).length);var i,o=this.createToken(this.val.args[1],this.idx+n);return String(r.annot())===String(t)&&!(r instanceof e)&&r instanceof w?r:String(o.annot())===String(t)&&!(o instanceof e)&&o instanceof w?o:r instanceof e&&(i=r.findToken(t))||o instanceof e&&(i=o.findToken(t))?i:null},e.prototype.compare=function(t,e){var r=Object.keys(t)[0];if(r!==Object.keys(e)[0])return JSON.stringify(this.EncodeObject(t))<JSON.stringify(this.EncodeObject(e))?-1:1;var n=this.findToken(r);return n instanceof w?n.compare(t[r],e[r]):void 0},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}},e.prim="or",e}(w);function x(t,e){if(void 0===e&&(e=P.prim),Array.isArray(t))return x({prim:e,args:t},e);if(void 0===t.args)throw new Error("Token has no arguments");return t.args.length>2?[t.args[0],{prim:e,args:t.args.slice(1)}]:[t.args[0],t.args[1]]}var A,P=function(t){function e(r,n,i){return t.call(this,Array.isArray(r)?{prim:e.prim,args:r}:r,n,i)||this}return c(e,t),e.prototype.args=function(){return x(this.val)},e.prototype.tokens=function(){var t=this,r=0;return this.args().map((function(n){var i=t.createToken(n,t.idx+r);return i instanceof e?r+=Object.keys(i.ExtractSchema()).length:r++,i}))},e.prototype.Encode=function(t){return{prim:"Pair",args:this.tokens().map((function(e){return e.Encode(t)}))}},e.prototype.ExtractSignature=function(){var t,e,r,n,i=this.args(),o=this.createToken(i[0],this.idx),s=1;o instanceof S&&(s=Object.keys(o.ExtractSchema()).length);var a=this.createToken(i[1],this.idx+s),u=[];try{for(var c=h(o.ExtractSignature()),l=c.next();!l.done;l=c.next()){var f=l.value;try{for(var p=(r=void 0,h(a.ExtractSignature())),y=p.next();!y.done;y=p.next()){var v=y.value;u.push(b(b([],d(f)),d(v)))}}catch(t){r={error:t}}finally{try{y&&!y.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return u},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.EncodeObject=function(t){var r,n,i=d(this.tokens(),2),o=i[0],s=i[1];return r=o instanceof e&&!o.hasAnnotations()?t:t[o.annot()],n=s instanceof e&&!s.hasAnnotations()?t:t[s.annot()],{prim:"Pair",args:[o.EncodeObject(r),s.EncodeObject(n)]}},e.prototype.traversal=function(t,r){var n,i,o,s=this.args(),a=this.createToken(s[0],this.idx),u=1;a instanceof e&&!a.hasAnnotations()?(o=t(a),u=Object.keys(a.ExtractSchema()).length):((n={})[a.annot()]=t(a),o=n);var c,l=this.createToken(s[1],this.idx+u);return l instanceof e&&!l.hasAnnotations()?c=r(l):((i={})[l.annot()]=r(l),c=i),f(f({},o),c)},e.prototype.Execute=function(t,e){var r=x(t,"Pair");return this.traversal((function(t){return t.Execute(r[0],e)}),(function(t){return t.Execute(r[1],e)}))},e.prototype.ExtractSchema=function(){return this.traversal((function(t){return t.ExtractSchema()}),(function(t){return t.ExtractSchema()}))},e.prototype.compare=function(t,r){var n=d(this.tokens(),2),i=n[0],o=n[1],s=function(t,r){return t instanceof e&&!t.hasAnnotations()?r:r[t.annot()]};if(i instanceof w&&o instanceof w){var a=i.compare(s(i,t),s(i,r));return 0===a?o.compare(s(o,t),s(o,r)):a}throw new Error("Not a comparable pair")},e.prim="pair",e}(w),T=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="NatValidationError",i}return c(e,t),e}(g),I=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return new a.default(t[Object.keys(t)[0]])},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new a.default(e).toFixed()}},e.prototype.isValid=function(t){var e=new a.default(t);return e.isNaN()?new T(t,this,"Value is not a number: "+t):e.isNegative()?new T(t,this,"Value cannot be negative: "+t):null},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:new a.default(t).toFixed()}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToBigMapKey=function(t){return{key:{int:String(t)},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="nat",e}(w),R=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t[Object.keys(t)[0]]},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.Encode=function(t){return{string:t.pop()}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="string",e}(w),j=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="AddressValidationError",i}return c(e,t),e}(g),N=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.ToBigMapKey=function(t){return{key:{bytes:i.b58decode(t)},type:{prim:"bytes"}}},e.prototype.isValid=function(t){return i.validateAddress(t)!==i.ValidationResult.VALID?new j(t,this,"Address is not valid: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.Execute=function(t){return t.string?t.string:i.encodePubKey(t.bytes)},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.bytes,r=t.string;return r||i.encodePubKey(e)},e.prototype.compare=function(e,r){var n=function(t){return t.startsWith("tz")};return n(e)&&n(r)?t.prototype.compare.call(this,e,r):n(e)?-1:n(r)?1:t.prototype.compare.call(this,e,r)},e.prim="address",e}(w),k=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="MapValidationError",i}return c(e,t),e}(g),C=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),Object.defineProperty(e.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(t){return m.isMichelsonMap(t)?null:new k(t,this,"Value must be a MichelsonMap")},e.prototype.Execute=function(t,e){var r=this,n=new m(this.val);return t.forEach((function(t){n.set(r.KeySchema.ToKey(t.args[0]),r.ValueSchema.Execute(t.args[1],e))})),n},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.EncodeObject=function(t){var e=this,r=t,n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.ExtractSchema=function(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}},e.prim="map",e}(_),M=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return"true"===String(t.prim).toLowerCase()},e.prototype.Encode=function(t){return{prim:t.pop()?"True":"False"}},e.prototype.EncodeObject=function(t){return{prim:t?"True":"False"}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:{prim:e.prim}}},e.prototype.ToKey=function(t){return this.EncodeObject(t)},e.prototype.compare=function(t,e){return t&&e||!t&&!e?0:t?1:-1},e.prim="bool",e}(w),L=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ContractValidationError",i}return c(e,t),e}(g),D=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return i.validateAddress(t)!==i.ValidationResult.VALID?new L(t,this,"Contract address is not valid"):null},e.prototype.Execute=function(t){return t.string?t.string:i.encodePubKey(t.bytes)},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="contract",e}(_),U=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ListValidationError",i}return c(e,t),e}(g),B=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return Array.isArray(t)?null:new U(t,this,"Value must be an array")},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;var n=this.createToken(this.val.args[0],0);return e.reduce((function(t,e){return b(b([],d(t)),[n.EncodeObject(e)])}),[])},e.prototype.Execute=function(t,e){var r=this.createToken(this.val.args[0],0),n=this.isValid(t);if(n)throw n;return t.reduce((function(t,n){return b(b([],d(t)),[r.Execute(n,e)])}),[])},e.prototype.EncodeObject=function(t){var e=this.createToken(this.val.args[0],0),r=this.isValid(t);if(r)throw r;return t.reduce((function(t,r){return b(b([],d(t)),[e.EncodeObject(r)])}),[])},e.prototype.ExtractSchema=function(){var t,r=this.createToken(this.val.args[0],this.idx);return(t={})[e.prim]=r.ExtractSchema(),t},e.prim="list",e}(_),F=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="MutezValidationError",i}return c(e,t),e}(g),V=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return new a.default(t[Object.keys(t)[0]])},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.isValid=function(t){return new a.default(t).isNaN()?new F(t,this,"Value is not a number: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:String(e).toString()}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:String(t).toString()}},e.prototype.ToBigMapKey=function(t){return{key:{int:String(t)},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="mutez",e}(w),H=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="BytesValidationError",i}return c(e,t),e}(g),K=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.ToBigMapKey=function(t){return{key:{bytes:t},type:{prim:e.prim}}},e.prototype.isValid=function(t){return"string"==typeof t&&/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new H(t,this,"Invalid bytes: "+t)},e.prototype.convertUint8ArrayToHexString=function(t){return t.constructor===Uint8Array?n.from(t).toString("hex"):t},e.prototype.Encode=function(t){var e=t.pop();e=this.convertUint8ArrayToHexString(e);var r=this.isValid(e);if(r)throw r;return{bytes:String(e).toString()}},e.prototype.EncodeObject=function(t){t=this.convertUint8ArrayToHexString(t);var e=this.isValid(t);if(e)throw e;return{bytes:String(t).toString()}},e.prototype.Execute=function(t){return t.bytes},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.bytes,r=t.string;return r||e},e.prim="bytes",e}(w),G=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.subToken=function(){return this.createToken(this.val.args[0],this.idx)},e.prototype.annot=function(){return Array.isArray(this.val.annots)?t.prototype.annot.call(this):this.createToken(this.val.args[0],this.idx).annot()},e.prototype.Encode=function(t){var e=t;return null==e?{prim:"None"}:!Array.isArray(e)||void 0!==e[e.length-1]&&null!==e[e.length-1]?{prim:"Some",args:[this.createToken(this.val.args[0],0).Encode(t)]}:(e.pop(),{prim:"None"})},e.prototype.EncodeObject=function(t){var e=this.createToken(this.val.args[0],0),r=t;return null==r?{prim:"None"}:{prim:"Some",args:[e.EncodeObject(r)]}},e.prototype.Execute=function(t,e){return"None"===t.prim?null:this.createToken(this.val.args[0],0).Execute(t.args[0],e)},e.prototype.ExtractSchema=function(){return this.createToken(this.val.args[0],0).ExtractSchema()},e.prototype.ExtractSignature=function(){return b(b([],d(this.createToken(this.val.args[0],0).ExtractSignature())),[[]])},Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return t?e?this.KeySchema.compare(t,e):1:-1},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}},e.prim="option",e}(w),q=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string?new Date(t.string).toISOString():t.int?new Date(1e3*Number(t.int)).toISOString():void 0},e.prototype.Encode=function(t){return{string:t.pop()}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="timestamp",e}(w),z=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="IntValidationError",i}return c(e,t),e}(g),W=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return new a.default(t[Object.keys(t)[0]])},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.isValid=function(t){return new a.default(t).isNaN()?new z(t,this,"Value is not a number: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new a.default(e).toFixed()}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:new a.default(t).toFixed()}},e.prototype.ToBigMapKey=function(t){return{key:{int:String(t)},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="int",e}(w),Y=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Encode=function(t){return t.pop(),{prim:"Unit"}},e.prototype.EncodeObject=function(t){return{prim:"Unit"}},e.prototype.Execute=function(t){return jt},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.compare=function(t,e){return 0},e.prototype.ToKey=function(t){return jt},e.prototype.ToBigMapKey=function(t){return{key:{prim:"Unit"},type:{prim:e.prim}}},e.prim="unit",e}(w),J=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="KeyValidationError",i}return c(e,t),e}(g),X=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string?t.string:i.encodeKey(t.bytes)},e.prototype.isValid=function(t){return i.validatePublicKey(t)!==i.ValidationResult.VALID?new J(t,this,"Key is not valid"):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="key",e}(w),$=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="KeyHashValidationError",i}return c(e,t),e}(g),Q=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string?t.string:i.encodeKeyHash(t.bytes)},e.prototype.isValid=function(t){return i.validateKeyHash(t)!==i.ValidationResult.VALID?new $(t,this,"KeyHash is not valid: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.string,r=t.bytes;return e||i.encodeKeyHash(r)},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="key_hash",e}(w),Z=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SignatureValidationError",i}return c(e,t),e}(g),tt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string},e.prototype.isValid=function(t){return i.validateSignature(t)!==i.ValidationResult.VALID?new Z(t,this,"Signature is not valid"):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="signature",e}(w),et=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string?t.string:t},e.prototype.Encode=function(t){return t.pop()},e.prototype.EncodeObject=function(t){return t},e.prototype.ExtractSchema=function(){var t,r=this.createToken(this.val.args[0],this.idx),n=this.createToken(this.val.args[1],this.idx+1);return(t={})[e.prim]={parameters:r.ExtractSchema(),returns:n.ExtractSchema()},t},e.prim="lambda",e}(_),rt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){return t.string},e.prototype.Encode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.pop();return{string:r}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="operation",e}(_),nt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SetValidationError",i}return c(e,t),e}(g),it=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(t){return Array.isArray(t)?null:new nt(t,this,"Value must be an array")},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return r.sort((function(t,r){return e.KeySchema.compare(t,r)})).reduce((function(t,r){return b(b([],d(t)),[e.KeySchema.EncodeObject(r)])}),[])},e.prototype.Execute=function(t,e){var r=this;return t.reduce((function(t,n){return b(b([],d(t)),[r.KeySchema.Execute(n,e)])}),[])},e.prototype.EncodeObject=function(t){var e=this,r=this.isValid(t);if(r)throw r;return t.sort((function(t,r){return e.KeySchema.compare(t,r)})).reduce((function(t,r){return b(b([],d(t)),[e.KeySchema.EncodeObject(r)])}),[])},e.prototype.ExtractSchema=function(){return e.prim},e.prim="set",e}(_),ot=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ChainIDValidationError",i}return c(e,t),e}(g),st=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return i.validateChain(t)!==i.ValidationResult.VALID?new ot(t,this,"ChainID is not valid"):null},e.prototype.Execute=function(t){return t[Object.keys(t)[0]]},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="chain_id",e}(w),at=function(){this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"},ut={prim:"contract"},ct={prim:"int"},lt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Encode=function(t){throw new at},e.prototype.EncodeObject=function(t){throw new at},e.prototype.Execute=function(t,r){if(r&&r[e.prim])return r[e.prim](t,this.val);var n=this.createToken(ut,this.idx),i=this.createToken(this.val.args[0],this.idx),o=this.createToken(ct,this.idx);return null==t.args[2]&&void 0!==t.args[1].args?{ticketer:n.Execute(t.args[0],r),value:i.Execute(t.args[1].args[0],r),amount:o.Execute(t.args[1].args[1],r)}:{ticketer:n.Execute(t.args[0],r),value:i.Execute(t.args[1],r),amount:o.Execute(t.args[2],r)}},e.prototype.ExtractSchema=function(){var t=this.createToken(this.val.args[0],this.idx);return{ticketer:D.prim,value:t.ExtractSchema(),amount:W.prim}},e.prim="ticket",e}(_),ft=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="NeverTokenError",i}return c(e,t),e}(g),pt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Encode=function(t){var e=t.pop();throw new ft(e,this,"Assigning a value to the type never is forbidden.")},e.prototype.EncodeObject=function(t){throw new ft(t,this,"Assigning a value to the type never is forbidden.")},e.prototype.Execute=function(t){throw new ft(t,this,"There is no literal value for the type never.")},e.prototype.ExtractSchema=function(){return e.prim},e.prim="never",e}(_),ht=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SaplingStateValidationError",i}return c(e,t),e}(g),dt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return"object"==typeof t&&0===Object.keys(t).length},e.prototype.Execute=function(t,r){if(r&&r[e.prim])return r[e.prim](t,this.val);if("int"in t)return t.int;throw new Error("Sapling state is expecting an object with an int property. Got "+JSON.stringify(t))},e.prototype.Encode=function(t){var e=t.pop();if(this.isValid(e))return[];throw new ht(e,this,"Invalid sapling_state. Received: "+e+" while expecting: {}")},e.prototype.EncodeObject=function(t){if(this.isValid(t))return[];throw new ht(t,this,"Invalid sapling_state. Received: "+t+" while expecting: {}")},e.prototype.ExtractSchema=function(){var t;return(t={})[e.prim]={"memo-size":Number(this.val.args[0].int)},t},e.prim="sapling_state",e}(_),bt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SaplingTransactionValidationError",i}return c(e,t),e}(g),yt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.Execute=function(t){throw new Error("There is no literal value for the sapling_transaction type.")},e.prototype.validateBytes=function(t){var e=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(t);if(e&&e[2].length%2==0)return e[2];throw new bt(t,this,"Invalid bytes: "+t)},e.prototype.convertUint8ArrayToHexString=function(t){return t.constructor===Uint8Array?n.from(t).toString("hex"):t},e.prototype.Encode=function(t){var e=t.pop();return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),{bytes:String(e).toString()}},e.prototype.EncodeObject=function(t){return t=this.validateBytes(this.convertUint8ArrayToHexString(t)),{bytes:String(t).toString()}},e.prototype.ExtractSchema=function(){var t;return(t={})[e.prim]={"memo-size":Number(this.val.args[0].int)},t},e.prim="sapling_transaction",e}(_),vt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="Bls12381frValidationError",i}return c(e,t),e}(g),mt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new vt(t,this,"Invalid bytes: "+t)},e.prototype.convertUint8ArrayToHexString=function(t){return t.constructor===Uint8Array?n.from(t).toString("hex"):t},e.prototype.Encode=function(t){var e=t.pop();if("number"==typeof e)return{int:e.toString()};e=this.convertUint8ArrayToHexString(e);var r=this.isValid(e);if(r)throw r;return{bytes:e}},e.prototype.EncodeObject=function(t){if("number"==typeof t)return{int:t.toString()};t=this.convertUint8ArrayToHexString(t);var e=this.isValid(t);if(e)throw e;return{bytes:t}},e.prototype.Execute=function(t){return t.bytes},e.prototype.ExtractSchema=function(){return e.prim},e.prim="bls12_381_fr",e}(_),gt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="Bls12381g1ValidationError",i}return c(e,t),e}(g),_t=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new gt(t,this,"Invalid bytes: "+t)},e.prototype.convertUint8ArrayToHexString=function(t){return t.constructor===Uint8Array?n.from(t).toString("hex"):t},e.prototype.Encode=function(t){var e=t.pop();e=this.convertUint8ArrayToHexString(e);var r=this.isValid(e);if(r)throw r;return{bytes:e}},e.prototype.EncodeObject=function(t){t=this.convertUint8ArrayToHexString(t);var e=this.isValid(t);if(e)throw e;return{bytes:t}},e.prototype.Execute=function(t){return t.bytes},e.prototype.ExtractSchema=function(){return e.prim},e.prim="bls12_381_g1",e}(_),wt=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="Bls12381g2ValidationError",i}return c(e,t),e}(g),Et=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return c(e,t),e.prototype.isValid=function(t){return/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new wt(t,this,"Invalid bytes: "+t)},e.prototype.convertUint8ArrayToHexString=function(t){return t.constructor===Uint8Array?n.from(t).toString("hex"):t},e.prototype.Encode=function(t){var e=t.pop();e=this.convertUint8ArrayToHexString(e);var r=this.isValid(e);if(r)throw r;return{bytes:e}},e.prototype.EncodeObject=function(t){t=this.convertUint8ArrayToHexString(t);var e=this.isValid(t);if(e)throw e;return{bytes:t}},e.prototype.Execute=function(t){return t.bytes},e.prototype.ExtractSchema=function(){return e.prim},e.prim="bls12_381_g2",e}(_),Ot=[P,I,R,O,N,C,M,S,D,B,V,K,G,q,W,Y,X,Q,tt,et,rt,it,st,lt,pt,dt,yt,mt,_t,Et],St=function(t,e){this.message=t,this.data=e,this.name="Invalid token error"};function xt(t,e){if(Array.isArray(t))return new P(t,e,xt);var r=Ot.find((function(e){return e.prim===t.prim}));if(!r)throw new St("Malformed data expected a value with a valid prim property",t);return new r(t,e,xt)}var At=Symbol.for("taquito-schema-type-symbol");function Pt(t,e){var r,n;return void 0===e&&(e=P.prim),Array.isArray(t)?Pt({prim:e,args:t},e):t.prim===e&&(null===(r=t.args)||void 0===r?void 0:r.length)>2?f(f({},t),{args:[t.args[0],{prim:e,args:null===(n=t.args)||void 0===n?void 0:n.slice(1)}]}):t}function Tt(t,e){var r=Pt(t),n=Pt(e);return r.prim===n.prim&&(void 0===r.args&&void 0===n.args||void 0!==r.args&&void 0!==n.args&&r.args.length===n.args.length&&r.args.every((function(t,e){var r;return Tt(t,null===(r=n.args)||void 0===r?void 0:r[e])})))&&(void 0===r.annots&&void 0===n.annots||void 0!==r.annots&&void 0!==n.annots&&r.annots.length===n.annots.length&&r.annots.every((function(t,e){var r;return t===(null===(r=n.annots)||void 0===r?void 0:r[e])})))}var It=function(){function t(t){if(this[A]=!0,this.root=xt(t,0),this.root instanceof O)this.bigMap=this.root;else if(this.isExpressionExtended(t)&&"pair"===t.prim){var e=t.args[0];this.isExpressionExtended(e)&&"big_map"===e.prim&&(this.bigMap=new O(e,0,xt))}}return t.isSchema=function(t){return t&&!0===t[At]},t.fromRPCResponse=function(e){var r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.find((function(t){return"storage"===t.prim}));if(!r||!Array.isArray(r.args))throw new Error("Invalid rpc response passed as arguments");return new t(r.args[0])},t.prototype.isExpressionExtended=function(t){return"prim"in t&&Array.isArray(t.args)},t.prototype.removeTopLevelAnnotation=function(t){return(this.root instanceof P||this.root instanceof S)&&this.root.hasAnnotations()&&"object"==typeof t&&1===Object.keys(t).length?t[Object.keys(t)[0]]:t},t.prototype.Execute=function(t,e){var r=this.root.Execute(t,e);return this.removeTopLevelAnnotation(r)},t.prototype.Typecheck=function(t){if(this.root instanceof O&&Number.isInteger(Number(t)))return!0;try{return this.root.EncodeObject(t),!0}catch(t){return!1}},t.prototype.ExecuteOnBigMapDiff=function(t,e){if(!this.bigMap)throw new Error("No big map schema");if(!Array.isArray(t))throw new Error("Invalid big map diff. It must be an array");var r=t.map((function(t){return{args:[t.key,t.value]}}));return this.bigMap.Execute(r,e)},t.prototype.ExecuteOnBigMapValue=function(t,e){if(!this.bigMap)throw new Error("No big map schema");return this.bigMap.ValueSchema.Execute(t,e)},t.prototype.EncodeBigMapKey=function(t){if(!this.bigMap)throw new Error("No big map schema");try{return this.bigMap.KeySchema.ToBigMapKey(t)}catch(t){throw new Error("Unable to encode big map key: "+t)}},t.prototype.Encode=function(t){try{return this.root.EncodeObject(t)}catch(t){if(t instanceof g)throw t;throw new Error("Unable to encode storage object. "+t)}},t.prototype.ExtractSchema=function(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())},t.prototype.ComputeState=function(t,e){var r,n=this;if(!this.bigMap)throw new Error("No big map schema");var i=t.reduce((function(t,e){return f(f({},t),n.ExecuteOnBigMapDiff(e.contents[0].metadata.operation_result.big_map_diff))}),{});return f(f({},this.Execute(e)),((r={})[this.bigMap.annot()]=i,r))},t.prototype.FindFirstInTopLevelPair=function(t,e){return this.findValue(this.root.val,t,e)},t.prototype.findValue=function(t,e,r){if(Tt(r,t))return e;if(Array.isArray(t)||"pair"===t.prim){var n=Pt(t),i=Pt(e,"Pair");if(void 0===n.args||void 0===i.args)throw new Error("Tokens have no arguments");return this.findValue(n.args[0],i.args[0],r)||this.findValue(n.args[1],i.args[1],r)}},t}();A=At;var Rt=function(){function t(t){this.root=xt(t,0)}return t.fromRPCResponse=function(e){var r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.find((function(t){return"parameter"===t.prim}));if(!r||!Array.isArray(r.args))throw new Error("Invalid rpc response passed as arguments");return new t(r.args[0])},Object.defineProperty(t.prototype,"isMultipleEntryPoint",{get:function(){return this.root instanceof S||this.root instanceof G&&this.root.subToken()instanceof S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAnnotation",{get:function(){return!this.isMultipleEntryPoint||"0"!==Object.keys(this.ExtractSchema())[0]},enumerable:!1,configurable:!0}),t.prototype.Execute=function(t,e){return this.root.Execute(t,e)},t.prototype.Encode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return this.root.Encode(t.reverse())}catch(t){if(t instanceof g)throw t;throw new Error("Unable to encode storage object. "+t)}},t.prototype.ExtractSchema=function(){return this.root.ExtractSchema()},t.prototype.ExtractSignatures=function(){return this.root.ExtractSignature()},t}(),jt=Symbol();t.AddressValidationError=j,t.BigMapValidationError=E,t.BytesValidationError=H,t.ChainIDValidationError=ot,t.ContractValidationError=L,t.EncodeTicketError=at,t.IntValidationError=z,t.KeyHashValidationError=$,t.KeyValidationError=J,t.ListValidationError=U,t.MapTypecheckError=v,t.MapValidationError=k,t.MichelsonMap=m,t.MutezValidationError=F,t.NatValidationError=T,t.ParameterSchema=Rt,t.SaplingStateValue={},t.Schema=It,t.SetValidationError=nt,t.SignatureValidationError=Z,t.UnitValue=jt,t.VERSION={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this)}).call(this,t("buffer").Buffer)},{"@taquito/utils":6,"bignumber.js":9,buffer:15,"fast-json-stable-stringify":24}],4:[function(t,e,r){!function(n,i){"object"==typeof r&&void 0!==e?i(r,t("@taquito/http-utils"),t("bignumber.js")):"function"==typeof define&&define.amd?define(["exports","@taquito/http-utils","bignumber.js"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).taquitoRpc={},n.httpUtils,n.BigNumber)}(this,(function(e,r,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=i(n),s=function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function u(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function c(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var l,f=t("lodash/get"),p=t("lodash/set");function h(t,e){var r=Array.isArray(t);void 0===e&&(e=Object.keys(t));var n=r?[]:{};return e.forEach((function(e){var r,i=f(t,e);if(void 0!==i){if(Array.isArray(i))return r=h(i),void p(n,e,r);r=new o.default(i),p(n,e,r)}})),n}e.OpKind=void 0,(l=e.OpKind||(e.OpKind={})).ORIGINATION="origination",l.DELEGATION="delegation",l.REVEAL="reveal",l.TRANSACTION="transaction",l.ACTIVATION="activate_account",l.ENDORSEMENT="endorsement",l.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",l.SEED_NONCE_REVELATION="seed_nonce_revelation",l.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",l.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",l.PROPOSALS="proposals",l.BALLOT="ballot",l.FAILING_NOOP="failing_noop";var d={block:"head"},b=function(){function t(t,e,n){void 0===e&&(e="main"),void 0===n&&(n=new r.HttpBackend),this.url=t,this.chain=e,this.httpBackend=n}return t.prototype.createURL=function(t){return""+this.url.replace(/\/+$/g,"")+t},t.prototype.getBlockHash=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/hash"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getLiveBlocks=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/live_blocks"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getBalance=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/balance"),method:"GET"})];case 1:return e=n.sent(),[2,new o.default(e)]}}))}))},t.prototype.getStorage=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/storage"),method:"GET"})]}))}))},t.prototype.getScript=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/script"),method:"GET"})]}))}))},t.prototype.getContract=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t),method:"GET"})];case 1:return e=n.sent(),[2,s(s({},e),{balance:new o.default(e.balance)})]}}))}))},t.prototype.getManagerKey=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/manager_key"),method:"GET"})]}))}))},t.prototype.getDelegate=function(t,e){var n=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){var e,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+n+"/context/contracts/"+t+"/delegate"),method:"GET"})];case 1:return e=o.sent(),[3,3];case 2:if(!((i=o.sent())instanceof r.HttpResponseError&&i.status===r.STATUS_CODE.NOT_FOUND))throw i;return e=null,[3,3];case 3:return[2,e]}}))}))},t.prototype.getBigMapKey=function(t,e,r){var n=(void 0===r?d:r).block;return u(this,void 0,void 0,(function(){return c(this,(function(r){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+n+"/context/contracts/"+t+"/big_map_get"),method:"POST"},e)]}))}))},t.prototype.getBigMapExpr=function(t,e,r){var n=(void 0===r?d:r).block;return u(this,void 0,void 0,(function(){return c(this,(function(r){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+n+"/context/big_maps/"+t+"/"+e),method:"GET"})]}))}))},t.prototype.getDelegates=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/delegates/"+t),method:"GET"})];case 1:return[2,{deactivated:(e=n.sent()).deactivated,balance:new o.default(e.balance),frozen_balance:new o.default(e.frozen_balance),frozen_balance_by_cycle:e.frozen_balance_by_cycle.map((function(t){var e=t.deposit,r=t.deposits,n=t.fees,i=t.rewards,o=a(t,["deposit","deposits","fees","rewards"]),u=h({deposit:e,deposits:r,fees:n,rewards:i},["deposit","deposits","fees","rewards"]);return s(s({},o),{deposit:u.deposit,deposits:u.deposits,fees:u.fees,rewards:u.rewards})})),staking_balance:new o.default(e.staking_balance),delegated_contracts:e.delegated_contracts,delegated_balance:new o.default(e.delegated_balance),grace_period:e.grace_period,voting_power:e.voting_power}]}}))}))},t.prototype.getConstants=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){var t,r;return c(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/context/constants"),method:"GET"})];case 1:return t=n.sent(),r=h(t,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy"]),[2,s(s({},t),r)]}}))}))},t.prototype.getBlock=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getBlockHeader=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/header"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getBlockMetadata=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/metadata"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getBakingRights=function(t,e){void 0===t&&(t={});var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/baking_rights"),method:"GET",query:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.getEndorsingRights=function(t,e){void 0===t&&(t={});var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/endorsing_rights"),method:"GET",query:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.getBallotList=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/ballot_list"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getBallots=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/ballots"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getCurrentPeriodKind=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_period_kind"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getCurrentProposal=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_proposal"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getCurrentQuorum=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_quorum"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getVotesListings=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/listings"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getProposals=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/proposals"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.forgeOperations=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/forge/operations"),method:"POST"},t)]}))}))},t.prototype.injectOperation=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},t)]}))}))},t.prototype.preapplyOperations=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/preapply/operations"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getEntrypoints=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/entrypoints"),method:"GET"})];case 1:return[2,e.sent()]}}))}))},t.prototype.runOperation=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/run_operation"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},t.prototype.runCode=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/run_code"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getChainId=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/chain_id"),method:"GET"})]}))}))},t.prototype.packData=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){var e,n,i,u,l;return c(this,(function(c){switch(c.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/pack_data"),method:"POST"},t)];case 1:return e=c.sent(),n=e.gas,i=a(e,["gas"]),u=n,(l=new o.default(n||"")).isNaN()||(u=l),[2,s({gas:u},i)]}}))}))},t.prototype.getRpcUrl=function(){return this.url},t.prototype.getCurrentPeriod=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_period"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getSuccessorPeriod=function(t){var e=(void 0===t?d:t).block;return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/successor_period"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},t.prototype.getSaplingDiffById=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/sapling/"+t+"/get_diff"),method:"GET"})]}))}))},t.prototype.getSaplingDiffByContract=function(t,e){var r=(void 0===e?d:e).block;return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/single_sapling_get_diff"),method:"GET"})]}))}))},t}();e.RpcClient=b,e.VERSION={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},Object.defineProperty(e,"__esModule",{value:!0})}))},{"@taquito/http-utils":1,"bignumber.js":9,"lodash/get":93,"lodash/set":100}],5:[function(t,e,r){!function(n,i){"object"==typeof r&&void 0!==e?i(r,t("@taquito/rpc"),t("rxjs"),t("rxjs/operators"),t("@taquito/michelson-encoder"),t("bignumber.js"),t("@taquito/http-utils"),t("@taquito/utils"),t("@taquito/michel-codec")):"function"==typeof define&&define.amd?define(["exports","@taquito/rpc","rxjs","rxjs/operators","@taquito/michelson-encoder","bignumber.js","@taquito/http-utils","@taquito/utils","@taquito/michel-codec"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).taquito={},n.rpc,n.rxjs,n.operators,n.michelsonEncoder,n.BigNumber,n.httpUtils,n.utils,n.michelCodec)}(this,(function(t,e,r,n,i,o,s,a,u){"use strict";function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=c(o),f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var h=function(){return(h=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function d(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function b(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function y(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function v(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var _,w,E,O,S=function(){function t(t){this.context=t}return t.prototype.forge=function(t){var e=t.branch,r=t.contents;return this.context.rpc.forgeOperations({branch:e,contents:r})},t}(),x=function(){function t(t){this.context=t}return t.prototype.inject=function(t){return this.context.rpc.injectOperation(t)},t}(),A=function(){this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."},P=function(){function t(){}return t.prototype.publicKey=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){throw new A}))}))},t.prototype.publicKeyHash=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){throw new A}))}))},t.prototype.secretKey=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){throw new A}))}))},t.prototype.sign=function(t,e){return b(this,void 0,void 0,(function(){return y(this,(function(t){throw new A}))}))},t}();t.DEFAULT_GAS_LIMIT=void 0,(_=t.DEFAULT_GAS_LIMIT||(t.DEFAULT_GAS_LIMIT={}))[_.DELEGATION=10600]="DELEGATION",_[_.ORIGINATION=10600]="ORIGINATION",_[_.TRANSFER=10600]="TRANSFER",_[_.REVEAL=1100]="REVEAL",t.DEFAULT_FEE=void 0,(w=t.DEFAULT_FEE||(t.DEFAULT_FEE={}))[w.DELEGATION=1257]="DELEGATION",w[w.ORIGINATION=1e4]="ORIGINATION",w[w.TRANSFER=1e4]="TRANSFER",w[w.REVEAL=374]="REVEAL",t.DEFAULT_STORAGE_LIMIT=void 0,(E=t.DEFAULT_STORAGE_LIMIT||(t.DEFAULT_STORAGE_LIMIT={}))[E.DELEGATION=0]="DELEGATION",E[E.ORIGINATION=257]="ORIGINATION",E[E.TRANSFER=257]="TRANSFER",E[E.REVEAL=0]="REVEAL",t.Protocols=void 0,(O=t.Protocols||(t.Protocols={})).Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",O.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",O.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",O.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",O.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",O.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",O.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",O.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV";var T,I,R={"004":[t.Protocols.Pt24m4xi],"005":[t.Protocols.PsBABY5H,t.Protocols.PsBabyM1],"006":[t.Protocols.PsCARTHA],"007":[t.Protocols.PsDELPH1],"008":[t.Protocols.PtEdo2Zk],"009":[t.Protocols.PsFLorena],"010":[t.Protocols.PtGRANADs]};t.DefaultLambdaAddresses=void 0,(T=t.DefaultLambdaAddresses||(t.DefaultLambdaAddresses={})).MAINNET="KT1CPuTzwC7h7uLXd5WQmpMFso1HxrLBUtpE",T.CARTHAGENET="KT1VAy1o1FGiXYfD3YT7x7k5eF5HSHhmc1u6",T.DELPHINET="KT19abMFs3haqyKYwqdLjK9GbtofryZLvpiK",T.EDONET="KT1A64nVZDccAHGAsf1ZyVajXZcbiwjV3SnN",T.FLORENCENET="KT1KCe3YqGnudsiCWb5twbe2DH5T3EMdLpSE",T.GRANADANET="KT1BCun2vsA4GBQvsKAuGD5x873MfW2jsN9z",t.ChainIds=void 0,(I=t.ChainIds||(t.ChainIds={})).MAINNET="NetXdQprcVkpaWU",I.CARTHAGENET="NetXjD3HPJJjmcd",I.DELPHINET="NetXm8tYqnMWky1",I.EDONET="NetXSgo1ZT2DRUG",I.FLORENCENET="NetXxkAx4woPLyu",I.GRANADANET="NetXz969SFaFn8k";function j(t){switch(t){case"tz":return 6;case"mtz":return 3;case"mutez":default:return 0}}function N(t,e,r){void 0===t&&(t="mutez"),void 0===e&&(e="mutez");var n=new l.default(r);return n.isNaN()?r:n.multipliedBy(Math.pow(10,j(t))).dividedBy(Math.pow(10,j(e)))}var k=function(t,e,r){this.smartContractMethodName=t,this.sigs=e,this.args=r,this.name="Invalid parameters error",this.message=t+" Received "+r.length+" arguments while expecting one of the following signatures ("+JSON.stringify(e)+")"},C=function(){this.name="Undefined LambdaContract error",this.message="This might happen if you are using a sandbox. Please provide the address of a lambda contract as a parameter of the read method."},M=function(t){this.source=t,this.name="Invalid delegation source error",this.message="Since Babylon delegation source can no longer be a contract address "+t+". Please use the smart contract abstraction to set your delegate."},L=function(t,e){this.message=t,this.data=e,this.name="InvalidCodeParameter"},D=function(t,e){this.message=t,this.data=e,this.name="InvalidInitParameter"},U=function(r){var n=r.code,o=r.init,s=r.balance,a=void 0===s?"0":s,u=r.delegate,c=r.storage,l=r.fee,f=void 0===l?t.DEFAULT_FEE.ORIGINATION:l,p=r.gasLimit,h=void 0===p?t.DEFAULT_GAS_LIMIT.ORIGINATION:p,d=r.storageLimit,v=void 0===d?t.DEFAULT_STORAGE_LIMIT.ORIGINATION:d,m=r.mutez,g=void 0!==m&&m;return b(void 0,void 0,void 0,(function(){var t,r,s,l,p;return y(this,(function(d){if(void 0!==c&&void 0!==o)throw new Error("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(n))throw new L("Wrong code parameter type, expected an array",n);if(void 0!==c){if(void 0===(null==(r=n.find((function(t){return"prim"in t&&"storage"===t.prim})))?void 0:r.args))throw new L("The storage section is missing from the script",n);s=new i.Schema(r.args[0]),t=s.Encode(c)}else{if(void 0===o||"object"!=typeof o)throw new D("Wrong init parameter type, expected JSON Michelson",o);t=o}return l={code:n,storage:t},p={kind:e.OpKind.ORIGINATION,fee:f,gas_limit:h,storage_limit:v,balance:g?a.toString():N("tz","mutez",a).toString(),script:l},u&&(p.delegate=u),[2,p]}))}))},B=function(r){var n=r.to,i=r.amount,o=r.parameter,s=r.fee,a=void 0===s?t.DEFAULT_FEE.TRANSFER:s,u=r.gasLimit,c=void 0===u?t.DEFAULT_GAS_LIMIT.TRANSFER:u,l=r.storageLimit,f=void 0===l?t.DEFAULT_STORAGE_LIMIT.TRANSFER:l,p=r.mutez,h=void 0!==p&&p;return b(void 0,void 0,void 0,(function(){return y(this,(function(t){return[2,{kind:e.OpKind.TRANSACTION,fee:a,gas_limit:c,storage_limit:f,amount:h?i.toString():N("tz","mutez",i).toString(),destination:n,parameters:o}]}))}))},F=function(r){var n=r.delegate,i=r.source,o=r.fee,s=void 0===o?t.DEFAULT_FEE.DELEGATION:o,a=r.gasLimit,u=void 0===a?t.DEFAULT_GAS_LIMIT.DELEGATION:a,c=r.storageLimit,l=void 0===c?t.DEFAULT_STORAGE_LIMIT.DELEGATION:c;return b(void 0,void 0,void 0,(function(){return y(this,(function(t){return[2,{kind:e.OpKind.DELEGATION,source:i,fee:s,gas_limit:u,storage_limit:l,delegate:n}]}))}))},V=function(r,n){var i=r.fee,o=void 0===i?t.DEFAULT_FEE.DELEGATION:i,s=r.gasLimit,a=void 0===s?t.DEFAULT_GAS_LIMIT.DELEGATION:s,u=r.storageLimit,c=void 0===u?t.DEFAULT_STORAGE_LIMIT.DELEGATION:u;return b(void 0,void 0,void 0,(function(){return y(this,(function(t){return[2,{kind:e.OpKind.DELEGATION,fee:o,gas_limit:a,storage_limit:c,delegate:n}]}))}))},H=function(r,n,i){var o=r.fee,s=void 0===o?t.DEFAULT_FEE.REVEAL:o,a=r.gasLimit,u=void 0===a?t.DEFAULT_GAS_LIMIT.REVEAL:a,c=r.storageLimit,l=void 0===c?t.DEFAULT_STORAGE_LIMIT.REVEAL:c;return b(void 0,void 0,void 0,(function(){return y(this,(function(t){return[2,{kind:e.OpKind.REVEAL,fee:s,public_key:i,source:n,gas_limit:u,storage_limit:l}]}))}))},K=function(t,e){return h(h({},t),{kind:e})},G=function(t,e){if(Array.isArray(t)){var r=t.find((function(t){return t.kind===e}));if(r&&q(r,e))return r}},q=function(t,e){return t.kind===e},z=function(t){return-1!==["transaction","delegation","origination","reveal"].indexOf(t.kind)},W=function(t){return-1!==["transaction","delegation","origination"].indexOf(t.kind)},Y=function(t){return"metadata"in t},J=function(t){return Y(t)&&"operation_result"in t.metadata},X=function(t){this.errors=t,this.name="TezosOperationError";var e=t[t.length-1];this.id=e.id,this.kind=e.kind,this.message="("+this.kind+") "+this.id,"with"in e&&e.with.string&&(this.message=e.with.string)},$=function(t){this.result=t,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"},Q=function(t){for(var e=Array.isArray(t)?t:[t],r=[],n=0;n<e.length;n++)for(var i=0;i<e[n].contents.length;i++){var o=e[n].contents[i];J(o)&&(r.push(h({fee:o.fee},o.metadata.operation_result)),Array.isArray(o.metadata.internal_operation_results)&&o.metadata.internal_operation_results.forEach((function(t){return r.push(t.result)})))}return r},Z=function(t,e){var r,n;void 0===e&&(e="failed");for(var i,o=Array.isArray(t)?t:[t],s=[],a=0;a<o.length;a++)for(var u=0;u<o[a].contents.length;u++){var c=o[a].contents[u];if(Y(c)&&(J(c)&&c.metadata.operation_result.status===e&&(s=s.concat(c.metadata.operation_result.errors||[])),Y(i=c)&&"internal_operation_results"in i.metadata&&Array.isArray(c.metadata.internal_operation_results)))try{for(var l=(r=void 0,v(c.metadata.internal_operation_results)),f=l.next();!f.done;f=l.next()){var p=f.value;"result"in p&&p.result.status===e&&(s=s.concat(p.result.errors||[]))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}return s},tt=function(){function t(t,e,i,o){var s=this;this.hash=t,this.raw=e,this.results=i,this.context=o,this._pollingConfig$=new r.ReplaySubject(1),this._currentHeadPromise=void 0,this.currentHead$=r.defer((function(){return s._currentHeadPromise||(s._currentHeadPromise=s.context.rpc.getBlock(),r.timer(1e3).pipe(n.first()).subscribe((function(){s._currentHeadPromise=void 0}))),r.from(s._currentHeadPromise)})),this.polling$=r.defer((function(){return s._pollingConfig$.pipe(n.tap((function(t){var e=t.timeout,r=t.interval;if(e<=0)throw new Error("Timeout must be more than 0");if(r<=0)throw new Error("Interval must be more than 0")})),n.map((function(t){return h(h({},t),{timeoutAt:Math.ceil(t.timeout/t.interval)+1,count:0})})),n.switchMap((function(t){return r.timer(0,1e3*t.interval).pipe(n.mapTo(t))})),n.tap((function(t){if(t.count++,t.count>t.timeoutAt)throw new Error("Confirmation polling timed out")})))})),this.confirmed$=this.polling$.pipe(n.switchMapTo(this.currentHead$),n.map((function(t){for(var e=3;e>=0;e--)t.operations[e].forEach((function(e){e.hash===s.hash&&(s._foundAt=t.header.level)}));if(t.header.level-s._foundAt>=0)return s._foundAt})),n.filter((function(t){return void 0!==t})),n.first(),n.shareReplay()),this._foundAt=Number.POSITIVE_INFINITY,this.confirmed$.pipe(n.first()).subscribe()}return Object.defineProperty(t.prototype,"includedInBlock",{get:function(){return this._foundAt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revealOperation",{get:function(){return Array.isArray(this.results)&&this.results.find((function(t){return"reveal"===t.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revealStatus",{get:function(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.results.map((function(t){return J(t)?t.metadata.operation_result.status:"unknown"}))[0]||"unknown"},enumerable:!1,configurable:!0}),t.prototype.confirmation=function(t,e,r){return b(this,void 0,void 0,(function(){var i,o,s,a,u,c,l=this;return y(this,(function(f){switch(f.label){case 0:if(void 0!==t&&t<1)throw new Error("Confirmation count must be at least 1");return void 0===this.context.config.confirmationPollingIntervalSecond?[3,1]:(o=this.context.config.confirmationPollingIntervalSecond,[3,3]);case 1:return[4,this.context.getConfirmationPollingInterval()];case 2:o=f.sent(),f.label=3;case 3:if(i=o,s=this.context.config,a=s.defaultConfirmationCount,u=s.confirmationPollingTimeoutSecond,this._pollingConfig$.next({interval:e||i,timeout:r||u}),void 0===(c=void 0!==t?t:a))throw new Error("Default confirmation count can not be undefined!");return[2,new Promise((function(t,e){l.confirmed$.pipe(n.switchMap((function(){return l.polling$})),n.switchMap((function(){return l.currentHead$})),n.filter((function(t){return t.header.level-l._foundAt>=c-1})),n.first()).subscribe((function(e){t(l._foundAt+(c-1))}),e)}))]}}))}))},t}(),et=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return p(e,t),e.prototype.sumProp=function(t,e){return t.reduce((function(t,r){return e in r?Number(r[e])+t:t}),0)},Object.defineProperty(e.prototype,"status",{get:function(){return this.results.filter((function(t){return-1!==nt.indexOf(t.kind)})).map((function(t){return J(t)?t.metadata.operation_result.status:"unknown"}))[0]||"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.sumProp(this.params,"fee")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.sumProp(this.params,"gas_limit")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.sumProp(this.params,"storage_limit")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){return String(this.sumProp(Q({contents:this.results}),"consumed_gas"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return String(this.sumProp(Q({contents:this.results}),"paid_storage_size_diff"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return Z({contents:this.results})},enumerable:!1,configurable:!0}),e}(tt),rt=function(){function r(t){this.context=t}return Object.defineProperty(r.prototype,"rpc",{get:function(){return this.context.rpc},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"signer",{get:function(){return this.context.signer},enumerable:!1,configurable:!0}),r.prototype.isRevealOpNeeded=function(t,e){return b(this,void 0,void 0,(function(){return y(this,(function(r){switch(r.label){case 0:return[4,this.isAccountRevealRequired(e)];case 1:return[2,!(!r.sent()||!this.isRevealRequiredForOpType(t))]}}))}))},r.prototype.isAccountRevealRequired=function(t){return b(this,void 0,void 0,(function(){var e;return y(this,(function(r){switch(r.label){case 0:return[4,this.rpc.getManagerKey(t)];case 1:return e=r.sent(),[2,!(e&&"object"==typeof e?!!e.key:!!e)]}}))}))},r.prototype.isRevealRequiredForOpType=function(t){var e,r,n=!1;try{for(var i=v(t),o=i.next();!o.done;o=i.next()){var s=o.value;W(s)&&(n=!0)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},r.prototype.prepareOperation=function(r){var n=r.operation,i=r.source;return b(this,void 0,void 0,(function(){var r,o,s,a,u,c,l,f,p,d,b,v,_,w,E,O,S,x,A,P;return y(this,(function(y){switch(y.label){case 0:return o={},s=[],u=this.rpc.getBlockHeader(),c=this.rpc.getBlockMetadata(),s=Array.isArray(n)?g([],m(n)):[n],[4,this.signer.publicKeyHash()];case 1:l=y.sent(),f=Promise.resolve(void 0),p=0,y.label=2;case 2:return p<s.length?W(s[p])||"reveal"===s[p].kind?[4,this.rpc.getContract(l)]:[3,4]:[3,5];case 3:return d=y.sent().counter,f=Promise.resolve(d),[3,5];case 4:return p++,[3,2];case 5:return[4,Promise.all([u,c,f])];case 6:if(b=m.apply(void 0,[y.sent(),3]),v=b[0],_=b[1],w=b[2],!v)throw new Error("Unable to fetch latest block header");if(!_)throw new Error("Unable to fetch latest metadata");return a=v,r=parseInt(w||"0",10),(!o[l]||o[l]<r)&&(o[l]=r),E=function(t){return{counter:""+ ++o[l],fee:void 0===t.fee?"0":""+t.fee,gas_limit:void 0===t.gas_limit?"0":""+t.gas_limit,storage_limit:void 0===t.storage_limit?"0":""+t.storage_limit}},O=function(t){return{source:void 0===t.source?i||l:t.source}},S=function(r){return r.map((function(r){switch(r.kind){case e.OpKind.ACTIVATION:return h({},r);case e.OpKind.REVEAL:return h(h(h({},r),O(r)),E(r));case e.OpKind.ORIGINATION:return h(h(h(h({},r),{balance:void 0!==r.balance?""+r.balance:"0"}),O(r)),E(r));case e.OpKind.TRANSACTION:var n=h(h(h(h({},r),{amount:void 0!==r.amount?""+r.amount:"0"}),O(r)),E(r));if(n.source.toLowerCase().startsWith("kt1"))throw new Error("KT1 addresses are not supported as source since "+t.Protocols.PsBabyM1);return n;case e.OpKind.DELEGATION:return h(h(h({},r),O(r)),E(r));default:throw new Error("Unsupported operation")}}))},x=a.hash,A=S(s),P=_.next_protocol,[2,{opOb:{branch:x,contents:A,protocol:P},counter:r}]}}))}))},r.prototype.forge=function(t){var e=t.opOb,r=e.branch,n=e.contents,i=e.protocol,o=t.counter;return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.context.forger.forge({branch:r,contents:n})];case 1:return[2,{opbytes:t.sent(),opOb:{branch:r,contents:n,protocol:i},counter:o}]}}))}))},r.prototype.simulate=function(t){return b(this,void 0,void 0,(function(){var e;return y(this,(function(r){switch(r.label){case 0:return e={},[4,this.rpc.runOperation(t)];case 1:return[2,(e.opResponse=r.sent(),e.op=t,e.context=this.context.clone(),e)]}}))}))},r.prototype.estimate=function(t,e){var r=t.fee,n=t.gasLimit,i=t.storageLimit,o=d(t,["fee","gasLimit","storageLimit"]);return b(this,void 0,void 0,(function(){var t,s,a,u;return y(this,(function(c){switch(c.label){case 0:return t=r,s=n,a=i,void 0!==r&&void 0!==n&&void 0!==i?[3,2]:[4,e(h({fee:r,gasLimit:n,storageLimit:i},o))];case 1:u=c.sent(),void 0===t&&(t=u.suggestedFeeMutez),void 0===s&&(s=u.gasLimit),void 0===a&&(a=u.storageLimit),c.label=2;case 2:return[2,{fee:t,gasLimit:s,storageLimit:a}]}}))}))},r.prototype.signAndInject=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a;return y(this,(function(u){switch(u.label){case 0:return[4,this.signer.sign(t.opbytes,new Uint8Array([3]))];case 1:return e=u.sent(),t.opbytes=e.sbytes,t.opOb.signature=e.prefixSig,r=[],[4,this.rpc.preapplyOperations([t.opOb])];case 2:if(n=u.sent(),!Array.isArray(n))throw new $(n);for(i=0;i<n.length;i++)for(o=0;o<n[i].contents.length;o++)r.push(n[i].contents[o]);if((s=Z(n)).length)throw new X(s);return a={},[4,this.context.injector.inject(t.opbytes)];case 3:return[2,(a.hash=u.sent(),a.forgedBytes=t,a.opResponse=r,a.context=this.context.clone(),a)]}}))}))},r}(),nt=[e.OpKind.ACTIVATION,e.OpKind.ORIGINATION,e.OpKind.TRANSACTION,e.OpKind.DELEGATION],it=function(t){function r(e,r){var n=t.call(this,e)||this;return n.estimator=r,n.operations=[],n}return p(r,t),r.prototype.withTransfer=function(t){return this.operations.push(h({kind:e.OpKind.TRANSACTION},t)),this},r.prototype.withContractCall=function(t){return this.withTransfer(t.toTransferParams())},r.prototype.withDelegation=function(t){return this.operations.push(h({kind:e.OpKind.DELEGATION},t)),this},r.prototype.withActivation=function(t){var r=t.pkh,n=t.secret;return this.operations.push({kind:e.OpKind.ACTIVATION,pkh:r,secret:n}),this},r.prototype.withOrigination=function(t){return this.operations.push(h({kind:e.OpKind.ORIGINATION},t)),this},r.prototype.getRPCOp=function(t){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:switch(t.kind){case e.OpKind.TRANSACTION:return[3,1];case e.OpKind.ORIGINATION:return[3,2];case e.OpKind.DELEGATION:return[3,4];case e.OpKind.ACTIVATION:return[3,5]}return[3,6];case 1:return[2,B(h({},t))];case 2:return r=U,[4,this.context.parser.prepareCodeOrigination(h({},t))];case 3:return[2,r.apply(void 0,[n.sent()])];case 4:return[2,F(h({},t))];case 5:return[2,h({},t)];case 6:throw new Error("Unsupported operation kind: "+t.kind)}}))}))},r.prototype.with=function(t){var r,n;try{for(var i=v(t),o=i.next();!o.done;o=i.next()){var s=o.value;switch(s.kind){case e.OpKind.TRANSACTION:this.withTransfer(s);break;case e.OpKind.ORIGINATION:this.withOrigination(s);break;case e.OpKind.DELEGATION:this.withDelegation(s);break;case e.OpKind.ACTIVATION:this.withActivation(s);break;default:throw new Error("Unsupported operation kind: "+s.kind)}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},r.prototype.send=function(t){return b(this,void 0,void 0,(function(){var r,n,i,o,s,a,u,c,l,f,p,d,m,g,_,w,E,O,S,x,A,P,T,I,R,j,N,k=this;return y(this,(function(C){switch(C.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return r=C.sent(),[4,this.signer.publicKey()];case 2:return n=C.sent(),[4,this.estimator.batch(this.operations)];case 3:return i=C.sent(),[4,this.isRevealOpNeeded(this.operations,r)];case 4:o=C.sent(),s=o?1:0,a=[],C.label=5;case 5:C.trys.push([5,13,14,15]),u=v(this.operations),c=u.next(),C.label=6;case 6:return c.done?[3,12]:(l=c.value,z(l)?[4,this.estimate(l,(function(){return b(k,void 0,void 0,(function(){return y(this,(function(t){return[2,i[s]]}))}))}))]:[3,9]);case 7:return f=C.sent(),d=(p=a).push,[4,this.getRPCOp(h(h({},l),f))];case 8:return d.apply(p,[C.sent()]),[3,10];case 9:a.push(h({},l)),C.label=10;case 10:s++,C.label=11;case 11:return c=u.next(),[3,6];case 12:return[3,15];case 13:return m=C.sent(),j={error:m},[3,15];case 14:try{c&&!c.done&&(N=u.return)&&N.call(u)}finally{if(j)throw j.error}return[7];case 15:return o?(g={kind:e.OpKind.REVEAL},[4,this.estimate(g,(function(){return b(k,void 0,void 0,(function(){return y(this,(function(t){return[2,i[0]]}))}))}))]):[3,18];case 16:return _=C.sent(),E=(w=a).unshift,[4,H(h({},_),r,n)];case 17:E.apply(w,[C.sent()]),C.label=18;case 18:return O=t&&t.source||r,[4,this.prepareOperation({operation:a,source:O})];case 19:return S=C.sent(),[4,this.forge(S)];case 20:return x=C.sent(),[4,this.signAndInject(x)];case 21:return A=C.sent(),P=A.hash,T=A.context,I=A.forgedBytes,R=A.opResponse,[2,new et(P,a,O,I,R,T)]}}))}))},r}(rt),ot=function(){function t(t,e){this.context=t,this.estimator=e}return t.prototype.batch=function(t){var e=new it(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e},t}(),st=function(t,e){var r=void 0===e?{ALLOCATION_BURN:257,ORIGINATION_BURN:257}:e,n=r.ALLOCATION_BURN,i=r.ORIGINATION_BURN,o=Q({contents:t}),s=new l.default(0),a=new l.default(0),u=new l.default(0),c=new l.default(0),f=new l.default(0),p=new l.default(0);return o.forEach((function(t){u=u.plus(t.fee||0),c=c.plus(Array.isArray(t.originated_contracts)?t.originated_contracts.length*i:0),f=f.plus("allocated_destination_contract"in t?n:0),s=s.plus(t.consumed_gas||0),p=p.plus("paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0)})),a=a.plus(f).plus(c).plus(p),{totalFee:u,totalGas:s,totalStorage:a,totalAllocationBurn:f,totalOriginationBurn:c,totalPaidStorageDiff:p,totalStorageBurn:new l.default(a.multipliedBy(1e3))}},at=function(){this.name="MissedBlockDuringConfirmationError",this.message="Taquito missed a block while waiting for operation confirmation and was not able to find the operation"},ut=function(){function t(t,e,i){var o=this;this.opHash=t,this.context=e,this._newHead$=i,this._operationResult=new r.ReplaySubject(1),this._includedInBlock=new r.ReplaySubject(1),this._included=!1,this.newHead$=this._newHead$.pipe(n.tap((function(t){if(!o._included&&o.lastHead&&t.header.level-o.lastHead.header.level>1)throw new at;o.lastHead=t})),n.shareReplay({bufferSize:1,refCount:!0})),this.confirmed$=this.newHead$.pipe(n.map((function(t){var e,r,n,i;try{for(var s=v(t.operations),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var c=(n=void 0,v(u)),l=c.next();!l.done;l=c.next()){var f=l.value;if(f.hash===o.opHash)return o._included=!0,o._includedInBlock.next(t),o._operationResult.next(f.contents),t}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}})),n.filter((function(t){return void 0!==t})),n.first(),n.shareReplay({bufferSize:1,refCount:!0})),this.confirmed$.pipe(n.first()).subscribe()}return t.prototype.operationResults=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){return[2,this._operationResult.pipe(n.first()).toPromise()]}))}))},t.prototype.receipt=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return t=st,[4,this.operationResults()];case 1:return[2,t.apply(void 0,[e.sent()])]}}))}))},t.prototype.getCurrentConfirmation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){return this._included?[2,r.combineLatest([this._includedInBlock,r.from(this.context.rpc.getBlock())]).pipe(n.map((function(t){var e=m(t,2),r=e[0];return e[1].header.level-r.header.level+1})),n.first()).toPromise()]:[2,0]}))}))},t.prototype.isInCurrentBranch=function(t){return void 0===t&&(t="head"),b(this,void 0,void 0,(function(){var e,r,i,o,s;return y(this,(function(a){switch(a.label){case 0:return this._included?[4,this.context.rpc.getBlockHeader({block:t})]:[2,!0];case 1:return e=a.sent(),[4,this._includedInBlock.pipe(n.first()).toPromise()];case 2:return r=a.sent(),(i=e.level-r.header.level)<=0?[2,!0]:(o=Math.min(r.header.level+i,r.header.level+60),s=Set.bind,[4,this.context.rpc.getLiveBlocks({block:String(o)})]);case 3:return[2,(new(s.apply(Set,[void 0,a.sent()]))).has(r.hash)]}}))}))},t.prototype.confirmationObservable=function(t){var e=this;if(void 0!==t&&t<1)throw new Error("Confirmation count must be at least 1");var i=this.context.config.defaultConfirmationCount,o=void 0!==t?t:i;if(void 0===o)throw new Error("Default confirmation count can not be undefined!");return r.combineLatest([this._includedInBlock,this.newHead$]).pipe(n.distinctUntilChanged((function(t,e){var r=m(t,2)[1],n=m(e,2)[1];return r.hash===n.hash})),n.map((function(t){var r=m(t,2),n=r[0],i=r[1];return{block:i,expectedConfirmation:o,currentConfirmation:i.header.level-n.header.level+1,completed:i.header.level-n.header.level>=o-1,isInCurrentBranch:function(){return e.isInCurrentBranch(i.hash)}}})),n.takeWhile((function(t){return!t.completed}),!0))},t.prototype.confirmation=function(t){return this.confirmationObservable(t).toPromise()},t}(),ct=function(t){function r(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return p(r,t),r.prototype.revealOperation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===e.OpKind.REVEAL}))]}}))}))},r.prototype.status=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return this._included?[4,this.operationResults()]:[2,"pending"];case 1:return[2,t.sent().filter((function(t){return-1!==nt.indexOf(t.kind)})).map((function(t){return J(t)?t.metadata.operation_result.status:"unknown"}))[0]||"unknown"]}}))}))},r}(ut),lt=function(t){function r(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return p(r,t),r.prototype.revealOperation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===e.OpKind.REVEAL}))]}}))}))},r.prototype.delegationOperation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===e.OpKind.DELEGATION}))]}}))}))},r.prototype.status=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return this._included?[4,this.delegationOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},r}(ut),ft=function(t){function r(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return p(r,t),r.prototype.originationOperation=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(r){switch(r.label){case 0:return[4,this.operationResults()];case 1:return t=r.sent(),[2,G(t,e.OpKind.ORIGINATION)]}}))}))},r.prototype.revealOperation=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(r){switch(r.label){case 0:return[4,this.operationResults()];case 1:return t=r.sent(),[2,G(t,e.OpKind.REVEAL)]}}))}))},r.prototype.status=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return this._included?[4,this.originationOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},r.prototype.contract=function(){return b(this,void 0,void 0,(function(){var t,e;return y(this,(function(r){switch(r.label){case 0:return[4,this.originationOperation()];case 1:return t=r.sent(),e=(t.metadata.operation_result.originated_contracts||[])[0],[2,this.context.wallet.at(e)]}}))}))},r}(ut),pt=function(t){function r(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return p(r,t),r.prototype.revealOperation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===e.OpKind.REVEAL}))]}}))}))},r.prototype.transactionOperation=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===e.OpKind.TRANSACTION}))]}}))}))},r.prototype.status=function(){return b(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return this._included?[4,this.transactionOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},r}(ut),ht=function(t,e,i,o){if(void 0===i.config.confirmationPollingTimeoutSecond)throw new Error("Confirmation polling timeout second can not be undefined!");return t.pipe(n.switchMap((function(){return e})),n.distinctUntilKeyChanged("hash"),n.timeoutWith(1e3*i.config.confirmationPollingTimeoutSecond,r.throwError(new Error("Confirmation polling timed out")),o),n.shareReplay({refCount:!0,scheduler:o}))},dt=function(){function t(t){var e,i=this;this.context=t,this.sharedHeadObs=r.defer((function(){return r.from(i.context.rpc.getBlock())})).pipe((e=r.timer(0,1e3),function(t){var i=null;return r.defer((function(){return i||(i=new r.ReplaySubject,t.pipe(n.first()).subscribe(i),e.pipe(n.first()).subscribe((function(){i=null}))),i}))}))}return t.prototype.createNewHeadObservable=function(){return b(this,void 0,void 0,(function(){var t,e;return y(this,(function(n){switch(n.label){case 0:return void 0===this.context.config.confirmationPollingIntervalSecond?[3,1]:(e=this.context.config.confirmationPollingIntervalSecond,[3,3]);case 1:return[4,this.context.getConfirmationPollingInterval()];case 2:e=n.sent(),n.label=3;case 3:return t=e,[2,ht(r.timer(0,1e3*t),this.sharedHeadObs,this.context)]}}))}))},t.prototype.createPastBlockWalker=function(t,e){var i=this;return void 0===e&&(e=1),r.from(this.context.rpc.getBlock({block:t})).pipe(n.switchMap((function(t){return 1===e?r.of(t):r.range(t.header.level,e-1).pipe(n.startWith(t),n.concatMap((function(t){return b(i,void 0,void 0,(function(){return y(this,(function(e){return[2,this.context.rpc.getBlock({block:String(t)})]}))}))})))})))},t.prototype.createHeadObservableFromConfig=function(t){var e=t.blockIdentifier;return b(this,void 0,void 0,(function(){var t,n,i;return y(this,(function(o){switch(o.label){case 0:return t=[],e&&t.push(this.createPastBlockWalker(e)),i=(n=t).push,[4,this.createNewHeadObservable()];case 1:return i.apply(n,[o.sent()]),[2,r.concat.apply(void 0,g([],m(t)))]}}))}))},t.prototype.createOperation=function(t,e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var r,n;return y(this,(function(i){switch(i.label){case 0:return r=ut.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(ut,n.concat([i.sent()])))]}}))}))},t.prototype.createBatchOperation=function(t,e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var r,n;return y(this,(function(i){switch(i.label){case 0:return r=ct.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(ct,n.concat([i.sent()])))]}}))}))},t.prototype.createTransactionOperation=function(t,e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var r,n;return y(this,(function(i){switch(i.label){case 0:return r=pt.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(pt,n.concat([i.sent()])))]}}))}))},t.prototype.createDelegationOperation=function(t,e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var r,n;return y(this,(function(i){switch(i.label){case 0:return r=lt.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(lt,n.concat([i.sent()])))]}}))}))},t.prototype.createOriginationOperation=function(t,e){return void 0===e&&(e={}),b(this,void 0,void 0,(function(){var r,n;return y(this,(function(i){switch(i.label){case 0:return r=ft.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(ft,n.concat([i.sent()])))]}}))}))},t}(),bt=function(t){function r(e){return t.call(this,e)||this}return p(r,t),r.prototype.getBalance=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.rpc.getBalance(t)]}))}))},r.prototype.getDelegate=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.rpc.getDelegate(t)]}))}))},r.prototype.activate=function(t,r){return b(this,void 0,void 0,(function(){var n,i,o,s,a;return y(this,(function(u){switch(u.label){case 0:return n={kind:e.OpKind.ACTIVATION,pkh:t,secret:r},[4,this.prepareOperation({operation:[n],source:t})];case 1:return i=u.sent(),[4,this.forge(i)];case 2:return o=u.sent(),s=o.opbytes+"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",a=tt.bind,[4,this.rpc.injectOperation(s)];case 3:return[2,new(a.apply(tt,[void 0,u.sent(),h(h({},o),{opbytes:s}),[],this.context.clone()]))]}}))}))},r}(rt),yt=100,vt=function(){function t(t,e,r,n,i){void 0===i&&(i=yt),this._milligasLimit=t,this._storageLimit=e,this.opSize=r,this.minimalFeePerStorageByteMutez=n,this.baseFeeMutez=i}return Object.defineProperty(t.prototype,"burnFeeMutez",{get:function(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storageLimit",{get:function(){var t=Math.max(Number(this._storageLimit),0);return t>0?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gasLimit",{get:function(){return this.roundUp(Number(this._milligasLimit)/1e3+100)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operationFeeMutez",{get:function(){return.1*(Number(this._milligasLimit)/1e3+100)+1*Number(this.opSize)},enumerable:!1,configurable:!0}),t.prototype.roundUp=function(t){return Math.ceil(Number(t))},Object.defineProperty(t.prototype,"minimalFeeMutez",{get:function(){return this.roundUp(yt+this.operationFeeMutez)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suggestedFeeMutez",{get:function(){return this.roundUp(this.operationFeeMutez+200)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usingBaseFeeMutez",{get:function(){return Math.max(Number(this.baseFeeMutez),yt)+this.roundUp(this.operationFeeMutez)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCost",{get:function(){return this.minimalFeeMutez+this.burnFeeMutez},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"consumedMilligas",{get:function(){return Number(this._milligasLimit)},enumerable:!1,configurable:!0}),t.createEstimateInstanceFromProperties=function(e){var r,n=0,i=0,o=0,s=0;return e.forEach((function(t){n+=t.milligasLimit,i+=t.storageLimit,o+=t.opSize,s=Math.max(t.minimalFeePerStorageByteMutez,s),t.baseFeeMutez&&(r=r?r+t.baseFeeMutez:t.baseFeeMutez)})),new t(n,i,o,s,r)},t.createArrayEstimateInstancesFromProperties=function(e){return e.map((function(e){return new t(e.milligasLimit,e.storageLimit,e.opSize,e.minimalFeePerStorageByteMutez,e.baseFeeMutez)}))},t}(),mt=function(t,e){return{fee:void 0===t.fee?e.fee:t.fee,gasLimit:void 0===t.gasLimit?e.gasLimit:t.gasLimit,storageLimit:void 0===t.storageLimit?e.storageLimit:t.storageLimit}},gt=function(r){function n(){var t=null!==r&&r.apply(this,arguments)||this;return t.ALLOCATION_STORAGE=257,t.ORIGINATION_STORAGE=257,t.OP_SIZE_REVEAL=128,t}return p(n,r),n.prototype.getAccountLimits=function(t,e){return b(this,void 0,void 0,(function(){var r,n,i,o,s,a;return y(this,(function(u){switch(u.label){case 0:return[4,this.rpc.getBalance(t)];case 1:return r=u.sent(),[4,this.rpc.getConstants()];case 2:return n=u.sent(),i=n.hard_gas_limit_per_operation,o=n.hard_gas_limit_per_block,s=n.hard_storage_limit_per_operation,a=n.cost_per_byte,[2,{fee:0,gasLimit:e?Math.floor(this.ajustGasForBatchOperation(o,i,e).toNumber()):i.toNumber(),storageLimit:Math.floor(l.default.min(r.dividedBy(a),s).toNumber())}]}}))}))},n.prototype.ajustGasForBatchOperation=function(t,e,r){return l.default.min(e,t.div(r+1))},n.prototype.getEstimationPropertiesFromOperationContent=function(t,e,r){var n=this,i=Q({contents:[t]}),o=0,s=0,a=0;return i.forEach((function(t){a+="originated_contracts"in t&&void 0!==t.originated_contracts?t.originated_contracts.length*n.ORIGINATION_STORAGE:0,a+="allocated_destination_contract"in t?n.ALLOCATION_STORAGE:0,o+=Number(t.consumed_gas)||0,s+=Number(t.consumed_milligas)||0,a+="paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0})),0!==o&&0===s&&(s=1e3*o),z(t)?{milligasLimit:s||0,storageLimit:Number(a||0),opSize:e,minimalFeePerStorageByteMutez:r.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:e,minimalFeePerStorageByteMutez:r.toNumber(),baseFeeMutez:0}},n.prototype.prepareEstimate=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f,p,h=this;return y(this,(function(d){switch(d.label){case 0:return[4,this.prepareOperation(t)];case 1:return e=d.sent(),[4,this.forge(e)];case 2:return r=d.sent(),n=r.opbytes,i=r.opOb,o=i.branch,s=i.contents,p={operation:{branch:o,contents:s,signature:"edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg"}},[4,this.rpc.getChainId()];case 3:return p.chain_id=d.sent(),a=p,[4,this.simulate(a)];case 4:return u=d.sent().opResponse,[4,this.rpc.getConstants()];case 5:if(c=d.sent().cost_per_byte,(l=g(g([],m(Z(u,"backtracked"))),m(Z(u)))).length)throw new X(l);return f=1,Array.isArray(t.operation)&&t.operation.length>1&&(f="reveal"===u.contents[0].kind?t.operation.length-1:t.operation.length),[2,u.contents.map((function(t){return h.getEstimationPropertiesFromOperationContent(t,"reveal"===t.kind?h.OP_SIZE_REVEAL/2:n.length/2/f,c)}))]}}))}))},n.prototype.originate=function(t){var e=t.fee,r=t.storageLimit,n=t.gasLimit,i=d(t,["fee","storageLimit","gasLimit"]);return b(this,void 0,void 0,(function(){var t,o,s,a,u,c,l,f;return y(this,(function(p){switch(p.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return t=p.sent(),[4,this.getAccountLimits(t)];case 2:return o=p.sent(),a=U,[4,this.context.parser.prepareCodeOrigination(h(h({},i),mt({fee:e,storageLimit:r,gasLimit:n},o)))];case 3:return[4,a.apply(void 0,[p.sent()])];case 4:return s=p.sent(),[4,this.isRevealOpNeeded([s],t)];case 5:return(u=p.sent())?[4,this.addRevealOp([s],t)]:[3,7];case 6:return l=p.sent(),[3,8];case 7:l=s,p.label=8;case 8:return c=l,[4,this.prepareEstimate({operation:c,source:t})];case 9:return f=p.sent(),u&&f.shift(),[2,vt.createEstimateInstanceFromProperties(f)]}}))}))},n.prototype.transfer=function(t){var e=t.fee,r=t.storageLimit,n=t.gasLimit,i=d(t,["fee","storageLimit","gasLimit"]);return b(this,void 0,void 0,(function(){var t,o,s,a,u,c,l;return y(this,(function(f){switch(f.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return t=f.sent(),[4,this.getAccountLimits(t)];case 2:return o=f.sent(),[4,B(h(h({},i),mt({fee:e,storageLimit:r,gasLimit:n},o)))];case 3:return s=f.sent(),[4,this.isRevealOpNeeded([s],t)];case 4:return(a=f.sent())?[4,this.addRevealOp([s],t)]:[3,6];case 5:return c=f.sent(),[3,7];case 6:c=s,f.label=7;case 7:return u=c,[4,this.prepareEstimate({operation:u,source:t})];case 8:return l=f.sent(),a&&l.shift(),[2,vt.createEstimateInstanceFromProperties(l)]}}))}))},n.prototype.setDelegate=function(t){var e=t.fee,r=t.gasLimit,n=t.storageLimit,i=d(t,["fee","gasLimit","storageLimit"]);return b(this,void 0,void 0,(function(){var t,o,s,a,u,c,l,f;return y(this,(function(p){switch(p.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return t=p.sent(),o=i.source||t,[4,this.getAccountLimits(o)];case 2:return s=p.sent(),[4,F(h(h({},i),mt({fee:e,storageLimit:n,gasLimit:r},s)))];case 3:return a=p.sent(),[4,this.isRevealOpNeeded([a],t)];case 4:return(u=p.sent())?[4,this.addRevealOp([a],t)]:[3,6];case 5:return l=p.sent(),[3,7];case 6:l=a,p.label=7;case 7:return c=l,[4,this.prepareEstimate({operation:c,source:t})];case 8:return f=p.sent(),u&&f.shift(),[2,vt.createEstimateInstanceFromProperties(f)]}}))}))},n.prototype.batch=function(t){return b(this,void 0,void 0,(function(){var r,n,i,o,s,a,u,c,l,f,p,d,b,m,g,_,w,E;return y(this,(function(y){switch(y.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return r=y.sent(),n=[],[4,this.getAccountLimits(r,t.length)];case 2:i=y.sent(),y.label=3;case 3:y.trys.push([3,16,17,18]),o=v(t),s=o.next(),y.label=4;case 4:if(s.done)return[3,15];switch(a=s.value,a.kind){case e.OpKind.TRANSACTION:return[3,5];case e.OpKind.ORIGINATION:return[3,7];case e.OpKind.DELEGATION:return[3,10];case e.OpKind.ACTIVATION:return[3,12]}return[3,13];case 5:return c=(u=n).push,[4,B(h(h({},a),mt(a,i)))];case 6:return c.apply(u,[y.sent()]),[3,14];case 7:return f=(l=n).push,p=U,[4,this.context.parser.prepareCodeOrigination(h(h({},a),mt(a,i)))];case 8:return[4,p.apply(void 0,[y.sent()])];case 9:return f.apply(l,[y.sent()]),[3,14];case 10:return b=(d=n).push,[4,F(h(h({},a),mt(a,i)))];case 11:return b.apply(d,[y.sent()]),[3,14];case 12:return n.push(h(h({},a),i)),[3,14];case 13:throw new Error("Unsupported operation kind: "+a.kind);case 14:return s=o.next(),[3,4];case 15:return[3,18];case 16:return m=y.sent(),w={error:m},[3,18];case 17:try{s&&!s.done&&(E=o.return)&&E.call(o)}finally{if(w)throw w.error}return[7];case 18:return[4,this.isRevealOpNeeded(n,r)];case 19:return y.sent()?[4,this.addRevealOp(n,r)]:[3,21];case 20:return g=y.sent(),[3,22];case 21:g=n,y.label=22;case 22:return n=g,[4,this.prepareEstimate({operation:n,source:r})];case 23:return _=y.sent(),[2,vt.createArrayEstimateInstancesFromProperties(_)]}}))}))},n.prototype.registerDelegate=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a;return y(this,(function(u){switch(u.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return e=u.sent(),[4,this.getAccountLimits(e)];case 2:return r=u.sent(),[4,V(h(h({},t),r),e)];case 3:return n=u.sent(),[4,this.isRevealOpNeeded([n],e)];case 4:return(i=u.sent())?[4,this.addRevealOp([n],e)]:[3,6];case 5:return s=u.sent(),[3,7];case 6:s=n,u.label=7;case 7:return o=s,[4,this.prepareEstimate({operation:o,source:e})];case 8:return a=u.sent(),i&&a.shift(),[2,vt.createEstimateInstanceFromProperties(a)]}}))}))},n.prototype.reveal=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s;return y(this,(function(a){switch(a.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return e=a.sent(),[4,this.isAccountRevealRequired(e)];case 2:return a.sent()?[4,this.getAccountLimits(e)]:[3,7];case 3:return r=a.sent(),i=H,o=[h(h({},t),r),e],[4,this.signer.publicKey()];case 4:return[4,i.apply(void 0,o.concat([a.sent()]))];case 5:return n=a.sent(),[4,this.prepareEstimate({operation:n,source:e})];case 6:return s=a.sent(),[2,vt.createEstimateInstanceFromProperties(s)];case 7:return[2]}}))}))},n.prototype.addRevealOp=function(e,r){return b(this,void 0,void 0,(function(){var n,i,o,s;return y(this,(function(a){switch(a.label){case 0:return i=(n=e).unshift,o=H,s=[h({fee:t.DEFAULT_FEE.REVEAL,gasLimit:t.DEFAULT_GAS_LIMIT.REVEAL,storageLimit:t.DEFAULT_STORAGE_LIMIT.REVEAL}),r],[4,this.signer.publicKey()];case 1:return[4,o.apply(void 0,s.concat([a.sent()]))];case 2:return i.apply(n,[a.sent()]),[2,e]}}))}))},n}(rt),_t=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return p(e,t),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"delegation"===t.kind})),e=t&&t.metadata&&t.metadata.operation_result;return e||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults;return t?t.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delegate",{get:function(){return this.delegate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRegisterOperation",{get:function(){return this.delegate===this.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){var t=this.operationResults&&this.operationResults.consumed_gas;return t||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.operationResults&&this.operationResults.errors},enumerable:!1,configurable:!0}),e}(tt),wt=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,n,i,o)||this;a.params=r,a.contractProvider=s;var u=a.operationResults&&a.operationResults.originated_contracts;return Array.isArray(u)&&(a.contractAddress=u[0]),a}return p(e,t),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults;return t?t.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"origination"===t.kind})),e=t&&J(t)&&t.metadata.operation_result;return e||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){var t=this.operationResults&&this.operationResults.consumed_gas;return t||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){var t=this.operationResults&&this.operationResults.paid_storage_size_diff;return t||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageSize",{get:function(){var t=this.operationResults&&this.operationResults.storage_size;return t||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.operationResults&&this.operationResults.errors},enumerable:!1,configurable:!0}),e.prototype.contract=function(t,e,r){return b(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:if(!this.contractAddress)throw new Error("No contract was originated in this operation");return[4,this.confirmation(t,e,r)];case 1:return n.sent(),[2,this.contractProvider.at(this.contractAddress)]}}))}))},e}(tt),Et=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return p(e,t),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"reveal"===t.kind}));return t?[t]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults[0];return t?t.metadata.operation_result.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publicKey",{get:function(){return this.params.public_key},enumerable:!1,configurable:!0}),e.prototype.sumProp=function(t,e){return t.reduce((function(t,r){return e in r?Number(r[e])+t:t}),0)},Object.defineProperty(e.prototype,"consumedGas",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"consumed_gas"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"paid_storage_size_diff"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageSize",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"storage_size"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return Z({contents:this.operationResults})},enumerable:!1,configurable:!0}),e}(tt),Ot=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return p(e,t),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"transaction"===t.kind}));return t?[t]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults[0];return t?t.metadata.operation_result.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return new l.default(this.params.amount)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destination",{get:function(){return this.params.destination},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),e.prototype.sumProp=function(t,e){return t.reduce((function(t,r){return e in r?Number(r[e])+t:t}),0)},Object.defineProperty(e.prototype,"consumedGas",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"consumed_gas"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"paid_storage_size_diff"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageSize",{get:function(){return String(this.sumProp(Q({contents:this.operationResults}),"storage_size"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return Z({contents:this.operationResults})},enumerable:!1,configurable:!0}),e}(tt),St={setDelegate:function(t){return[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:t}]},{prim:"SOME"},{prim:"SET_DELEGATE"},{prim:"CONS"}]},removeDelegate:function(){return[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"NONE",args:[{prim:"key_hash"}]},{prim:"SET_DELEGATE"},{prim:"CONS"}]},transferImplicit:function(t,e){return[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:t}]},{prim:"IMPLICIT_ACCOUNT"},{prim:"PUSH",args:[{prim:"mutez"},{int:""+e}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}]},transferToContract:function(t,e){return[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"address"},{string:t}]},{prim:"CONTRACT",args:[{prim:"unit"}]},[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],[]]}],{prim:"PUSH",args:[{prim:"mutez"},{int:""+e}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}]}},xt={code:[{prim:"parameter",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},{prim:"unit"}]}]}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"UNIT"},{prim:"EXEC"}]]}],storage:"Unit"};var At=function(){function t(t,e){this.walletProvider=t,this.context=e,this.operations=[]}return t.prototype.withTransfer=function(t){return this.operations.push(h({kind:e.OpKind.TRANSACTION},t)),this},t.prototype.withContractCall=function(t){return this.withTransfer(t.toTransferParams())},t.prototype.withDelegation=function(t){return this.operations.push(h({kind:e.OpKind.DELEGATION},t)),this},t.prototype.withOrigination=function(t){return this.operations.push(h({kind:e.OpKind.ORIGINATION},t)),this},t.prototype.mapOperation=function(t){return b(this,void 0,void 0,(function(){var r=this;return y(this,(function(n){switch(t.kind){case e.OpKind.TRANSACTION:return[2,this.walletProvider.mapTransferParamsToWalletParams((function(){return b(r,void 0,void 0,(function(){return y(this,(function(e){return[2,t]}))}))}))];case e.OpKind.ORIGINATION:return[2,this.walletProvider.mapOriginateParamsToWalletParams((function(){return b(r,void 0,void 0,(function(){return y(this,(function(e){return[2,this.context.parser.prepareCodeOrigination(h({},t))]}))}))}))];case e.OpKind.DELEGATION:return[2,this.walletProvider.mapDelegateParamsToWalletParams((function(){return b(r,void 0,void 0,(function(){return y(this,(function(e){return[2,t]}))}))}))];default:throw new Error("Unsupported operation kind: "+t.kind)}}))}))},t.prototype.with=function(t){var r,n;try{for(var i=v(t),o=i.next();!o.done;o=i.next()){var s=o.value;switch(s.kind){case e.OpKind.TRANSACTION:this.withTransfer(s);break;case e.OpKind.ORIGINATION:this.withOrigination(s);break;case e.OpKind.DELEGATION:this.withDelegation(s);break;default:throw new Error("Unsupported operation kind: "+s.kind)}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.send=function(){return b(this,void 0,void 0,(function(){var t,e,r,n,i,o,s,a,u,c;return y(this,(function(l){switch(l.label){case 0:t=[],l.label=1;case 1:l.trys.push([1,6,7,8]),e=v(this.operations),r=e.next(),l.label=2;case 2:return r.done?[3,5]:(n=r.value,o=(i=t).push,[4,this.mapOperation(n)]);case 3:o.apply(i,[l.sent()]),l.label=4;case 4:return r=e.next(),[3,2];case 5:return[3,8];case 6:return s=l.sent(),u={error:s},[3,8];case 7:try{r&&!r.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}return[7];case 8:return[4,this.walletProvider.sendOperations(t)];case 9:return a=l.sent(),[2,this.context.operationFactory.createBatchOperation(a)]}}))}))},t}(),Pt=function(){function t(t){this.context=t,this.walletCommand=function(t){return{send:t}}}return Object.defineProperty(t.prototype,"walletProvider",{get:function(){return this.context.walletProvider},enumerable:!1,configurable:!0}),t.prototype.pkh=function(t){var e=(void 0===t?{}:t).forceRefetch;return b(this,void 0,void 0,(function(){var t;return y(this,(function(r){switch(r.label){case 0:return this._pkh&&!e?[3,2]:(t=this,[4,this.walletProvider.getPKH()]);case 1:t._pkh=r.sent(),r.label=2;case 2:return[2,this._pkh]}}))}))},t.prototype.originate=function(t){var e=this;return this.walletCommand((function(){return b(e,void 0,void 0,(function(){var e,r,n,i=this;return y(this,(function(o){switch(o.label){case 0:return[4,this.walletProvider.mapOriginateParamsToWalletParams((function(){return i.context.parser.prepareCodeOrigination(h({},t))}))];case 1:return e=o.sent(),[4,this.walletProvider.sendOperations([e])];case 2:return r=o.sent(),this.context.proto?[3,4]:(n=this.context,[4,this.context.rpc.getBlock()]);case 3:n.proto=o.sent().protocol,o.label=4;case 4:return[2,this.context.operationFactory.createOriginationOperation(r)]}}))}))}))},t.prototype.setDelegate=function(t){var e=this;return this.walletCommand((function(){return b(e,void 0,void 0,(function(){var e,r,n=this;return y(this,(function(i){switch(i.label){case 0:return[4,this.walletProvider.mapDelegateParamsToWalletParams((function(){return b(n,void 0,void 0,(function(){return y(this,(function(e){return[2,t]}))}))}))];case 1:return e=i.sent(),[4,this.walletProvider.sendOperations([e])];case 2:return r=i.sent(),[2,this.context.operationFactory.createDelegationOperation(r)]}}))}))}))},t.prototype.registerDelegate=function(){var t=this;return this.walletCommand((function(){return b(t,void 0,void 0,(function(){var t,e,r=this;return y(this,(function(n){switch(n.label){case 0:return[4,this.walletProvider.mapDelegateParamsToWalletParams((function(){return b(r,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.pkh()];case 1:return[2,{delegate:t.sent()}]}}))}))}))];case 1:return t=n.sent(),[4,this.walletProvider.sendOperations([t])];case 2:return e=n.sent(),[2,this.context.operationFactory.createDelegationOperation(e)]}}))}))}))},t.prototype.transfer=function(t){var e=this;return this.walletCommand((function(){return b(e,void 0,void 0,(function(){var e,r,n=this;return y(this,(function(i){switch(i.label){case 0:return[4,this.walletProvider.mapTransferParamsToWalletParams((function(){return b(n,void 0,void 0,(function(){return y(this,(function(e){return[2,t]}))}))}))];case 1:return e=i.sent(),[4,this.walletProvider.sendOperations([e])];case 2:return r=i.sent(),[2,this.context.operationFactory.createTransactionOperation(r)]}}))}))}))},t.prototype.batch=function(t){var e=new At(this.walletProvider,this.context);return Array.isArray(t)&&e.with(t),e},t.prototype.at=function(t,e){return void 0===e&&(e=function(t){return t}),b(this,void 0,void 0,(function(){var r,n,i,o,s;return y(this,(function(a){switch(a.label){case 0:return[4,this.context.rpc.getScript(t)];case 1:return r=a.sent(),[4,this.context.rpc.getEntrypoints(t)];case 2:return n=a.sent(),[4,this.context.rpc.getBlockHeader()];case 3:return i=a.sent(),o=i.chain_id,s=new Ct(t,r,this,this.context.contract,n,o),[2,e(s,this.context)]}}))}))},t}(),Tt=function(){function t(t){this.context=t}return t.prototype.getPKH=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){return[2,this.context.signer.publicKeyHash()]}))}))},t.prototype.mapTransferParamsToWalletParams=function(t){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:return r=K,[4,t()];case 1:return[2,r.apply(void 0,[n.sent(),e.OpKind.TRANSACTION])]}}))}))},t.prototype.mapOriginateParamsToWalletParams=function(t){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:return r=K,[4,t()];case 1:return[2,r.apply(void 0,[n.sent(),e.OpKind.ORIGINATION])]}}))}))},t.prototype.mapDelegateParamsToWalletParams=function(t){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:return r=K,[4,t()];case 1:return[2,r.apply(void 0,[n.sent(),e.OpKind.DELEGATION])]}}))}))},t.prototype.sendOperations=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.context.batch.batch(t).send()];case 1:return[2,e.sent().hash]}}))}))},t}(),It=function(){function t(t,e,r,n){void 0===r&&(r="default"),void 0===n&&(n={prim:"Unit"}),this.lambdaContract=t,this.viewContract=e,this.viewMethod=r,this.contractParameter=n,this.voidLambda=this.createVoidLambda()}return t.prototype.execute=function(){return b(this,void 0,void 0,(function(){var t,e;return y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.lambdaContract.methods.default(this.voidLambda).send()];case 1:return r.sent(),[3,3];case 2:if((t=r.sent())instanceof X)return e=t.errors[t.errors.length-1],[2,e.with];throw t;case 3:return[2]}}))}))},t.prototype.createVoidLambda=function(){var t=m(this.getView(),2),e=t[0],r=t[1],n=[{prim:"pair",args:[e,{prim:"contract",args:[r]}]}];return"default"===this.viewMethod&&(n=[{string:"%default"}].concat(n)),[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"NONE",args:[{prim:"key_hash"}]},{prim:"CREATE_CONTRACT",args:[[{prim:"parameter",args:[r]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"FAILWITH"}]]}]]},{prim:"DIP",args:[[{prim:"DIP",args:[[{prim:"LAMBDA",args:[{prim:"pair",args:[{prim:"address"},{prim:"unit"}]},{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},{prim:"unit"}]},[{prim:"CAR"},{prim:"CONTRACT",args:[r]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Callback type unmatched"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[e,this.contractParameter]},{prim:"PAIR"},{prim:"DIP",args:[[{prim:"PUSH",args:[{prim:"address"},{string:this.viewContract.address+"%"+this.viewMethod}]},{prim:"DUP"},{prim:"CONTRACT",args:n},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Contract does not exist"}]},{prim:"FAILWITH"}],[{prim:"DIP",args:[[{prim:"DROP"}]]}]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]]},{prim:"TRANSFER_TOKENS"},{prim:"DIP",args:[[{prim:"NIL",args:[{prim:"operation"}]}]]},{prim:"CONS"},{prim:"DIP",args:[[{prim:"UNIT"}]]},{prim:"PAIR"}]]}]]},{prim:"APPLY"},{prim:"DIP",args:[[{prim:"PUSH",args:[{prim:"address"},{string:this.lambdaContract.address}]},{prim:"DUP"},{prim:"CONTRACT",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},{prim:"unit"}]}]}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Contract does not exists"}]},{prim:"FAILWITH"}],[{prim:"DIP",args:[[{prim:"DROP"}]]}]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]]},{prim:"TRANSFER_TOKENS"},{prim:"DIP",args:[[{prim:"NIL",args:[{prim:"operation"}]}]]},{prim:"CONS"}]]},{prim:"CONS"},{prim:"DIP",args:[[{prim:"UNIT"}]]},{prim:"PAIR"}]},t.prototype.getView=function(){var t=this.viewContract.entrypoints.entrypoints[this.viewMethod];if(!t)throw Error("Contract at "+this.viewContract.address+" does not have entrypoint: "+this.viewMethod);if(!("prim"in t)||!t.args)throw Error("Entrypoint args undefined");var e,r=Array.from(t.args),n=m(r,2),i=n[0],o=n[1];if("annots"in i&&delete i.annots,!("prim"in o)||!o.args)throw Error("Callback contract args undefined");if("pair"!==t.prim?e="Expected {'prim': 'pair', ..} but found {'prim': "+t.prim+", ..}":2!==r.length?e="Expected an Array of length 2, but found: "+r:"contract"!==o.prim?e="Expected a {prim: 'contract', ...}, but found: "+o.prim:o.args&&1!==o.args.length&&(e="Expected a single argument to 'contract', but found: "+o.args),e)throw Error(e);return[i,o.args[0]]},t}(),Rt="default",jt=function(){function t(t,e,r,n,i,o,s){void 0===o&&(o=!0),void 0===s&&(s=!1),this.provider=t,this.address=e,this.parameterSchema=r,this.name=n,this.args=i,this.isMultipleEntrypoint=o,this.isAnonymous=s}return Object.defineProperty(t.prototype,"schema",{get:function(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()},enumerable:!1,configurable:!0}),t.prototype.send=function(t){return void 0===t&&(t={}),this.provider instanceof Pt?this.provider.transfer(this.toTransferParams(t)).send():this.provider.transfer(this.toTransferParams(t))},t.prototype.toTransferParams=function(t){var e,r,n=void 0===t?{}:t,i=n.fee,o=n.gasLimit,s=n.storageLimit,a=n.source,u=n.amount,c=void 0===u?0:u,l=n.mutez,f=void 0!==l&&l;return{to:this.address,amount:c,fee:i,mutez:f,source:a,gasLimit:o,storageLimit:s,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:"default",value:this.isAnonymous?(e=this.parameterSchema).Encode.apply(e,g([this.name],m(this.args))):(r=this.parameterSchema).Encode.apply(r,g([],m(this.args)))}}},t}(),Nt=function(){function e(t,e,r,n,i,o,s){this.currentContract=t,this.provider=e,this.name=r,this.chainId=n,this.callbackParametersSchema=i,this.parameterSchema=o,this.args=s}return e.prototype.read=function(e){return b(this,void 0,void 0,(function(){var r,n,i,o,s;return y(this,(function(a){switch(a.label){case 0:if(e)r=e;else if(this.chainId===t.ChainIds.EDONET)r=t.DefaultLambdaAddresses.EDONET;else if(this.chainId===t.ChainIds.FLORENCENET)r=t.DefaultLambdaAddresses.FLORENCENET;else if(this.chainId===t.ChainIds.GRANADANET)r=t.DefaultLambdaAddresses.GRANADANET;else{if(this.chainId!==t.ChainIds.MAINNET)throw new C;r=t.DefaultLambdaAddresses.MAINNET}return[4,this.provider.at(r)];case 1:return n=a.sent(),i=(s=this.parameterSchema).Encode.apply(s,g([],m(this.args))),[4,new It(n,this.currentContract,this.name,i).execute()];case 2:return o=a.sent(),[2,this.callbackParametersSchema.Execute(o)]}}))}))},e}(),kt=function(t,e,r){var n=e.ExtractSignatures();if(!n.find((function(e){return e.length===t.length})))throw new k(r,n,t)},Ct=function(){function t(t,e,r,n,o,s){this.address=t,this.script=e,this.storageProvider=n,this.entrypoints=o,this.chainId=s,this.methods={},this.views={},this.schema=i.Schema.fromRPCResponse({script:this.script}),this.parameterSchema=i.ParameterSchema.fromRPCResponse({script:this.script}),this._initializeMethods(this,t,r,this.entrypoints.entrypoints,this.chainId)}return t.prototype._initializeMethods=function(t,e,r,n,o){var s=this,a=this.parameterSchema,u=Object.keys(n);if(a.isMultipleEntryPoint){u.forEach((function(a){var u=new i.ParameterSchema(n[a]);if(s.methods[a]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return kt(t,u,a),new jt(r,e,u,a,t)},void 0!==r.contractProviderTypeSymbol&&function(t){var e=!1,r=t.ExtractSignatures();return"contract"===r[0][r[0].length-1]&&(e=!0),e}(u)){s.views[a]=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var u=n[a].args[0],c=new i.ParameterSchema(u),l=n[a].args[1].args[0],f=new i.ParameterSchema(l);return kt(e,c,a),new Nt(t,r,a,o,f,c,e)}}})),Object.keys(a.ExtractSchema()).filter((function(t){return-1===Object.keys(n).indexOf(t)})).forEach((function(t){s.methods[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return kt(g([t],m(n)),a,t),new jt(r,e,a,t,n,!1,!0)}}))}else{var c=this.parameterSchema;this.methods.default=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return kt(t,a,Rt),new jt(r,e,c,Rt,t,!1)}}},t.prototype.storage=function(){return this.storageProvider.getStorage(this.address,this.schema)},t.prototype.bigMap=function(t){return this.storageProvider.getBigMapKey(this.address,t,this.schema)},t}(),Mt=function(){function t(t,e,r){this.id=t,this.schema=e,this.provider=r}return t.prototype.get=function(t,e){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.provider.getBigMapKeyByID(this.id.toString(),t,this.schema,e)];case 1:return[2,n.sent()];case 2:if((r=n.sent())instanceof s.HttpResponseError&&r.status===s.STATUS_CODE.NOT_FOUND)return[2,void 0];throw r;case 3:return[2]}}))}))},t.prototype.getMultipleValues=function(t,e,r){return void 0===r&&(r=5),b(this,void 0,void 0,(function(){return y(this,(function(n){return[2,this.provider.getBigMapKeysByID(this.id.toString(),t,this.schema,e,r)]}))}))},t.prototype.toJSON=function(){return this.id.toString()},t.prototype.toString=function(){return this.id.toString()},t}(),Lt=function(){function t(t,e){this.id=t,this.provider=e}return t.prototype.getSaplingDiff=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.provider.getSaplingDiffByID(this.id.toString(),t)]}))}))},t.prototype.getId=function(){return this.id.toString()},t}(),Dt=function(t){return{big_map:function(e,r){if(e&&"int"in e&&void 0!==e.int){var n=new i.Schema(r);return new Mt(new l.default(e.int),n,t)}return{}},sapling_state:function(e){return e&&"int"in e&&void 0!==e.int?new Lt(new l.default(e.int),t):{}}}},Ut=function(t){function r(e,r){var n=t.call(this,e)||this;return n.estimator=r,n.contractProviderTypeSymbol=Symbol.for("taquito--provider-type-symbol"),n}return p(r,t),r.prototype.getStorage=function(t,e){return b(this,void 0,void 0,(function(){var r,n;return y(this,(function(o){switch(o.label){case 0:return e?[3,2]:[4,this.rpc.getScript(t)];case 1:e=o.sent(),o.label=2;case 2:return r=i.Schema.isSchema(e)?e:i.Schema.fromRPCResponse({script:e}),[4,this.rpc.getStorage(t)];case 3:return n=o.sent(),[2,r.Execute(n,Dt(this))]}}))}))},r.prototype.getBigMapKey=function(t,e,r){return b(this,void 0,void 0,(function(){var n,o,s;return y(this,(function(a){switch(a.label){case 0:return r?[3,2]:[4,this.rpc.getScript(t)];case 1:r=a.sent(),a.label=2;case 2:return n=i.Schema.isSchema(r)?r:i.Schema.fromRPCResponse({script:r}),o=n.EncodeBigMapKey(e),[4,this.rpc.getBigMapKey(t,o)];case 3:return s=a.sent(),[2,n.ExecuteOnBigMapValue(s)]}}))}))},r.prototype.getBigMapKeyByID=function(t,e,r,n){return b(this,void 0,void 0,(function(){var i,o,s,u,c,l,f;return y(this,(function(p){switch(p.label){case 0:return i=r.EncodeBigMapKey(e),o=i.key,s=i.type,[4,this.context.packer.packData({data:o,type:s})];case 1:return u=p.sent().packed,c=a.encodeExpr(u),n?[4,this.context.rpc.getBigMapExpr(t.toString(),c,{block:String(n)})]:[3,3];case 2:return f=p.sent(),[3,5];case 3:return[4,this.context.rpc.getBigMapExpr(t.toString(),c)];case 4:f=p.sent(),p.label=5;case 5:return l=f,[2,r.ExecuteOnBigMapValue(l,Dt(this))]}}))}))},r.prototype.getBigMapKeysByID=function(t,e,r,n,o){return void 0===o&&(o=5),b(this,void 0,void 0,(function(){var s,a,u,c,l,f,p,h,d=this;return y(this,(function(b){switch(b.label){case 0:return[4,this.getBlockForRequest(e,n)];case 1:s=b.sent(),a=new i.MichelsonMap,u=0,c=[],b.label=2;case 2:return u<e.length?(l=e.slice(u,u+o),f=l.map((function(e){return d.getBigMapValueOrUndefined(e,t,r,s)})),p=[g([],m(c))],[4,Promise.all(f)]):[3,4];case 3:return c=g.apply(void 0,p.concat([m.apply(void 0,[b.sent()])])),u+=o,[3,2];case 4:for(h=0;h<c.length;h++)a.set(e[h],c[h]);return[2,a]}}))}))},r.prototype.getBlockForRequest=function(t,e){var r;return b(this,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return 1!==t.length&&void 0===e?[3,1]:(n=e,[3,3]);case 1:return[4,this.rpc.getBlock()];case 2:n=null===(r=i.sent())||void 0===r?void 0:r.header.level,i.label=3;case 3:return[2,n]}}))}))},r.prototype.getBigMapValueOrUndefined=function(t,e,r,n){return b(this,void 0,void 0,(function(){var i;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getBigMapKeyByID(e,t,r,n)];case 1:return[2,o.sent()];case 2:if((i=o.sent())instanceof s.HttpResponseError&&i.status===s.STATUS_CODE.NOT_FOUND)return[2];throw i;case 3:return[2]}}))}))},r.prototype.getSaplingDiffByID=function(t,e){return b(this,void 0,void 0,(function(){var r;return y(this,(function(n){switch(n.label){case 0:return e?[4,this.context.rpc.getSaplingDiffById(t.toString(),{block:String(e)})]:[3,2];case 1:return r=n.sent(),[3,4];case 2:return[4,this.context.rpc.getSaplingDiffById(t.toString())];case 3:r=n.sent(),n.label=4;case 4:return[2,r]}}))}))},r.prototype.addRevealOperationIfNeeded=function(t,r){return b(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l=this;return y(this,(function(f){switch(f.label){case 0:return W(t)?(n=[t],[4,this.signer.publicKey()]):[3,5];case 1:return i=f.sent(),[4,this.estimator.reveal()];case 2:return(o=f.sent())?(s={kind:e.OpKind.REVEAL},[4,this.estimate(s,(function(){return b(l,void 0,void 0,(function(){return y(this,(function(t){return[2,o]}))}))}))]):[3,5];case 3:return a=f.sent(),c=(u=n).unshift,[4,H(h({},a),r,i)];case 4:return c.apply(u,[f.sent()]),[2,n];case 5:return[2,t]}}))}))},r.prototype.originate=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f,p;return y(this,(function(d){switch(d.label){case 0:return[4,this.estimate(t,this.estimator.originate.bind(this.estimator))];case 1:return e=d.sent(),[4,this.signer.publicKeyHash()];case 2:return r=d.sent(),i=U,[4,this.context.parser.prepareCodeOrigination(h(h({},t),e))];case 3:return[4,i.apply(void 0,[d.sent()])];case 4:return n=d.sent(),[4,this.addRevealOperationIfNeeded(n,r)];case 5:return o=d.sent(),[4,this.prepareOperation({operation:o,source:r})];case 6:return s=d.sent(),[4,this.forge(s)];case 7:return a=d.sent(),[4,this.signAndInject(a)];case 8:return u=d.sent(),c=u.hash,l=u.context,f=u.forgedBytes,p=u.opResponse,[2,new wt(c,n,f,p,l,this)]}}))}))},r.prototype.setDelegate=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f,p;return y(this,(function(d){switch(d.label){case 0:if(/kt1/i.test(t.source))throw new M(t.source);return[4,this.estimate(t,this.estimator.setDelegate.bind(this.estimator))];case 1:return e=d.sent(),[4,this.signer.publicKeyHash()];case 2:return r=d.sent(),[4,F(h(h({},t),e))];case 3:return n=d.sent(),i=t.source||r,[4,this.addRevealOperationIfNeeded(n,r)];case 4:return o=d.sent(),[4,this.prepareOperation({operation:o,source:i})];case 5:return s=d.sent(),[4,this.forge(s)];case 6:return a=d.sent(),[4,this.signAndInject(a)];case 7:return u=d.sent(),c=u.hash,l=u.context,f=u.forgedBytes,p=u.opResponse,[2,new _t(c,n,i,f,p,l)]}}))}))},r.prototype.registerDelegate=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f;return y(this,(function(p){switch(p.label){case 0:return[4,this.estimate(t,this.estimator.registerDelegate.bind(this.estimator))];case 1:return e=p.sent(),[4,this.signer.publicKeyHash()];case 2:return r=p.sent(),[4,V(h(h({},t),e),r)];case 3:return n=p.sent(),[4,this.addRevealOperationIfNeeded(n,r)];case 4:return i=p.sent(),[4,this.prepareOperation({operation:i})];case 5:return o=p.sent(),[4,this.forge(o)];case 6:return s=p.sent(),[4,this.signAndInject(s)];case 7:return a=p.sent(),u=a.hash,c=a.context,l=a.forgedBytes,f=a.opResponse,[2,new _t(u,n,r,l,f,c)]}}))}))},r.prototype.transfer=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f,p;return y(this,(function(d){switch(d.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return e=d.sent(),[4,this.estimate(t,this.estimator.transfer.bind(this.estimator))];case 2:return r=d.sent(),[4,B(h(h({},t),r))];case 3:return n=d.sent(),i=t.source||e,[4,this.addRevealOperationIfNeeded(n,e)];case 4:return o=d.sent(),[4,this.prepareOperation({operation:o,source:t.source})];case 5:return s=d.sent(),[4,this.forge(s)];case 6:return a=d.sent(),[4,this.signAndInject(a)];case 7:return u=d.sent(),c=u.hash,l=u.context,f=u.forgedBytes,p=u.opResponse,[2,new Ot(c,n,i,f,p,l)]}}))}))},r.prototype.reveal=function(t){return b(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,f,p,d,v=this;return y(this,(function(m){switch(m.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return e=m.sent(),[4,this.estimator.reveal(t)];case 2:return(r=m.sent())?[4,this.estimate(t,(function(){return b(v,void 0,void 0,(function(){return y(this,(function(t){return[2,r]}))}))}))]:[3,9];case 3:return n=m.sent(),o=H,s=[h({},n),e],[4,this.signer.publicKey()];case 4:return[4,o.apply(void 0,s.concat([m.sent()]))];case 5:return i=m.sent(),[4,this.prepareOperation({operation:i,source:e})];case 6:return a=m.sent(),[4,this.forge(a)];case 7:return u=m.sent(),[4,this.signAndInject(u)];case 8:return c=m.sent(),l=c.hash,f=c.context,p=c.forgedBytes,d=c.opResponse,[2,new Et(l,i,e,p,d,f)];case 9:throw new Error("The current address is already revealed.")}}))}))},r.prototype.at=function(t,e){return void 0===e&&(e=function(t){return t}),b(this,void 0,void 0,(function(){var r,n,i,o,s;return y(this,(function(a){switch(a.label){case 0:return[4,this.rpc.getScript(t)];case 1:return r=a.sent(),[4,this.rpc.getEntrypoints(t)];case 2:return n=a.sent(),[4,this.rpc.getBlockHeader()];case 3:return i=a.sent(),o=i.chain_id,s=new Ct(t,r,this,this,n,o),[2,e(s,this.context)]}}))}))},r.prototype.batch=function(t){var e=new it(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e},r}(rt),Bt=function(){function t(t){this.context=t}return t.prototype.getNextProto=function(){return b(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.context.rpc.getBlockMetadata()];case 1:return[2,t.sent().next_protocol]}}))}))},t.prototype.parseScript=function(t){return b(this,void 0,void 0,(function(){var e,r;return y(this,(function(n){switch(n.label){case 0:return e=u.Parser.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(u.Parser,[void 0,(r.protocol=n.sent(),r)]))).parseScript(t)]}}))}))},t.prototype.parseMichelineExpression=function(t){return b(this,void 0,void 0,(function(){var e,r;return y(this,(function(n){switch(n.label){case 0:return e=u.Parser.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(u.Parser,[void 0,(r.protocol=n.sent(),r)]))).parseMichelineExpression(t)]}}))}))},t.prototype.parseJSON=function(t){return b(this,void 0,void 0,(function(){var e,r;return y(this,(function(n){switch(n.label){case 0:return e=u.Parser.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(u.Parser,[void 0,(r.protocol=n.sent(),r)]))).parseJSON(t)]}}))}))},t.prototype.prepareCodeOrigination=function(t){return b(this,void 0,void 0,(function(){var e,r,n;return y(this,(function(i){switch(i.label){case 0:return r=e=t,[4,this.formatCodeParam(t.code)];case 1:return r.code=i.sent(),t.init?(n=e,[4,this.formatInitParam(t.init)]):[3,3];case 2:n.init=i.sent(),i.label=3;case 3:return[2,e]}}))}))},t.prototype.formatCodeParam=function(t){return b(this,void 0,void 0,(function(){var e,r,n;return y(this,(function(i){switch(i.label){case 0:return"string"!=typeof t?[3,2]:[4,this.parseScript(t)];case 1:if(null===(r=i.sent()))throw new L("Invalid code parameter",t);return e=r,[3,4];case 2:return[4,this.parseJSON(t)];case 3:r=i.sent(),n=["parameter","storage","code"],e=r.sort((function(t,e){return n.indexOf(t.prim)-n.indexOf(e.prim)})),i.label=4;case 4:return[2,e]}}))}))},t.prototype.formatInitParam=function(t){return b(this,void 0,void 0,(function(){var e,r;return y(this,(function(n){switch(n.label){case 0:return"string"!=typeof t?[3,2]:[4,this.parseMichelineExpression(t)];case 1:if(null===(r=n.sent()))throw new D("Invalid init parameter",t);return e=r,[3,4];case 2:return[4,this.parseJSON(t)];case 3:e=n.sent(),n.label=4;case 4:return[2,e]}}))}))},t}(),Ft=function(){function t(t){this.context=t}return t.prototype.packData=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.context.rpc.packData(t)]}))}))},t}(),Vt={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180},Ht={streamerPollingIntervalMilliseconds:2e4,shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:n.retry()},Kt=function(){function t(t,n,i,o,s,a,u,c,l){void 0===n&&(n=new P),void 0===o&&(o=new r.BehaviorSubject(h(h({},Ht),Vt))),this._rpc=t,this._signer=n,this._proto=i,this._config=o,this.tz=new bt(this),this.estimate=new gt(this),this.contract=new Ut(this,this.estimate),this.batch=new ot(this,this.estimate),this.wallet=new Pt(this),"string"==typeof this._rpc?this._rpcClient=new e.RpcClient(this._rpc):this._rpcClient=this._rpc,this.config=o,this._forger=s||new S(this),this._injector=a||new x(this),this.operationFactory=new dt(this),this._walletProvider=c||new Tt(this),this._parser=l||new Bt(this),this._packer=u||new Ft(this)}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config.getValue()},set:function(t){this._config.next(h(h(h({},Vt),Ht),t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rpc",{get:function(){return this._rpcClient},set:function(t){this._rpcClient=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},set:function(t){this._injector=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forger",{get:function(){return this._forger},set:function(t){this._forger=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signer",{get:function(){return this._signer},set:function(t){this._signer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"walletProvider",{get:function(){return this._walletProvider},set:function(t){this._walletProvider=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proto",{get:function(){return this._proto},set:function(t){this._proto=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},set:function(t){this._parser=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packer",{get:function(){return this._packer},set:function(t){this._packer=t},enumerable:!1,configurable:!0}),t.prototype.isAnyProtocolActive=function(t){return void 0===t&&(t=[]),b(this,void 0,void 0,(function(){var e;return y(this,(function(r){switch(r.label){case 0:return this._proto?[2,t.includes(this._proto)]:[3,1];case 1:return[4,this.rpc.getBlockMetadata()];case 2:return e=r.sent().next_protocol,[2,t.includes(e)]}}))}))},t.prototype.getConfirmationPollingInterval=function(){return b(this,void 0,void 0,(function(){var t,e,r,n;return y(this,(function(i){switch(i.label){case 0:t=5,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.rpc.getConstants()];case 2:return e=i.sent(),r=e.time_between_blocks[0],void 0!==e.minimal_block_delay&&(r=e.minimal_block_delay),(n=(n=l.default.sum(r,new l.default(e.delay_per_missing_endorsement).multipliedBy(Math.max(0,e.initial_endorsers-e.endorsers_per_block)))).dividedBy(3)).toNumber()>t?this.config.confirmationPollingIntervalSecond=t:this.config.confirmationPollingIntervalSecond=0===n.toNumber()?.1:n.toNumber(),[2,this.config.confirmationPollingIntervalSecond];case 3:return i.sent(),[2,t];case 4:return[2]}}))}))},t.prototype.clone=function(){return new t(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer)},t}(),Gt=function(t,e){return"opHash"in e?function(t,e){return t.hash===e.opHash}(t,e):"source"in e?function(t,e){switch(t.kind){case"endorsement":return"metadata"in t&&t.metadata.delegate===e.source;case"activate_account":return"metadata"in t&&t.pkh===e.source;default:return"source"in t&&t.source===e.source}}(t,e):"kind"in e?function(t,e){return"kind"in t&&t.kind===e.kind}(t,e):"destination"in e&&function(t,e){switch(t.kind){case"delegation":return t.delegate===e.destination;case"origination":if("metadata"in t&&"operation_result"in t.metadata&&"originated_contracts"in t.metadata.operation_result&&Array.isArray(t.metadata.operation_result.originated_contracts))return t.metadata.operation_result.originated_contracts.some((function(t){return t===e.destination}));break;case"transaction":return t.destination===e.destination;default:return!1}}(t,e)},qt=function(t,e){var r=[];return Array.isArray(e)?r.push.apply(r,g([],m(e))):r.push(e),r.every((function(e){return"and"in e||"or"in e?function(t,e){if(Array.isArray(e.and))return e.and.every((function(e){return qt(t,e)}));if(Array.isArray(e.or))return e.or.some((function(e){return qt(t,e)}));throw new Error("Filter expression must contains either and/or property")}(t,e):Gt(t,e)}))},zt=function(){function t(t,e,i){var o=this;void 0===e&&(e=!1),void 0===i&&(i=n.retry()),this.shouldRetry=e,this.operatorFunction=i,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new r.Subject,t.pipe(n.takeUntil(this.completed$),n.tap((function(t){o.call(o.messageListeners,t)}),(function(t){o.call(o.errorListeners,t)}),(function(){o.call(o.closeListeners)})),this.shouldRetry?i:n.tap(),n.catchError((function(){return r.NEVER}))).subscribe()}return t.prototype.call=function(t,e){var r,n;try{for(var i=v(t),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e)}catch(t){console.error(t)}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.remove=function(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)},t.prototype.on=function(t,e){switch(t){case"data":this.messageListeners.push(e);break;case"error":this.errorListeners.push(e);break;case"close":this.closeListeners.push(e);break;default:throw new Error("Trying to register on an unsupported event: "+t)}},t.prototype.off=function(t,e){switch(t){case"data":this.remove(this.messageListeners,e);break;case"error":this.remove(this.errorListeners,e);break;case"close":this.remove(this.closeListeners,e);break;default:throw new Error("Trying to unregister on an unsupported event: "+t)}},t.prototype.close=function(){this.completed$.next()},t}(),Wt=function(t){return r.from(t.rpc.getBlock()).pipe(n.first())},Yt=function(){function t(t){var e=this;this.context=t,this.timer$=this.context._config.pipe(n.switchMap((function(t){return r.timer(0,t.streamerPollingIntervalMilliseconds)}))),this.newBlock$=this.timer$.pipe(n.map((function(){return e.context})),n.switchMap(Wt),n.distinctUntilKeyChanged("hash"),n.publish(),n.refCount())}return t.prototype.subscribe=function(t){return new zt(this.newBlock$.pipe(n.pluck("hash")),this.context.config.shouldObservableSubscriptionRetry,this.context.config.observableSubscriptionRetryFunction)},t.prototype.subscribeOperation=function(t){return new zt(this.newBlock$.pipe(function(t){return n.concatMap((function(e){return new r.Observable((function(r){var n,i,o,s,a,u;try{for(var c=v(e.operations),l=c.next();!l.done;l=c.next()){var f=l.value;try{for(var p=(o=void 0,v(f)),d=p.next();!d.done;d=p.next()){var b=d.value;try{for(var y=(a=void 0,v(b.contents)),m=y.next();!m.done;m=y.next()){var g=m.value;qt(h({hash:b.hash},g),t)&&r.next(h({hash:b.hash},g))}}catch(t){a={error:t}}finally{try{m&&!m.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}r.complete()}))}))}(t)),this.context.config.shouldObservableSubscriptionRetry,this.context.config.observableSubscriptionRetryFunction)},t}(),Jt={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},Xt=function(t){this.results=t,this.name="ForgingMismatchError",this.message="Forging mismatch error"},$t=function(){function t(t){if(this.forgers=t,0===t.length)throw new Error("At least one forger must be specified")}return t.prototype.forge=function(t){var e=t.branch,r=t.contents;return b(this,void 0,void 0,(function(){var t,n,i;return y(this,(function(o){switch(o.label){case 0:return[4,Promise.all(this.forgers.map((function(t){return t.forge({branch:e,contents:r})})))];case 1:if(0===(t=o.sent()).length)throw new Error("At least one forger must be specified");for(n=t.pop();t.length;){if((i=t.pop())!==n)throw new Xt([n,i]);n=i}return[2,n]}}))}))},t}(),Qt=function(){function t(){}return t.prototype.prepareCodeOrigination=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,t]}))}))},t}(),Zt=function(){function t(){}return t.prototype.packData=function(t){return b(this,void 0,void 0,(function(){return y(this,(function(e){return[2,{packed:u.packDataBytes(t.data,t.type).bytes}]}))}))},t}(),te=function(){function t(t){this._rpc=t,this._options={},this.format=N,"string"==typeof this._rpc?this._rpcClient=new e.RpcClient(this._rpc):this._rpcClient=this._rpc,this._context=new Kt(t),this._wallet=new Pt(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}return t.prototype.setProvider=function(t){var e=t.rpc,r=t.stream,n=t.signer,i=t.protocol,o=t.config,s=t.forger,a=t.wallet,u=t.packer;this.setRpcProvider(e),this.setStreamProvider(r),this.setSignerProvider(n),this.setForgerProvider(s),this.setWalletProvider(a),this.setPackerProvider(u),this._context.proto=i,this._context.config=o},t.prototype.setSignerProvider=function(t){this._options.signer||void 0!==t?void 0!==t&&(this._context.signer=t,this._options.signer=t):(this._context.signer=new P,this._options.signer=t)},t.prototype.setRpcProvider=function(t){"string"==typeof t?this._rpcClient=new e.RpcClient(t):t instanceof e.RpcClient&&(this._rpcClient=t),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient},t.prototype.setForgerProvider=function(t){var e=void 0===t?this.getFactory(S)():t;this._options.forger=e,this._context.forger=e},t.prototype.setStreamProvider=function(t){"string"==typeof t?this._stream=new Yt(new Kt(new e.RpcClient(t))):void 0!==t?this._stream=t:void 0===this._options.stream&&(this._stream=this.getFactory(Yt)()),this._options.stream=t},t.prototype.setWalletProvider=function(t){if(this._options.wallet||void 0!==t)void 0!==t&&(this._options.wallet=t,this._context.walletProvider=t);else{var e=this.getFactory(Tt)();this._options.wallet=e,this._context.walletProvider=e}},t.prototype.setPackerProvider=function(t){var e=void 0===t?this.getFactory(Ft)():t;this._options.packer=e,this._context.packer=e},Object.defineProperty(t.prototype,"tz",{get:function(){return this._context.tz},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contract",{get:function(){return this._context.contract},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wallet",{get:function(){return this._wallet},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._context.operationFactory},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"estimate",{get:function(){return this._context.estimate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return this._stream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rpc",{get:function(){return this._context.rpc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signer",{get:function(){return this._context.signer},enumerable:!1,configurable:!0}),t.prototype.addExtension=function(t){t.configureContext(this._context)},t.prototype.getFactory=function(t){var e=this;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new(t.bind.apply(t,g([void 0,e._context],m(r))))}},t.prototype.getVersionInfo=function(){return Jt},t}();Object.defineProperty(t,"OpKind",{enumerable:!0,get:function(){return e.OpKind}}),Object.defineProperty(t,"MichelsonMap",{enumerable:!0,get:function(){return i.MichelsonMap}}),Object.defineProperty(t,"UnitValue",{enumerable:!0,get:function(){return i.UnitValue}}),t.BatchOperation=et,t.BigMapAbstraction=Mt,t.CompositeForger=$t,t.Context=Kt,t.ContractAbstraction=Ct,t.ContractMethod=jt,t.ContractView=Nt,t.DelegateOperation=_t,t.DelegationWalletOperation=lt,t.InvalidCodeParameter=L,t.InvalidDelegationSource=M,t.InvalidInitParameter=D,t.InvalidParameterError=k,t.LegacyWalletProvider=Tt,t.MANAGER_LAMBDA=St,t.MichelCodecPacker=Zt,t.MichelCodecParser=Bt,t.MissedBlockDuringConfirmationError=at,t.NoopParser=Qt,t.Operation=tt,t.OperationBatch=it,t.OriginationOperation=wt,t.OriginationWalletOperation=ft,t.PollingSubscribeProvider=Yt,t.RpcForger=S,t.RpcPacker=Ft,t.TezosOperationError=X,t.TezosPreapplyFailureError=$,t.TezosToolkit=te,t.TransactionOperation=Ot,t.TransactionWalletOperation=pt,t.UndefinedLambdaContractError=C,t.VIEW_LAMBDA=xt,t.Wallet=Pt,t.WalletOperation=ut,t.WalletOperationBatch=At,t.compose=function(t,e){return function(r,n){return e(t(r,n),n)}},t.createOriginationOperation=U,t.createRegisterDelegateOperation=V,t.createRevealOperation=H,t.createSetDelegateOperation=F,t.createTransferOperation=B,t.defaultConfigConfirmation=Vt,t.defaultConfigStreamer=Ht,t.protocols=R,Object.defineProperty(t,"__esModule",{value:!0})}))},{"@taquito/http-utils":1,"@taquito/michel-codec":2,"@taquito/michelson-encoder":3,"@taquito/rpc":4,"@taquito/utils":6,"bignumber.js":9,rxjs:110,"rxjs/operators":309}],6:[function(t,e,r){!function(n,i){"object"==typeof r&&void 0!==e?i(r,t("buffer")):"function"==typeof define&&define.amd?define(["exports","buffer"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).taquitoUtils={},n.buffer)}(this,(function(e,r){"use strict";var n,i,o;e.Prefix=void 0,(o=e.Prefix||(e.Prefix={})).TZ1="tz1",o.TZ2="tz2",o.TZ3="tz3",o.KT="KT",o.KT1="KT1",o.EDSK2="edsk2",o.SPSK="spsk",o.P2SK="p2sk",o.EDPK="edpk",o.SPPK="sppk",o.P2PK="p2pk",o.EDESK="edesk",o.SPESK="spesk",o.P2ESK="p2esk",o.EDSK="edsk",o.EDSIG="edsig",o.SPSIG="spsig",o.P2SIG="p2sig",o.SIG="sig",o.NET="Net",o.NCE="nce",o.B="b",o.O="o",o.LO="Lo",o.LLO="LLo",o.P="P",o.CO="Co",o.ID="id",o.EXPR="expr",o.TZ="TZ";var s=((n={})[e.Prefix.TZ1]=new Uint8Array([6,161,159]),n[e.Prefix.TZ2]=new Uint8Array([6,161,161]),n[e.Prefix.TZ3]=new Uint8Array([6,161,164]),n[e.Prefix.KT]=new Uint8Array([2,90,121]),n[e.Prefix.KT1]=new Uint8Array([2,90,121]),n[e.Prefix.EDSK]=new Uint8Array([43,246,78,7]),n[e.Prefix.EDSK2]=new Uint8Array([13,15,58,7]),n[e.Prefix.SPSK]=new Uint8Array([17,162,224,201]),n[e.Prefix.P2SK]=new Uint8Array([16,81,238,189]),n[e.Prefix.EDPK]=new Uint8Array([13,15,37,217]),n[e.Prefix.SPPK]=new Uint8Array([3,254,226,86]),n[e.Prefix.P2PK]=new Uint8Array([3,178,139,127]),n[e.Prefix.EDESK]=new Uint8Array([7,90,60,179,41]),n[e.Prefix.SPESK]=new Uint8Array([9,237,241,174,150]),n[e.Prefix.P2ESK]=new Uint8Array([9,48,57,115,171]),n[e.Prefix.EDSIG]=new Uint8Array([9,245,205,134,18]),n[e.Prefix.SPSIG]=new Uint8Array([13,115,101,19,63]),n[e.Prefix.P2SIG]=new Uint8Array([54,240,44,52]),n[e.Prefix.SIG]=new Uint8Array([4,130,43]),n[e.Prefix.NET]=new Uint8Array([87,82,0]),n[e.Prefix.NCE]=new Uint8Array([69,220,169]),n[e.Prefix.B]=new Uint8Array([1,52]),n[e.Prefix.O]=new Uint8Array([5,116]),n[e.Prefix.LO]=new Uint8Array([133,233]),n[e.Prefix.LLO]=new Uint8Array([29,159,109]),n[e.Prefix.P]=new Uint8Array([2,170]),n[e.Prefix.CO]=new Uint8Array([79,179]),n[e.Prefix.ID]=new Uint8Array([153,103]),n[e.Prefix.EXPR]=new Uint8Array([13,44,64,27]),n[e.Prefix.TZ]=new Uint8Array([2,90,121]),n),a=((i={})[e.Prefix.TZ1]=20,i[e.Prefix.TZ2]=20,i[e.Prefix.TZ3]=20,i[e.Prefix.KT]=20,i[e.Prefix.KT1]=20,i[e.Prefix.EDPK]=32,i[e.Prefix.SPPK]=33,i[e.Prefix.P2PK]=33,i[e.Prefix.EDSIG]=64,i[e.Prefix.SPSIG]=64,i[e.Prefix.P2SIG]=64,i[e.Prefix.SIG]=64,i[e.Prefix.NET]=4,i[e.Prefix.B]=32,i[e.Prefix.P]=32,i[e.Prefix.O]=32,i);
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function u(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function c(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var l,f=t("bs58check");function p(t){return"string"==typeof t&&t in s}function h(t,r){var n=new RegExp("^("+r.join("|")+")").exec(t);if(!n||0===n.length)return e.ValidationResult.NO_PREFIX_MATCHED;var i=n[0];if(!p(i))return e.ValidationResult.NO_PREFIX_MATCHED;var o=/^(KT1\w{33})(\%(.*))?/.exec(t);o&&(t=o[1]);var u=f.decodeUnsafe(t);return u?(u=u.slice(s[i].length)).length!==a[i]?e.ValidationResult.INVALID_LENGTH:e.ValidationResult.VALID:e.ValidationResult.INVALID_CHECKSUM}e.ValidationResult=void 0,(l=e.ValidationResult||(e.ValidationResult={}))[l.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",l[l.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",l[l.INVALID_LENGTH=2]="INVALID_LENGTH",l[l.VALID=3]="VALID";var d=[e.Prefix.TZ1,e.Prefix.TZ2,e.Prefix.TZ3],b=[e.Prefix.KT1],y=[e.Prefix.EDSIG,e.Prefix.P2SIG,e.Prefix.SPSIG,e.Prefix.SIG],v=[e.Prefix.EDPK,e.Prefix.SPPK,e.Prefix.P2PK];var m=t("blakejs"),g=t("bs58check");function _(t,e){var n="string"==typeof t?Uint8Array.from(r.Buffer.from(t,"hex")):t,i=new Uint8Array(e.length+n.length);return i.set(e),i.set(n,e.length),g.encode(r.Buffer.from(i.buffer))}var w=function(t){return new Uint8Array(t.match(/[\da-f]{2}/gi).map((function(t){return parseInt(t,16)})))},E=function(t){var e=new Uint8Array(t),r=[];return e.forEach((function(t){var e=("00"+t.toString(16)).slice(-2);r.push(e)})),r.join("")};e.VERSION={commitHash:"33283ebb64d801dcbb0926ad199d024ad7189861",version:"10.1.0"},e.b58cdecode=function(t,e){return g.decode(t).slice(e.length)},e.b58cencode=_,e.b58decode=function(t){var e,r=g.decode(t),n=((e={})[s.tz1.toString()]="0000",e[s.tz2.toString()]="0001",e[s.tz3.toString()]="0002",e)[new Uint8Array(r.slice(0,3)).toString()];return n?n+E(r.slice(3)):"01"+E(r.slice(3,42))+"00"},e.buf2hex=E,e.bytes2Char=function(t){return r.Buffer.from(w(t)).toString("utf8")},e.char2Bytes=function(t){return r.Buffer.from(t,"utf8").toString("hex")},e.encodeExpr=function(t){return _(m.blake2b(w(t),null,32),s.expr)},e.encodeKey=function(t){if("0"===t[0]){var e={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return _(t.substring(2),e[t.substring(0,2)])}},e.encodeKeyHash=function(t){if("0"===t[0]){var e={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return _(t.substring(2),e[t.substring(0,2)])}},e.encodeOpHash=function(t){return _(m.blake2b(w(t),null,32),s.o)},e.encodePubKey=function(t){if("00"===t.substring(0,2)){var e={"0000":s.tz1,"0001":s.tz2,"0002":s.tz3};return _(t.substring(4),e[t.substring(0,4)])}return _(t.substring(2,42),s.KT)},e.hex2buf=w,e.isValidPrefix=p,e.mergebuf=function(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r},e.mic2arr=function t(e){var r=[];if(Object.prototype.hasOwnProperty.call(e,"prim"))"Pair"===e.prim?(r.push(t(e.args[0])),r=r.concat(t(e.args[1]))):"Elt"===e.prim?r={key:t(e.args[0]),val:t(e.args[1])}:"True"===e.prim?r=!0:"False"===e.prim&&(r=!1);else if(Array.isArray(e))for(var n=e.length,i=0;i<n;i++){var o=t(e[i]);void 0!==o.key?(Array.isArray(r)&&(r={keys:[],vals:[]}),r.keys.push(o.key),r.vals.push(o.val)):r.push(o)}else r=Object.prototype.hasOwnProperty.call(e,"string")?e.string:Object.prototype.hasOwnProperty.call(e,"int")?parseInt(e.int,10):e;return r},e.prefix=s,e.prefixLength=a,e.validateAddress=function(t){return h(t,c(c([],u(d)),u(b)))},e.validateChain=function(t){return h(t,[e.Prefix.NET])},e.validateContractAddress=function(t){return h(t,b)},e.validateKeyHash=function(t){return h(t,d)},e.validatePublicKey=function(t){return h(t,v)},e.validateSignature=function(t){return h(t,y)},Object.defineProperty(e,"__esModule",{value:!0})}))},{blakejs:12,bs58check:18,buffer:15}],7:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer;e.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);var r=0;if(" "!==t[r]){for(var i=0,o=0;t[r]===u;)i++,r++;for(var s=(t.length-r)*c+1>>>0,l=new Uint8Array(s);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var p=0,h=s-1;(0!==f||p<o)&&-1!==h;h--,p++)f+=a*l[h]>>>0,l[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=p,r++}if(" "!==t[r]){for(var d=s-o;d!==s&&0===l[d];)d++;var b=n.allocUnsafe(i+(s-d));b.fill(0,0,i);for(var y=i;d!==s;)b[y++]=l[d++];return b}}}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*l+1>>>0,f=new Uint8Array(c);o!==s;){for(var p=e[o],h=0,d=c-1;(0!==p||h<i)&&-1!==d;d--,h++)p+=256*f[d]>>>0,f[d]=p%a>>>0,p=p/a>>>0;if(0!==p)throw new Error("Non-zero carry");i=h,o++}for(var b=c-i;b!==c&&0===f[b];)b++;for(var y=u.repeat(r);b<c;++b)y+=t.charAt(f[b]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},{"safe-buffer":310}],8:[function(t,e,r){"use strict";r.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){var e,r,n=c(t),s=n[0],a=n[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(l(t,a,a+s>u?u:a+s));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],9:[function(t,e,r){!function(t){"use strict";var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,h=1e9;function d(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=c-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function y(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function v(t,e,r,n){if(t<e||t>r||t!==o(t))throw Error(s+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function m(t){var e=t.c.length-1;return d(t.e/c)==e&&t.c[e]%2!=0}function g(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(r=function t(e){var r,w,E,O,S,x,A,P,T,I,R=K.prototype={constructor:K,toString:null,valueOf:null},j=new K(1),N=20,k=4,C=-7,M=21,L=-1e7,D=1e7,U=!1,B=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function K(t,e){var r,i,s,u,f,p,h,d,b=this;if(!(b instanceof K))return new K(t,e);if(null==e){if(t&&!0===t._isBigNumber)return b.s=t.s,void(!t.c||t.e>D?b.c=b.e=null:t.e<L?b.c=[b.e=0]:(b.e=t.e,b.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(b.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,f=t;f>=10;f/=10,u++);return void(u>D?b.c=b.e=null:(b.e=u,b.c=[t]))}d=String(t)}else{if(!n.test(d=String(t)))return E(b,d,p);b.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(u<0&&(u=f),u+=+d.slice(f+1),d=d.substring(0,f)):u<0&&(u=d.length)}else{if(v(e,2,H.length,"Base"),10==e)return W(b=new K(t),N+b.e+1,k);if(d=String(t),p="number"==typeof t){if(0*t!=0)return E(b,d,p,e);if(b.s=1/t<0?(d=d.slice(1),-1):1,K.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(a+t)}else b.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=H.slice(0,e),u=f=0,h=d.length;f<h;f++)if(r.indexOf(i=d.charAt(f))<0){if("."==i){if(f>u){u=h;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,f=-1,u=0;continue}return E(b,String(t),p,e)}p=!1,(u=(d=w(d,e,10,b.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(f=0;48===d.charCodeAt(f);f++);for(h=d.length;48===d.charCodeAt(--h););if(d=d.slice(f,++h)){if(h-=f,p&&K.DEBUG&&h>15&&(t>l||t!==o(t)))throw Error(a+b.s*t);if((u=u-f-1)>D)b.c=b.e=null;else if(u<L)b.c=[b.e=0];else{if(b.e=u,b.c=[],f=(u+1)%c,u<0&&(f+=c),f<h){for(f&&b.c.push(+d.slice(0,f)),h-=c;f<h;)b.c.push(+d.slice(f,f+=c));f=c-(d=d.slice(f)).length}else f-=h;for(;f--;d+="0");b.c.push(+d)}}else b.c=[b.e=0]}function G(t,e,r,n){var i,o,s,a,u;if(null==r?r=k:v(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=b(t.c),u=1==n||2==n&&(s<=C||s>=M)?g(u,s):_(u,s,"0");else if(o=(t=W(new K(t),e,r)).e,a=(u=b(t.c)).length,1==n||2==n&&(e<=o||o<=C)){for(;a<e;u+="0",a++);u=g(u,o)}else if(e-=s,u=_(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){for(var r,n=1,i=new K(t[0]);n<t.length;n++){if(!(r=new K(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*c-1)>D?t.c=t.e=null:r<L?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var s,a,l,p,h,d,b,y=t.c,v=f;if(y){t:{for(s=1,p=y[0];p>=10;p/=10,s++);if((a=e-s)<0)a+=c,l=e,b=(h=y[d=0])/v[s-l-1]%10|0;else if((d=i((a+1)/c))>=y.length){if(!n)break t;for(;y.length<=d;y.push(0));h=b=0,s=1,l=(a%=c)-c+1}else{for(h=p=y[d],s=1;p>=10;p/=10,s++);b=(l=(a%=c)-c+s)<0?0:h/v[s-l-1]%10|0}if(n=n||e<0||null!=y[d+1]||(l<0?h:h%v[s-l-1]),n=r<4?(b||n)&&(0==r||r==(t.s<0?3:2)):b>5||5==b&&(4==r||n||6==r&&(a>0?l>0?h/v[s-l]:0:y[d-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=v[(c-e%c)%c],t.e=-e||0):y[0]=t.e=0,t;if(0==a?(y.length=d,p=1,d--):(y.length=d+1,p=v[c-a],y[d]=l>0?o(h/v[s-l]%v[l])*p:0),n)for(;;){if(0==d){for(a=1,l=y[0];l>=10;l/=10,a++);for(l=y[0]+=p,p=1;l>=10;l/=10,p++);a!=p&&(t.e++,y[0]==u&&(y[0]=1));break}if(y[d]+=p,y[d]!=u)break;y[d--]=0,p=1}for(a=y.length;0===y[--a];y.pop());}t.e>D?t.c=t.e=null:t.e<L&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=b(t.c),e=r<=C||r>=M?g(e,r):_(e,r,"0"),t.s<0?"-"+e:e)}return K.clone=t,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(s+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(r=t[e],0,h,e),N=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(r=t[e],0,8,e),k=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(v(r[0],-h,0,e),v(r[1],0,h,e),C=r[0],M=r[1]):(v(r,-h,h,e),C=-(M=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)v(r[0],-h,-1,e),v(r[1],1,h,e),L=r[0],D=r[1];else{if(v(r,-h,h,e),!r)throw Error(s+e+" cannot be zero: "+r);L=-(D=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(s+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!r,Error(s+"crypto unavailable");U=r}else U=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(r=t[e],0,9,e),B=r),t.hasOwnProperty(e="POW_PRECISION")&&(v(r=t[e],0,h,e),F=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(s+e+" not an object: "+r);V=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+e+" invalid: "+r);H=r}}return{DECIMAL_PLACES:N,ROUNDING_MODE:k,EXPONENTIAL_AT:[C,M],RANGE:[L,D],CRYPTO:U,MODULO_MODE:B,POW_PRECISION:F,FORMAT:V,ALPHABET:H}},K.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!K.DEBUG)return!0;var e,r,n=t.c,i=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-h&&i<=h&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%c)<1&&(e+=c),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=u||r!==o(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+t)},K.maximum=K.max=function(){return q(arguments,R.lt)},K.minimum=K.min=function(){return q(arguments,R.gt)},K.random=(O=9007199254740992,S=Math.random()*O&2097151?function(){return o(Math.random()*O)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,a,u,l=0,p=[],d=new K(j);if(null==t?t=N:v(t,0,h),a=i(t/c),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*e[l]+(e[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[l]=r[0],e[l+1]=r[1]):(p.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw U=!1,Error(s+"crypto unavailable");for(e=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(p.push(u%1e14),l+=7);l=a/7}if(!U)for(;l<a;)(u=S())<9e15&&(p[l++]=u%1e14);for(a=p[--l],t%=c,a&&t&&(u=f[c-t],p[l]=o(a/u)*u);0===p[l];p.pop(),l--);if(l<0)p=[n=0];else{for(n=-1;0===p[0];p.splice(0,1),n-=c);for(l=1,u=p[0];u>=10;u/=10,l++);l<c&&(n-=c-l)}return d.e=n,d.c=p,d}),K.sum=function(){for(var t=1,e=arguments,r=new K(e[0]);t<e.length;)r=r.plus(e[t++]);return r},w=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var u,c,l,f,p,h,d,y,v=n.indexOf("."),m=N,g=k;for(v>=0&&(f=F,F=0,n=n.replace(".",""),h=(y=new K(i)).pow(n.length-v),F=f,y.c=e(_(b(h.c),h.e,"0"),10,o,t),y.e=y.c.length),l=f=(d=e(n,i,o,a?(u=H,t):(u=t,H))).length;0==d[--f];d.pop());if(!d[0])return u.charAt(0);if(v<0?--l:(h.c=d,h.e=l,h.s=s,d=(h=r(h,y,m,g,o)).c,p=h.r,l=h.e),v=d[c=l+m+1],f=o/2,p=p||c<0||null!=d[c+1],p=g<4?(null!=v||p)&&(0==g||g==(h.s<0?3:2)):v>f||v==f&&(4==g||p||6==g&&1&d[c-1]||g==(h.s<0?8:7)),c<1||!d[0])n=p?_(u.charAt(1),-m,u.charAt(0)):u.charAt(0);else{if(d.length=c,p)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(f=d.length;!d[--f];);for(v=0,n="";v<=f;n+=u.charAt(d[v++]));n=_(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%p,l=e/p|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%p)+(n=l*o+(s=t[u]/p|0)*c)%p*p+a)/r|0)+(n/p|0)+l*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,s,a,l){var f,p,h,b,y,v,m,g,_,w,E,O,S,x,A,P,T,I=n.s==i.s?1:-1,R=n.c,j=i.c;if(!(R&&R[0]&&j&&j[0]))return new K(n.s&&i.s&&(R?!j||R[0]!=j[0]:j)?R&&0==R[0]||!j?0*I:I/0:NaN);for(_=(g=new K(I)).c=[],I=s+(p=n.e-i.e)+1,l||(l=u,p=d(n.e/c)-d(i.e/c),I=I/c|0),h=0;j[h]==(R[h]||0);h++);if(j[h]>(R[h]||0)&&p--,I<0)_.push(1),b=!0;else{for(x=R.length,P=j.length,h=0,I+=2,(y=o(l/(j[0]+1)))>1&&(j=t(j,y,l),R=t(R,y,l),P=j.length,x=R.length),S=P,E=(w=R.slice(0,P)).length;E<P;w[E++]=0);T=j.slice(),T=[0].concat(T),A=j[0],j[1]>=l/2&&A++;do{if(y=0,(f=e(j,w,P,E))<0){if(O=w[0],P!=E&&(O=O*l+(w[1]||0)),(y=o(O/A))>1)for(y>=l&&(y=l-1),m=(v=t(j,y,l)).length,E=w.length;1==e(v,w,m,E);)y--,r(v,P<m?T:j,m,l),m=v.length,f=1;else 0==y&&(f=y=1),m=(v=j.slice()).length;if(m<E&&(v=[0].concat(v)),r(w,v,E,l),E=w.length,-1==f)for(;e(j,w,P,E)<1;)y++,r(w,P<E?T:j,E,l),E=w.length}else 0===f&&(y++,w=[0]);_[h++]=y,w[0]?w[E++]=R[S]||0:(w=[R[S]],E=1)}while((S++<x||null!=w[0])&&I--);b=null!=w[0],_[0]||_.splice(0,1)}if(l==u){for(h=1,I=_[0];I>=10;I/=10,h++);W(g,s+(g.e=h+p*c-1)+1,a,b)}else g.e=p,g.r=+b;return g}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,P=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(t,e,r,n){var i,o=r?e:e.replace(I,"");if(T.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(x,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(A,"$1").replace(P,"0.$1")),e!=o))return new K(o,i);if(K.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new K(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return y(this,new K(t,e))},R.decimalPlaces=R.dp=function(t,e){var r,n,i,o=this;if(null!=t)return v(t,0,h),null==e?e=k:v(e,0,8),W(new K(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-d(this.e/c))*c,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(t,e){return r(this,new K(t,e),N,k)},R.dividedToIntegerBy=R.idiv=function(t,e){return r(this,new K(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var r,n,a,u,l,f,p,h,d=this;if((t=new K(t)).c&&!t.isInteger())throw Error(s+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new K(e)),l=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return h=new K(Math.pow(+Y(d),l?2-m(t):+Y(t))),e?h.mod(e):h;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new K(NaN);(n=!f&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return u=d.s<0&&m(t)?-0:0,d.e>-1&&(u=1/u),new K(f?1/u:u);F&&(u=i(F/c+2))}for(l?(r=new K(.5),f&&(t.s=1),p=m(t)):p=(a=Math.abs(+Y(t)))%2,h=new K(j);;){if(p){if(!(h=h.times(d)).c)break;u?h.c.length>u&&(h.c.length=u):n&&(h=h.mod(e))}if(a){if(0===(a=o(a/2)))break;p=a%2}else if(W(t=t.times(r),t.e+1,1),t.e>14)p=m(t);else{if(0===(a=+Y(t)))break;p=a%2}d=d.times(d),u?d.c&&d.c.length>u&&(d.c.length=u):n&&(d=d.mod(e))}return n?h:(f&&(h=j.div(h)),e?h.mod(e):u?W(h,F,k,undefined):h)},R.integerValue=function(t){var e=new K(this);return null==t?t=k:v(t,0,8),W(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===y(this,new K(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return y(this,new K(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=y(this,new K(t,e)))||0===e},R.isInteger=function(){return!!this.c&&d(this.e/c)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return y(this,new K(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=y(this,new K(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new K(t,e)).s,!a||!e)return new K(NaN);if(a!=e)return t.s=-e,s.plus(t);var l=s.e/c,f=t.e/c,p=s.c,h=t.c;if(!l||!f){if(!p||!h)return p?(t.s=-e,t):new K(h?s:NaN);if(!p[0]||!h[0])return h[0]?(t.s=-e,t):new K(p[0]?s:3==k?-0:0)}if(l=d(l),f=d(f),p=p.slice(),a=l-f){for((o=a<0)?(a=-a,i=p):(f=l,i=h),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=p.length)<(e=h.length))?a:e,a=e=0;e<n;e++)if(p[e]!=h[e]){o=p[e]<h[e];break}if(o&&(i=p,p=h,h=i,t.s=-t.s),(e=(n=h.length)-(r=p.length))>0)for(;e--;p[r++]=0);for(e=u-1;n>a;){if(p[--n]<h[n]){for(r=n;r&&!p[--r];p[r]=e);--p[r],p[n]+=u}p[n]-=h[n]}for(;0==p[0];p.splice(0,1),--f);return p[0]?z(t,p,f):(t.s=3==k?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return t=new K(t,e),!o.c||!t.s||t.c&&!t.c[0]?new K(NaN):!t.c||o.c&&!o.c[0]?new K(o):(9==B?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,B),(t=o.minus(n.times(t))).c[0]||1!=B||(t.s=o.s),t)},R.multipliedBy=R.times=function(t,e){var r,n,i,o,s,a,l,f,h,b,y,v,m,g,_,w=this,E=w.c,O=(t=new K(t,e)).c;if(!(E&&O&&E[0]&&O[0]))return!w.s||!t.s||E&&!E[0]&&!O||O&&!O[0]&&!E?t.c=t.e=t.s=null:(t.s*=w.s,E&&O?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=d(w.e/c)+d(t.e/c),t.s*=w.s,(l=E.length)<(b=O.length)&&(m=E,E=O,O=m,i=l,l=b,b=i),i=l+b,m=[];i--;m.push(0));for(g=u,_=p,i=b;--i>=0;){for(r=0,y=O[i]%_,v=O[i]/_|0,o=i+(s=l);o>i;)r=((f=y*(f=E[--s]%_)+(a=v*f+(h=E[s]/_|0)*y)%_*_+m[o]+r)/g|0)+(a/_|0)+v*h,m[o--]=f%g;m[o]=r}return r?++n:m.splice(0,1),z(t,m,n)},R.negated=function(){var t=new K(this);return t.s=-t.s||null,t},R.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new K(t,e)).s,!i||!e)return new K(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/c,s=t.e/c,a=n.c,l=t.c;if(!o||!s){if(!a||!l)return new K(i/0);if(!a[0]||!l[0])return l[0]?t:new K(a[0]?n:0*i)}if(o=d(o),s=d(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=l):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=l.length)<0&&(r=l,l=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+l[e]+i)/u|0,a[e]=u===a[e]?0:a[e]%u;return i&&(a=[i].concat(a),++s),z(t,a,s)},R.precision=R.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return v(t,1,h),null==e?e=k:v(e,0,8),W(new K(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*c+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},R.shiftedBy=function(t){return v(t,-9007199254740991,l),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,l=N+4,f=new K("0.5");if(1!==u||!a||!a[0])return new K(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+Y(s)))||u==1/0?(((e=b(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=d((c+1)/2)-(c<0||c%2),n=new K(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new K(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(o=n,n=f.times(o.plus(r(s,o,l,1))),b(o.c).slice(0,u)===(e=b(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+N+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+N+2,0),o.times(o).eq(s))){n=o;break}l+=4,u+=4,i=1}return W(n,n.e+N+1,k,t)},R.toExponential=function(t,e){return null!=t&&(v(t,0,h),t++),G(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(v(t,0,h),t=t+this.e+1),G(this,t,e)},R.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=V;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,a=n.split("."),u=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",f=a[0],p=a[1],h=i.s<0,d=h?f.slice(1):f,b=d.length;if(c&&(o=u,u=c,c=o,b-=o),u>0&&b>0){for(o=b%u||u,f=d.substr(0,o);o<b;o+=u)f+=l+d.substr(o,u);c>0&&(f+=l+d.slice(o)),h&&(f="-"+f)}n=p?f+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?p.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):p):f}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(t){var e,n,i,o,a,u,l,p,h,d,y,v,m=this,g=m.c;if(null!=t&&(!(l=new K(t)).isInteger()&&(l.c||1!==l.s)||l.lt(j)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!g)return new K(m);for(e=new K(j),h=n=new K(j),i=p=new K(j),v=b(g),a=e.e=v.length-m.e-1,e.c[0]=f[(u=a%c)<0?c+u:u],t=!t||l.comparedTo(e)>0?a>0?e:h:l,u=D,D=1/0,l=new K(v),p.c[0]=0;d=r(l,e,0,1),1!=(o=n.plus(d.times(i))).comparedTo(t);)n=i,i=o,h=p.plus(d.times(o=h)),p=o,e=l.minus(d.times(o=e)),l=o;return o=r(t.minus(n),i,0,1),p=p.plus(o.times(h)),n=n.plus(o.times(i)),p.s=h.s=m.s,y=r(h,i,a*=2,k).minus(m).abs().comparedTo(r(p,n,a,k).minus(m).abs())<1?[h,i]:[p,n],D=u,y},R.toNumber=function(){return+Y(this)},R.toPrecision=function(t,e){return null!=t&&v(t,1,h),G(this,t,e,2)},R.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=i<=C||i>=M?g(b(r.c),i):_(b(r.c),i,"0"):10===t?e=_(b((r=W(new K(r),N+i+1,k)).c),r.e,"0"):(v(t,2,H.length,"Base"),e=w(_(b(r.c),i,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=e&&K.set(e),K}()).default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==e&&e.exports?e.exports=r:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=r)}(this)},{}],10:[function(t,e,r){const n=t("./util");function i(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function o(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,n,s,a){const u=f[s],c=f[s+1],p=f[a],h=f[a+1];i(l,t,e),o(l,t,u,c);let d=l[n]^l[t],b=l[n+1]^l[t+1];l[n]=b,l[n+1]=d,i(l,r,n),d=l[e]^l[r],b=l[e+1]^l[r+1],l[e]=d>>>24^b<<8,l[e+1]=b>>>24^d<<8,i(l,t,e),o(l,t,p,h),d=l[n]^l[t],b=l[n+1]^l[t+1],l[n]=d>>>16^b<<16,l[n+1]=b>>>16^d<<16,i(l,r,n),d=l[e]^l[r],b=l[e+1]^l[r+1],l[e]=b>>>31^d<<1,l[e+1]=d>>>31^b<<1}const u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),l=new Uint32Array(32),f=new Uint32Array(32);function p(t,e){let r=0;for(r=0;r<16;r++)l[r]=t.h[r],l[r+16]=u[r];for(l[24]=l[24]^t.t,l[25]=l[25]^t.t/4294967296,e&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)f[r]=s(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,c[16*r+0],c[16*r+1]),a(2,10,18,26,c[16*r+2],c[16*r+3]),a(4,12,20,28,c[16*r+4],c[16*r+5]),a(6,14,22,30,c[16*r+6],c[16*r+7]),a(0,10,20,30,c[16*r+8],c[16*r+9]),a(2,12,22,24,c[16*r+10],c[16*r+11]),a(4,14,16,26,c[16*r+12],c[16*r+13]),a(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^l[r]^l[r+16]}function h(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};for(let t=0;t<16;t++)r.h[t]=u[t];const n=e?e.length:0;return r.h[0]^=16842752^n<<8^t,e&&(d(r,e),r.c=128),r}function d(t,e){for(let r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,p(t,!1),t.c=0),t.b[t.c++]=e[r]}function b(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;p(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function y(t,e,r){r=r||64,t=n.normalizeInput(t);const i=h(r,e);return d(i,t),b(i)}e.exports={blake2b:y,blake2bHex:function(t,e,r){const i=y(t,e,r);return n.toHex(i)},blake2bInit:h,blake2bUpdate:d,blake2bFinal:b}},{"./util":13}],11:[function(t,e,r){const n=t("./util");function i(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function o(t,e,r,n,i,o){c[t]=c[t]+c[e]+i,c[n]=s(c[n]^c[t],16),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],12),c[t]=c[t]+c[e]+o,c[n]=s(c[n]^c[t],8),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],7)}function s(t,e){return t>>>e^t<<32-e}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function f(t,e){let r=0;for(r=0;r<8;r++)c[r]=t.h[r],c[r+8]=a[r];for(c[12]^=t.t,c[13]^=t.t/4294967296,e&&(c[14]=~c[14]),r=0;r<16;r++)l[r]=i(t.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,l[u[16*r+0]],l[u[16*r+1]]),o(1,5,9,13,l[u[16*r+2]],l[u[16*r+3]]),o(2,6,10,14,l[u[16*r+4]],l[u[16*r+5]]),o(3,7,11,15,l[u[16*r+6]],l[u[16*r+7]]),o(0,5,10,15,l[u[16*r+8]],l[u[16*r+9]]),o(1,6,11,12,l[u[16*r+10]],l[u[16*r+11]]),o(2,7,8,13,l[u[16*r+12]],l[u[16*r+13]]),o(3,4,9,14,l[u[16*r+14]],l[u[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=c[r]^c[r+8]}function p(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(h(n,e),n.c=64),n}function h(t,e){for(let r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,f(t,!1),t.c=0),t.b[t.c++]=e[r]}function d(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;f(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function b(t,e,r){r=r||32,t=n.normalizeInput(t);const i=p(r,e);return h(i,t),d(i)}e.exports={blake2s:b,blake2sHex:function(t,e,r){const i=b(t,e,r);return n.toHex(i)},blake2sInit:p,blake2sUpdate:h,blake2sFinal:d}},{"./util":13}],12:[function(t,e,r){const n=t("./blake2b"),i=t("./blake2s");e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},{"./blake2b":10,"./blake2s":11}],13:[function(t,e,r){(function(t){(function(){function r(t){return(4294967296+t).toString(16).substring(1)}e.exports={normalizeInput:function(e){let r;if(e instanceof Uint8Array)r=e;else if(e instanceof t)r=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");r=new Uint8Array(t.from(e,"utf8"))}return r},toHex:function(t){return Array.prototype.map.call(t,(function(t){return(t<16?"0":"")+t.toString(16)})).join("")},debugPrint:function(t,e,n){let i="\n"+t+" = ";for(let o=0;o<e.length;o+=2){if(32===n)i+=r(e[o]).toUpperCase(),i+=" ",i+=r(e[o+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);i+=r(e[o+1]).toUpperCase(),i+=r(e[o]).toUpperCase()}o%6==4?i+="\n"+new Array(t.length+4).join(" "):o<e.length-2&&(i+=" ")}console.log(i)},testSpeed:function(t,e,r){let n=(new Date).getTime();const i=new Uint8Array(e);for(let t=0;t<e;t++)i[t]=t%256;const o=(new Date).getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let o=0;o<r;o++){const r=t(i),o=(new Date).getTime(),s=o-n;n=o,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:15}],14:[function(t,e,r){},{}],15:[function(t,e,r){(function(e){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var e=t("base64-js"),n=t("ieee754");r.Buffer=s,r.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=s.prototype,e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return a(t,e,r)}function a(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|p(t,e),n=o(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=s.prototype,n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);var i=function(t){if(s.isBuffer(t)){var e=0|f(t.length),r=o(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||V(t.length)?o(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),o(t<0?0:0|f(t))}function l(t){for(var e=t.length<0?0:0|f(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function p(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(t).length;default:if(i)return n?-1:D(t).length;e=(""+e).toLowerCase(),i=!0}}function h(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return O(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){f=!1;break}if(f)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(V(a))return s;t[r+s]=a}return s}function m(t,e,r,n){return B(D(e,t.length-r),t,r,n)}function g(t,e,r,n){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return g(t,e,r,n)}function w(t,e,r,n){return B(U(e),t,r,n)}function E(t,e,r,n){return B(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function O(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}r.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,e,r){return a(t,e,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},s.allocUnsafe=function(t){return c(t)},s.allocUnsafeSlow=function(t){return c(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(F(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):h.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,i){if(F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return g(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=L(t[o]);return i}function I(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function C(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,0,r,8),n.write(t,e,r,i,52,8),r+8}s.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,r){return k(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return k(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return C(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return C(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var M=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":8,buffer:15,ieee754:42}],16:[function(t,e,r){var n=t("base-x");e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},{"base-x":7}],17:[function(t,e,r){"use strict";var n=t("bs58"),i=t("safe-buffer").Buffer;e.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},{bs58:16,"safe-buffer":310}],18:[function(t,e,r){"use strict";var n=t("create-hash"),i=t("./base");e.exports=i((function(t){var e=n("sha256").update(t).digest();return n("sha256").update(e).digest()}))},{"./base":17,"create-hash":22}],19:[function(t,e,r){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],20:[function(t,e,r){var n=t("safe-buffer").Buffer,i=t("stream").Transform,o=t("string_decoder").StringDecoder;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(s,i),s.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},e.exports=s},{inherits:43,"safe-buffer":310,stream:319,string_decoder:353}],21:[function(t,e,r){!function(){"use strict";function t(e,r,n,i){return this instanceof t?(this.domain=e||void 0,this.path=r||"/",this.secure=!!n,this.script=!!i,this):new t(e,r,n,i)}function e(t,r,n){return t instanceof e?t:this instanceof e?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=r||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,r,n),this):new e(t,r,n)}t.All=Object.freeze(Object.create(null)),r.CookieAccessInfo=t,r.Cookie=e,e.prototype.toString=function(){var t=[this.name+"="+this.value];return this.expiration_date!==1/0&&t.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&t.push("domain="+this.domain),this.path&&t.push("path="+this.path),this.secure&&t.push("secure"),this.noscript&&t.push("httponly"),t.join("; ")},e.prototype.toValueString=function(){return this.name+"="+this.value};var n=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function i(){var t,r;return this instanceof i?(t=Object.create(null),this.setCookie=function(n,i,o){var s,a;if(s=(n=new e(n,i,o)).expiration_date<=Date.now(),void 0!==t[n.name]){for(r=t[n.name],a=0;a<r.length;a+=1)if(r[a].collidesWith(n))return s?(r.splice(a,1),0===r.length&&delete t[n.name],!1):(r[a]=n,n);return!s&&(r.push(n),n)}return!s&&(t[n.name]=[n],t[n.name])},this.getCookie=function(e,n){var i,o;if(r=t[e])for(o=0;o<r.length;o+=1)if((i=r[o]).expiration_date<=Date.now())0===r.length&&delete t[i.name];else if(i.matches(n))return i},this.getCookies=function(e){var r,n,i=[];for(r in t)(n=this.getCookie(r,e))&&i.push(n);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(t){return t.toValueString()})).join(";")},i},this):new i}e.prototype.parse=function(t,r,n){if(this instanceof e){var i,o=t.split(";").filter((function(t){return!!t})),s=o[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+t+"'");var a=s[1],u=s[2];if("string"!=typeof a||0===a.length||"string"!=typeof u)return void console.warn("Unable to extract values from cookie header. Cookie: '"+t+"'");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case"path":this.path=u?u.trim():"",this.explicit_path=!0;break;case"domain":this.domain=u?u.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=r),this}return(new e).parse(t,r,n)},e.prototype.matches=function(e){return e===t.All||!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},e.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var e=t.domain&&t.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===e)return!0;if(r){if(!this.explicit_domain)return!1;var n=e.indexOf(r);return-1!==n&&n===e.length-r.length}return!0},r.CookieJar=i,i.prototype.setCookies=function(t,r,i){var o,s,a=[];for(t=(t=Array.isArray(t)?t:t.split(n)).map((function(t){return new e(t,r,i)})),o=0;o<t.length;o+=1)s=t[o],this.setCookie(s,r,i)&&a.push(s);return a}}()},{}],22:[function(t,e,r){"use strict";var n=t("inherits"),i=t("md5.js"),o=t("ripemd160"),s=t("sha.js"),a=t("cipher-base");function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(s(t))}},{"cipher-base":20,inherits:43,"md5.js":102,ripemd160:109,"sha.js":312}],23:[function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&v(t,"error",e,r)}(t,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,o,s,a;if(c(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):y(i,i.length)}function b(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function v(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=y(u,c);for(r=0;r<c;++r)o(l[r],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,h(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,n,i,o,s;if(c(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},a.prototype.listenerCount=b,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],24:[function(t,e,r){"use strict";e.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,n="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(r=e.cmp,function(t){return function(e,n){var i={key:e,value:t[e]},o={key:n,value:t[n]};return r(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,s;if(Array.isArray(e)){for(s="[",r=0;r<e.length;r++)r&&(s+=","),s+=t(e[r])||"null";return s+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(s="",r=0;r<u.length;r++){var c=u[r],l=t(e[c]);l&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(t)}},{}],25:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},{inherits:43,"readable-stream":40,"safe-buffer":310}],26:[function(t,e,r){"use strict";var n={};function i(t,e,r){r||(r=Error);var i=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=t,n[t]=i}function o(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,s,a;if("string"==typeof e&&(i="not ",e.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(n," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],27:[function(t,e,r){(function(r){(function(){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=c;var i=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(c,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":29,"./_stream_writable":31,_process:104,inherits:43}],28:[function(t,e,r){"use strict";e.exports=i;var n=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}t("inherits")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":30,inherits:43}],29:[function(t,e,r){(function(r,n){(function(){"use strict";var i;e.exports=x,x.ReadableState=S;t("events").EventEmitter;var o=function(t,e){return t.listeners(e).length},s=t("./internal/streams/stream"),a=t("buffer").Buffer,u=n.Uint8Array||function(){};var c,l=t("util");c=l&&l.debuglog?l.debuglog("stream"):function(){};var f,p,h,d=t("./internal/streams/buffer_list"),b=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,v=t("../errors").codes,m=v.ERR_INVALID_ARG_TYPE,g=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(x,s);var E=b.errorOrDestroy,O=["error","close","destroy","pause","resume"];function S(e,r,n){i=i||t("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function x(e){if(i=i||t("./_stream_duplex"),!(this instanceof x))return new x(e);var r=this instanceof i;this._readableState=new S(e,this,r),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(t,e,r,n,i){c("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,j(t)))}(t,s);else if(i||(o=function(t,e){var r;n=e,a.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(s,e)),o)E(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)s.endEmitted?E(t,new w):P(t,s,e,!0);else if(s.ended)E(t,new g);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?P(t,s,e,!1):N(t,s)):P(t,s,e,!1)}else n||(s.reading=!1,N(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function P(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&R(t)),N(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=b.destroy,x.prototype._undestroy=b.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),A(this,t,e,!1,r)},x.prototype.unshift=function(t){return A(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){f||(f=t("string_decoder/").StringDecoder);var r=new f(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function I(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(j,t))}function j(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D(t)}function N(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(k,t,e))}function k(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(c("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function C(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){c("readable nexttick read 0"),t.read(0)}function L(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function B(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(F,e,t))}function F(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function V(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}x.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):R(this),null;if(0===(t=I(t,e))&&e.ended)return 0===e.length&&B(this),null;var n,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=I(r,e))),null===(n=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){E(this,new _("_read()"))},x.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:y;function a(e,r){c("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),t.removeListener("close",d),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function u(){c("onend"),t.end()}i.endEmitted?r.nextTick(s):n.once("end",s),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,D(t))}}(n);t.on("drain",l);var f=!1;function p(e){c("ondata");var r=t.write(e);c("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==V(i.pipes,t))&&!f&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(e){c("onerror",e),y(),t.removeListener("error",h),0===o(t,"error")&&E(t,e)}function d(){t.removeListener("finish",b),y()}function b(){c("onfinish"),t.removeListener("close",d),y()}function y(){c("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",d),t.once("finish",b),t.emit("pipe",n),i.flowing||(c("pipe resume"),n.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=V(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(M,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(C,this),n},x.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(C,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(L,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<O.length;o++)t.on(O[o],this.emit.bind(this,O[o]));return this._read=function(e){c("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=t("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=U,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,r){return void 0===h&&(h=t("./internal/streams/from")),h(x,e,r)})}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":26,"./_stream_duplex":27,"./internal/streams/async_iterator":32,"./internal/streams/buffer_list":33,"./internal/streams/destroy":34,"./internal/streams/from":36,"./internal/streams/state":38,"./internal/streams/stream":39,_process:104,buffer:15,events:23,inherits:43,"string_decoder/":353,util:14}],30:[function(t,e,r){"use strict";e.exports=l;var n=t("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(e,r){p(t,e,r)}))}function p(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}t("inherits")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":26,"./_stream_duplex":27,inherits:43}],31:[function(t,e,r){(function(r,n){(function(){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var o;e.exports=x,x.WritableState=S;var s={deprecate:t("util-deprecate")},a=t("./internal/streams/stream"),u=t("buffer").Buffer,c=n.Uint8Array||function(){};var l,f=t("./internal/streams/destroy"),p=t("./internal/streams/state").getHighWaterMark,h=t("../errors").codes,d=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,g=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function O(){}function S(e,n,s){o=o||t("./_stream_duplex"),e=e||{},"boolean"!=typeof s&&(s=n instanceof o),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(j,t,e),t._writableState.errorEmitted=!0,E(t,i)):(o(i),t._writableState.errorEmitted=!0,E(t,i),j(t,e))}(t,n,i,e,o);else{var s=I(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),i?r.nextTick(P,t,n,s,o):P(t,n,s,o)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(e){var r=this instanceof(o=o||t("./_stream_duplex"));if(!r&&!l.call(x,this))return new x(e);this._writableState=new S(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function A(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function P(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),j(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,A(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(A(t,e,!1,e.objectMode?1:c.length,c,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function I(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function R(t,e){t._final((function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit("prefinish"),j(t,e)}))}function j(t,e){var n=I(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(R,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}t("inherits")(x,a),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===x&&(t&&t._writableState instanceof S)}})):l=function(t){return t instanceof this},x.prototype.pipe=function(){E(this,new v)},x.prototype.write=function(t,e,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=t,u.isBuffer(i)||i instanceof c);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=O),o.ending?function(t,e){var n=new _;E(t,n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o;return null===n?o=new g:"string"==typeof n||e.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(E(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,a,n,i,o);return c}(this,o,a,t,e,n)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,r){r(new b("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,j(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":26,"./_stream_duplex":27,"./internal/streams/destroy":34,"./internal/streams/state":38,"./internal/streams/stream":39,_process:104,buffer:15,inherits:43,"util-deprecate":357}],32:[function(t,e,r){(function(r){(function(){"use strict";var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=t("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(t,e){return{value:t,done:e}}function d(t){var e=t[s];if(null!==e){var r=t[p].read();null!==r&&(t[l]=null,t[s]=null,t[a]=null,e(h(r,!1)))}}function b(t){r.nextTick(d,t)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise((function(e,n){r.nextTick((function(){t[u]?n(t[u]):e(h(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[c]?r(h(void 0,!0)):e[f](r,n)}),n)}}(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[f])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[p].destroy(null,(function(t){t?r(t):e(h(void 0,!0))}))}))})),n),y);e.exports=function(t){var e,r=Object.create(v,(i(e={},p,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:t._readableState.endEmitted,writable:!0}),i(e,f,{value:function(t,e){var n=r[p].read();n?(r[l]=null,r[s]=null,r[a]=null,t(h(n,!1))):(r[s]=t,r[a]=e)},writable:!0}),e));return r[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[s]=null,r[a]=null,e(t)),void(r[u]=t)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(h(void 0,!0))),r[c]=!0})),t.on("readable",b.bind(null,r)),r}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":35,_process:104}],33:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=t("buffer").Buffer,a=t("util").inspect,u=a&&a.custom||"inspect";e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,c;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,r,n,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=i,n=a,s.prototype.copy.call(e,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),c&&o(e,c),t}()},{buffer:15,util:14}],34:[function(t,e,r){(function(t){(function(){"use strict";function r(t,e){i(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}e.exports={destroy:function(e,o){var s=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?s._writableState?s._writableState.errorEmitted?t.nextTick(n,s):(s._writableState.errorEmitted=!0,t.nextTick(r,s,e)):t.nextTick(r,s,e):o?(t.nextTick(n,s),o(e)):t.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this)}).call(this,t("_process"))},{_process:104}],35:[function(t,e,r){"use strict";var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,s||o.call(e)},f=e._readableState&&e._readableState.endEmitted,p=function(){s=!1,f=!0,a||o.call(e)},h=function(t){o.call(e,t)},d=function(){var t;return s&&!f?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},b=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",l),e.on("abort",d),e.req?b():e.on("request",b)),e.on("end",p),e.on("finish",l),!1!==r.error&&e.on("error",h),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",b),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",p),e.removeListener("error",h),e.removeListener("close",d)}}},{"../../../errors":26}],36:[function(t,e,r){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],37:[function(t,e,r){"use strict";var n;var i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(e,r,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=t("./end-of-stream")),n(e,{readable:r,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function f(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}e.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,r){var o=r<e.length-1;return u(t,o,r>0,(function(t){n||(n=t),t&&s.forEach(c),o||(s.forEach(c),i(n))}))}));return e.reduce(l)}},{"../../../errors":26,"./end-of-stream":35}],38:[function(t,e,r){"use strict";var n=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},{"../../../errors":26}],39:[function(t,e,r){e.exports=t("events").EventEmitter},{events:23}],40:[function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js"),r.finished=t("./lib/internal/streams/end-of-stream.js"),r.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":27,"./lib/_stream_passthrough.js":28,"./lib/_stream_readable.js":29,"./lib/_stream_transform.js":30,"./lib/_stream_writable.js":31,"./lib/internal/streams/end-of-stream.js":35,"./lib/internal/streams/pipeline.js":37}],41:[function(t,e,r){var n=t("http"),i=t("url"),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),n.request.call(this,t,e)},o.get=function(t,e){return t=a(t),n.get.call(this,t,e)}},{http:334,url:355}],42:[function(t,e,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+h]=255&s,h+=d,s/=256,c-=8);t[r+h-d]|=128*b}},{}],43:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],44:[function(t,e,r){var n=t("./_hashClear"),i=t("./_hashDelete"),o=t("./_hashGet"),s=t("./_hashHas"),a=t("./_hashSet");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},{"./_hashClear":66,"./_hashDelete":67,"./_hashGet":68,"./_hashHas":69,"./_hashSet":70}],45:[function(t,e,r){var n=t("./_listCacheClear"),i=t("./_listCacheDelete"),o=t("./_listCacheGet"),s=t("./_listCacheHas"),a=t("./_listCacheSet");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},{"./_listCacheClear":75,"./_listCacheDelete":76,"./_listCacheGet":77,"./_listCacheHas":78,"./_listCacheSet":79}],46:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Map");e.exports=n},{"./_getNative":63,"./_root":88}],47:[function(t,e,r){var n=t("./_mapCacheClear"),i=t("./_mapCacheDelete"),o=t("./_mapCacheGet"),s=t("./_mapCacheHas"),a=t("./_mapCacheSet");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},{"./_mapCacheClear":80,"./_mapCacheDelete":81,"./_mapCacheGet":82,"./_mapCacheHas":83,"./_mapCacheSet":84}],48:[function(t,e,r){var n=t("./_root").Symbol;e.exports=n},{"./_root":88}],49:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},{}],50:[function(t,e,r){var n=t("./_baseAssignValue"),i=t("./eq"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},{"./_baseAssignValue":52,"./eq":92}],51:[function(t,e,r){var n=t("./eq");e.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},{"./eq":92}],52:[function(t,e,r){var n=t("./_defineProperty");e.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},{"./_defineProperty":60}],53:[function(t,e,r){var n=t("./_castPath"),i=t("./_toKey");e.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},{"./_castPath":58,"./_toKey":90}],54:[function(t,e,r){var n=t("./_Symbol"),i=t("./_getRawTag"),o=t("./_objectToString"),s=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},{"./_Symbol":48,"./_getRawTag":64,"./_objectToString":87}],55:[function(t,e,r){var n=t("./isFunction"),i=t("./_isMasked"),o=t("./isObject"),s=t("./_toSource"),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!o(t)||i(t))&&(n(t)?p:a).test(s(t))}},{"./_isMasked":74,"./_toSource":91,"./isFunction":95,"./isObject":96}],56:[function(t,e,r){var n=t("./_assignValue"),i=t("./_castPath"),o=t("./_isIndex"),s=t("./isObject"),a=t("./_toKey");e.exports=function(t,e,r,u){if(!s(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,p=t;null!=p&&++c<l;){var h=a(e[c]),d=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(c!=f){var b=p[h];void 0===(d=u?u(b,h,p):void 0)&&(d=s(b)?b:o(e[c+1])?[]:{})}n(p,h,d),p=p[h]}return t}},{"./_assignValue":50,"./_castPath":58,"./_isIndex":71,"./_toKey":90,"./isObject":96}],57:[function(t,e,r){var n=t("./_Symbol"),i=t("./_arrayMap"),o=t("./isArray"),s=t("./isSymbol"),a=n?n.prototype:void 0,u=a?a.toString:void 0;e.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},{"./_Symbol":48,"./_arrayMap":49,"./isArray":94,"./isSymbol":98}],58:[function(t,e,r){var n=t("./isArray"),i=t("./_isKey"),o=t("./_stringToPath"),s=t("./toString");e.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(s(t))}},{"./_isKey":72,"./_stringToPath":89,"./isArray":94,"./toString":101}],59:[function(t,e,r){var n=t("./_root")["__core-js_shared__"];e.exports=n},{"./_root":88}],60:[function(t,e,r){var n=t("./_getNative"),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=i},{"./_getNative":63}],61:[function(t,e,r){(function(t){(function(){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(t,e,r){var n=t("./_isKeyable");e.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},{"./_isKeyable":73}],63:[function(t,e,r){var n=t("./_baseIsNative"),i=t("./_getValue");e.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},{"./_baseIsNative":55,"./_getValue":65}],64:[function(t,e,r){var n=t("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},{"./_Symbol":48}],65:[function(t,e,r){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],66:[function(t,e,r){var n=t("./_nativeCreate");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":86}],67:[function(t,e,r){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],68:[function(t,e,r){var n=t("./_nativeCreate"),i=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},{"./_nativeCreate":86}],69:[function(t,e,r){var n=t("./_nativeCreate"),i=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},{"./_nativeCreate":86}],70:[function(t,e,r){var n=t("./_nativeCreate");e.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},{"./_nativeCreate":86}],71:[function(t,e,r){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},{}],72:[function(t,e,r){var n=t("./isArray"),i=t("./isSymbol"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},{"./isArray":94,"./isSymbol":98}],73:[function(t,e,r){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],74:[function(t,e,r){var n,i=t("./_coreJsData"),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(t){return!!o&&o in t}},{"./_coreJsData":59}],75:[function(t,e,r){e.exports=function(){this.__data__=[],this.size=0}},{}],76:[function(t,e,r){var n=t("./_assocIndexOf"),i=Array.prototype.splice;e.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},{"./_assocIndexOf":51}],77:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},{"./_assocIndexOf":51}],78:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){return n(this.__data__,t)>-1}},{"./_assocIndexOf":51}],79:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},{"./_assocIndexOf":51}],80:[function(t,e,r){var n=t("./_Hash"),i=t("./_ListCache"),o=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},{"./_Hash":44,"./_ListCache":45,"./_Map":46}],81:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":62}],82:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).get(t)}},{"./_getMapData":62}],83:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).has(t)}},{"./_getMapData":62}],84:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},{"./_getMapData":62}],85:[function(t,e,r){var n=t("./memoize");e.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},{"./memoize":99}],86:[function(t,e,r){var n=t("./_getNative")(Object,"create");e.exports=n},{"./_getNative":63}],87:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],88:[function(t,e,r){var n=t("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},{"./_freeGlobal":61}],89:[function(t,e,r){var n=t("./_memoizeCapped"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));e.exports=s},{"./_memoizeCapped":85}],90:[function(t,e,r){var n=t("./isSymbol");e.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},{"./isSymbol":98}],91:[function(t,e,r){var n=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],92:[function(t,e,r){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],93:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},{"./_baseGet":53}],94:[function(t,e,r){var n=Array.isArray;e.exports=n},{}],95:[function(t,e,r){var n=t("./_baseGetTag"),i=t("./isObject");e.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},{"./_baseGetTag":54,"./isObject":96}],96:[function(t,e,r){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],97:[function(t,e,r){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],98:[function(t,e,r){var n=t("./_baseGetTag"),i=t("./isObjectLike");e.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},{"./_baseGetTag":54,"./isObjectLike":97}],99:[function(t,e,r){var n=t("./_MapCache");function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},{"./_MapCache":47}],100:[function(t,e,r){var n=t("./_baseSet");e.exports=function(t,e,r){return null==t?t:n(t,e,r)}},{"./_baseSet":56}],101:[function(t,e,r){var n=t("./_baseToString");e.exports=function(t){return null==t?"":n(t)}},{"./_baseToString":57}],102:[function(t,e,r){"use strict";var n=t("inherits"),i=t("hash-base"),o=t("safe-buffer").Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,r,n,i,o,s){return u(t+(e&r|~e&n)+i+o|0,s)+e|0}function l(t,e,r,n,i,o,s){return u(t+(e&n|r&~n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return u(t+(e^r^n)+i+o|0,s)+e|0}function p(t,e,r,n,i,o,s){return u(t+(r^(e|~n))+i+o|0,s)+e|0}n(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,t[0],3614090360,7),o=c(o,r,n,i,t[1],3905402710,12),i=c(i,o,r,n,t[2],606105819,17),n=c(n,i,o,r,t[3],3250441966,22),r=c(r,n,i,o,t[4],4118548399,7),o=c(o,r,n,i,t[5],1200080426,12),i=c(i,o,r,n,t[6],2821735955,17),n=c(n,i,o,r,t[7],4249261313,22),r=c(r,n,i,o,t[8],1770035416,7),o=c(o,r,n,i,t[9],2336552879,12),i=c(i,o,r,n,t[10],4294925233,17),n=c(n,i,o,r,t[11],2304563134,22),r=c(r,n,i,o,t[12],1804603682,7),o=c(o,r,n,i,t[13],4254626195,12),i=c(i,o,r,n,t[14],2792965006,17),r=l(r,n=c(n,i,o,r,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,r,n,i,t[6],3225465664,9),i=l(i,o,r,n,t[11],643717713,14),n=l(n,i,o,r,t[0],3921069994,20),r=l(r,n,i,o,t[5],3593408605,5),o=l(o,r,n,i,t[10],38016083,9),i=l(i,o,r,n,t[15],3634488961,14),n=l(n,i,o,r,t[4],3889429448,20),r=l(r,n,i,o,t[9],568446438,5),o=l(o,r,n,i,t[14],3275163606,9),i=l(i,o,r,n,t[3],4107603335,14),n=l(n,i,o,r,t[8],1163531501,20),r=l(r,n,i,o,t[13],2850285829,5),o=l(o,r,n,i,t[2],4243563512,9),i=l(i,o,r,n,t[7],1735328473,14),r=f(r,n=l(n,i,o,r,t[12],2368359562,20),i,o,t[5],4294588738,4),o=f(o,r,n,i,t[8],2272392833,11),i=f(i,o,r,n,t[11],1839030562,16),n=f(n,i,o,r,t[14],4259657740,23),r=f(r,n,i,o,t[1],2763975236,4),o=f(o,r,n,i,t[4],1272893353,11),i=f(i,o,r,n,t[7],4139469664,16),n=f(n,i,o,r,t[10],3200236656,23),r=f(r,n,i,o,t[13],681279174,4),o=f(o,r,n,i,t[0],3936430074,11),i=f(i,o,r,n,t[3],3572445317,16),n=f(n,i,o,r,t[6],76029189,23),r=f(r,n,i,o,t[9],3654602809,4),o=f(o,r,n,i,t[12],3873151461,11),i=f(i,o,r,n,t[15],530742520,16),r=p(r,n=f(n,i,o,r,t[2],3299628645,23),i,o,t[0],4096336452,6),o=p(o,r,n,i,t[7],1126891415,10),i=p(i,o,r,n,t[14],2878612391,15),n=p(n,i,o,r,t[5],4237533241,21),r=p(r,n,i,o,t[12],1700485571,6),o=p(o,r,n,i,t[3],2399980690,10),i=p(i,o,r,n,t[10],4293915773,15),n=p(n,i,o,r,t[1],2240044497,21),r=p(r,n,i,o,t[8],1873313359,6),o=p(o,r,n,i,t[15],4264355552,10),i=p(i,o,r,n,t[6],2734768916,15),n=p(n,i,o,r,t[13],1309151649,21),r=p(r,n,i,o,t[4],4149444226,6),o=p(o,r,n,i,t[11],3174756917,10),i=p(i,o,r,n,t[2],718787259,15),n=p(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},e.exports=a},{"hash-base":25,inherits:43,"safe-buffer":310}],103:[function(t,e,r){r.endianness=function(){return"LE"},r.hostname=function(){return"undefined"!=typeof location?location.hostname:""},r.loadavg=function(){return[]},r.uptime=function(){return 0},r.freemem=function(){return Number.MAX_VALUE},r.totalmem=function(){return Number.MAX_VALUE},r.cpus=function(){return[]},r.type=function(){return"Browser"},r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},r.networkInterfaces=r.getNetworkInterfaces=function(){return{}},r.arch=function(){return"javascript"},r.platform=function(){return"browser"},r.tmpdir=r.tmpDir=function(){return"/tmp"},r.EOL="\n",r.homedir=function(){return"/"}},{}],104:[function(t,e,r){var n,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new b(t,e)),1!==l.length||f||u(d)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],105:[function(t,e,r){(function(t){(function(){!function(n){var i="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof e&&e&&!e.nodeType&&e,s="object"==typeof t&&t;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var a,u,c=2147483647,l=36,f=/^xn--/,p=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,y=String.fromCharCode;function v(t){throw new RangeError(d[t])}function m(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function g(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+m((t=t.replace(h,".")).split("."),e).join(".")}function _(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function w(t){return m(t,(function(t){var e="";return t>65535&&(e+=y((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=y(t)})).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,r){var n=0;for(t=r?b(t/700):t>>1,t+=b(t/e);t>455;n+=l)t=b(t/35);return b(n+36*t/(t+38))}function S(t){var e,r,n,i,o,s,a,u,f,p,h,d=[],y=t.length,m=0,g=128,_=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&v("not-basic"),d.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=m,s=1,a=l;i>=y&&v("invalid-input"),((u=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>b((c-m)/s))&&v("overflow"),m+=u*s,!(u<(f=a<=_?1:a>=_+26?26:a-_));a+=l)s>b(c/(p=l-f))&&v("overflow"),s*=p;_=O(m-o,e=d.length+1,0==o),b(m/e)>c-g&&v("overflow"),g+=b(m/e),m%=e,d.splice(m++,0,g)}return w(d)}function x(t){var e,r,n,i,o,s,a,u,f,p,h,d,m,g,w,S=[];for(d=(t=_(t)).length,e=128,r=0,o=72,s=0;s<d;++s)(h=t[s])<128&&S.push(y(h));for(n=i=S.length,i&&S.push("-");n<d;){for(a=c,s=0;s<d;++s)(h=t[s])>=e&&h<a&&(a=h);for(a-e>b((c-r)/(m=n+1))&&v("overflow"),r+=(a-e)*m,e=a,s=0;s<d;++s)if((h=t[s])<e&&++r>c&&v("overflow"),h==e){for(u=r,f=l;!(u<(p=f<=o?1:f>=o+26?26:f-o));f+=l)w=u-p,g=l-p,S.push(y(E(p+w%g,0))),u=b(w/g);S.push(y(E(u,0))),o=O(r,m,n==i),r=0,++n}++r,++e}return S.join("")}if(a={version:"1.4.1",ucs2:{decode:_,encode:w},decode:S,encode:x,toASCII:function(t){return g(t,(function(t){return p.test(t)?"xn--"+x(t):t}))},toUnicode:function(t){return g(t,(function(t){return f.test(t)?S(t.slice(4).toLowerCase()):t}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(i&&o)if(e.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else n.punycode=a}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],106:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,h,d,b=t[l].replace(a,"%20"),y=b.indexOf(r);y>=0?(f=b.substr(0,y),p=b.substr(y+1)):(f=b,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),n(s,h)?i(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],107:[function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[s]))})).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],108:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":106,"./encode":107}],109:[function(t,e,r){"use strict";var n=t("buffer").Buffer,i=t("inherits"),o=t("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function b(t,e,r,n,i,o,s,a){return d(t+(e^r^n)+o+s|0,a)+i|0}function y(t,e,r,n,i,o,s,a){return d(t+(e&r|~e&n)+o+s|0,a)+i|0}function v(t,e,r,n,i,o,s,a){return d(t+((e|~r)^n)+o+s|0,a)+i|0}function m(t,e,r,n,i,o,s,a){return d(t+(e&n|r&~n)+o+s|0,a)+i|0}function g(t,e,r,n,i,o,s,a){return d(t+(e^(r|~n))+o+s|0,a)+i|0}i(h,o),h.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,E=0|this._c,O=0|this._d,S=0|this._e,x=0;x<80;x+=1){var A,P;x<16?(A=b(r,n,i,o,h,t[a[x]],f[0],c[x]),P=g(_,w,E,O,S,t[u[x]],p[0],l[x])):x<32?(A=y(r,n,i,o,h,t[a[x]],f[1],c[x]),P=m(_,w,E,O,S,t[u[x]],p[1],l[x])):x<48?(A=v(r,n,i,o,h,t[a[x]],f[2],c[x]),P=v(_,w,E,O,S,t[u[x]],p[2],l[x])):x<64?(A=m(r,n,i,o,h,t[a[x]],f[3],c[x]),P=y(_,w,E,O,S,t[u[x]],p[3],l[x])):(A=g(r,n,i,o,h,t[a[x]],f[4],c[x]),P=b(_,w,E,O,S,t[u[x]],p[4],l[x])),r=h,h=o,o=d(i,10),i=n,n=A,_=S,S=O,O=d(E,10),E=w,w=P}var T=this._b+i+O|0;this._b=this._c+o+S|0,this._c=this._d+h+_|0,this._d=this._e+r+w|0,this._e=this._a+n+E|0,this._a=T},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},e.exports=h},{buffer:15,"hash-base":25,inherits:43}],110:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./internal/Observable");r.Observable=n.Observable;var i=t("./internal/observable/ConnectableObservable");r.ConnectableObservable=i.ConnectableObservable;var o=t("./internal/operators/groupBy");r.GroupedObservable=o.GroupedObservable;var s=t("./internal/symbol/observable");r.observable=s.observable;var a=t("./internal/Subject");r.Subject=a.Subject;var u=t("./internal/BehaviorSubject");r.BehaviorSubject=u.BehaviorSubject;var c=t("./internal/ReplaySubject");r.ReplaySubject=c.ReplaySubject;var l=t("./internal/AsyncSubject");r.AsyncSubject=l.AsyncSubject;var f=t("./internal/scheduler/asap");r.asap=f.asap,r.asapScheduler=f.asapScheduler;var p=t("./internal/scheduler/async");r.async=p.async,r.asyncScheduler=p.asyncScheduler;var h=t("./internal/scheduler/queue");r.queue=h.queue,r.queueScheduler=h.queueScheduler;var d=t("./internal/scheduler/animationFrame");r.animationFrame=d.animationFrame,r.animationFrameScheduler=d.animationFrameScheduler;var b=t("./internal/scheduler/VirtualTimeScheduler");r.VirtualTimeScheduler=b.VirtualTimeScheduler,r.VirtualAction=b.VirtualAction;var y=t("./internal/Scheduler");r.Scheduler=y.Scheduler;var v=t("./internal/Subscription");r.Subscription=v.Subscription;var m=t("./internal/Subscriber");r.Subscriber=m.Subscriber;var g=t("./internal/Notification");r.Notification=g.Notification,r.NotificationKind=g.NotificationKind;var _=t("./internal/util/pipe");r.pipe=_.pipe;var w=t("./internal/util/noop");r.noop=w.noop;var E=t("./internal/util/identity");r.identity=E.identity;var O=t("./internal/util/isObservable");r.isObservable=O.isObservable;var S=t("./internal/util/ArgumentOutOfRangeError");r.ArgumentOutOfRangeError=S.ArgumentOutOfRangeError;var x=t("./internal/util/EmptyError");r.EmptyError=x.EmptyError;var A=t("./internal/util/ObjectUnsubscribedError");r.ObjectUnsubscribedError=A.ObjectUnsubscribedError;var P=t("./internal/util/UnsubscriptionError");r.UnsubscriptionError=P.UnsubscriptionError;var T=t("./internal/util/TimeoutError");r.TimeoutError=T.TimeoutError;var I=t("./internal/observable/bindCallback");r.bindCallback=I.bindCallback;var R=t("./internal/observable/bindNodeCallback");r.bindNodeCallback=R.bindNodeCallback;var j=t("./internal/observable/combineLatest");r.combineLatest=j.combineLatest;var N=t("./internal/observable/concat");r.concat=N.concat;var k=t("./internal/observable/defer");r.defer=k.defer;var C=t("./internal/observable/empty");r.empty=C.empty;var M=t("./internal/observable/forkJoin");r.forkJoin=M.forkJoin;var L=t("./internal/observable/from");r.from=L.from;var D=t("./internal/observable/fromEvent");r.fromEvent=D.fromEvent;var U=t("./internal/observable/fromEventPattern");r.fromEventPattern=U.fromEventPattern;var B=t("./internal/observable/generate");r.generate=B.generate;var F=t("./internal/observable/iif");r.iif=F.iif;var V=t("./internal/observable/interval");r.interval=V.interval;var H=t("./internal/observable/merge");r.merge=H.merge;var K=t("./internal/observable/never");r.never=K.never;var G=t("./internal/observable/of");r.of=G.of;var q=t("./internal/observable/onErrorResumeNext");r.onErrorResumeNext=q.onErrorResumeNext;var z=t("./internal/observable/pairs");r.pairs=z.pairs;var W=t("./internal/observable/partition");r.partition=W.partition;var Y=t("./internal/observable/race");r.race=Y.race;var J=t("./internal/observable/range");r.range=J.range;var X=t("./internal/observable/throwError");r.throwError=X.throwError;var $=t("./internal/observable/timer");r.timer=$.timer;var Q=t("./internal/observable/using");r.using=Q.using;var Z=t("./internal/observable/zip");r.zip=Z.zip;var tt=t("./internal/scheduled/scheduled");r.scheduled=tt.scheduled;var et=t("./internal/observable/empty");r.EMPTY=et.EMPTY;var rt=t("./internal/observable/never");r.NEVER=rt.NEVER;var nt=t("./internal/config");r.config=nt.config},{"./internal/AsyncSubject":111,"./internal/BehaviorSubject":112,"./internal/Notification":114,"./internal/Observable":115,"./internal/ReplaySubject":118,"./internal/Scheduler":119,"./internal/Subject":120,"./internal/Subscriber":122,"./internal/Subscription":123,"./internal/config":124,"./internal/observable/ConnectableObservable":126,"./internal/observable/bindCallback":128,"./internal/observable/bindNodeCallback":129,"./internal/observable/combineLatest":130,"./internal/observable/concat":131,"./internal/observable/defer":132,"./internal/observable/empty":133,"./internal/observable/forkJoin":134,"./internal/observable/from":135,"./internal/observable/fromEvent":137,"./internal/observable/fromEventPattern":138,"./internal/observable/generate":139,"./internal/observable/iif":140,"./internal/observable/interval":141,"./internal/observable/merge":142,"./internal/observable/never":143,"./internal/observable/of":144,"./internal/observable/onErrorResumeNext":145,"./internal/observable/pairs":146,"./internal/observable/partition":147,"./internal/observable/race":148,"./internal/observable/range":149,"./internal/observable/throwError":150,"./internal/observable/timer":151,"./internal/observable/using":152,"./internal/observable/zip":153,"./internal/operators/groupBy":189,"./internal/scheduled/scheduled":261,"./internal/scheduler/VirtualTimeScheduler":271,"./internal/scheduler/animationFrame":272,"./internal/scheduler/asap":273,"./internal/scheduler/async":274,"./internal/scheduler/queue":275,"./internal/symbol/observable":277,"./internal/util/ArgumentOutOfRangeError":279,"./internal/util/EmptyError":280,"./internal/util/ObjectUnsubscribedError":282,"./internal/util/TimeoutError":283,"./internal/util/UnsubscriptionError":284,"./internal/util/identity":287,"./internal/util/isObservable":296,"./internal/util/noop":299,"./internal/util/pipe":301}],111:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Subject"),s=t("./Subscription"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),s.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.Subject);r.AsyncSubject=a},{"./Subject":120,"./Subscription":123}],112:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Subject"),s=t("./util/ObjectUnsubscribedError"),a=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.Subject);r.BehaviorSubject=a},{"./Subject":120,"./util/ObjectUnsubscribedError":282}],113:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(t("./Subscriber").Subscriber);r.InnerSubscriber=o},{"./Subscriber":122}],114:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./observable/empty"),i=t("./observable/of"),o=t("./observable/throwError");!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(r.NotificationKind||(r.NotificationKind={}));var s=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return i.of(this.value);case"E":return o.throwError(this.error);case"C":return n.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=s},{"./observable/empty":133,"./observable/of":144,"./observable/throwError":150}],115:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/canReportError"),i=t("./util/toSubscriber"),o=t("./symbol/observable"),s=t("./util/pipe"),a=t("./config"),u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=c(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}r.Observable=u},{"./config":124,"./symbol/observable":277,"./util/canReportError":285,"./util/pipe":301,"./util/toSubscriber":308}],116:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./config"),i=t("./util/hostReportError");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},{"./config":124,"./util/hostReportError":286}],117:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(t("./Subscriber").Subscriber);r.OuterSubscriber=o},{"./Subscriber":122}],118:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Subject"),s=t("./scheduler/queue"),a=t("./Subscription"),u=t("./operators/observeOn"),c=t("./util/ObjectUnsubscribedError"),l=t("./SubjectSubscription"),f=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new p(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=a.Subscription.EMPTY:(this.observers.push(t),e=new l.SubjectSubscription(this,t)),i&&t.add(t=new u.ObserveOnSubscriber(t,i)),r)for(var s=0;s<o&&!t.closed;s++)t.next(n[s]);else for(s=0;s<o&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||s.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(o.Subject);r.ReplaySubject=f;var p=function(t,e){this.time=t,this.value=e}},{"./Subject":120,"./SubjectSubscription":121,"./Subscription":123,"./operators/observeOn":204,"./scheduler/queue":275,"./util/ObjectUnsubscribedError":282}],119:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}();r.Scheduler=n},{}],120:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Observable"),s=t("./Subscriber"),a=t("./Subscription"),u=t("./util/ObjectUnsubscribedError"),c=t("./SubjectSubscription"),l=t("../internal/symbol/rxSubscriber"),f=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return i(e,t),e}(s.Subscriber);r.SubjectSubscriber=f;var p=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[l.rxSubscriber]=function(){return new f(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(o.Observable);r.Subject=p;var h=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(p);r.AnonymousSubject=h},{"../internal/symbol/rxSubscriber":278,"./Observable":115,"./SubjectSubscription":121,"./Subscriber":122,"./Subscription":123,"./util/ObjectUnsubscribedError":282}],121:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(t("./Subscription").Subscription);r.SubjectSubscription=o},{"./Subscription":123}],122:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./util/isFunction"),s=t("./Observer"),a=t("./Subscription"),u=t("../internal/symbol/rxSubscriber"),c=t("./config"),l=t("./util/hostReportError"),f=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.empty;break;case 1:if(!r){o.destination=s.empty;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new p(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new p(o,r,n,i)}return o}return i(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.Subscription);r.Subscriber=f;var p=function(t){function e(e,r,n,i){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return o.isFunction(r)?a=r:r&&(a=r.next,n=r.error,i=r.complete,r!==s.empty&&(c=Object.create(r),o.isFunction(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=n,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw t;l.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(l.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);r.SafeSubscriber=p},{"../internal/symbol/rxSubscriber":278,"./Observer":116,"./Subscription":123,"./config":124,"./util/hostReportError":286,"./util/isFunction":291}],123:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/isArray"),i=t("./util/isObject"),o=t("./util/isFunction"),s=t("./util/UnsubscriptionError"),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,c=r._ctorUnsubscribe,l=r._unsubscribe,f=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p){a[p].remove(this)}if(o.isFunction(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(t){e=t instanceof s.UnsubscriptionError?u(t.errors):[t]}}if(n.isArray(f)){p=-1;for(var h=f.length;++p<h;){var d=f[p];if(i.isObject(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof s.UnsubscriptionError?e=e.concat(u(t.errors)):e.push(t)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}r.Subscription=a},{"./util/UnsubscriptionError":284,"./util/isArray":288,"./util/isFunction":291,"./util/isObject":295}],124:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},{}],125:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Subscriber"),s=t("./Observable"),a=t("./util/subscribeTo"),u=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(o.Subscriber);r.SimpleInnerSubscriber=u;var c=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.Subscriber);r.ComplexInnerSubscriber=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(o.Subscriber);r.SimpleOuterSubscriber=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,r,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.Subscriber);r.ComplexOuterSubscriber=f,r.innerSubscribe=function(t,e){if(!e.closed){if(t instanceof s.Observable)return t.subscribe(e);var r;try{r=a.subscribeTo(t)(e)}catch(t){e.error(t)}return r}}},{"./Observable":115,"./Subscriber":122,"./util/subscribeTo":302}],126:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o,s=t("../Subject"),a=t("../Observable"),u=t("../Subscriber"),c=t("../Subscription"),l=t("../operators/refCount"),f=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new c.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=c.Subscription.EMPTY)),t},e.prototype.refCount=function(){return l.refCount()(this)},e}(a.Observable);r.ConnectableObservable=f,r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(o=f.prototype)._subscribe},_isComplete:{value:o._isComplete,writable:!0},getSubject:{value:o.getSubject},connect:{value:o.connect},refCount:{value:o.refCount}};var p=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(s.SubjectSubscriber),h=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new h(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(u.Subscriber))},{"../Observable":115,"../Subject":120,"../Subscriber":122,"../Subscription":123,"../operators/refCount":215}],127:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Observable"),s=t("../scheduler/asap"),a=t("../util/isNumeric"),u=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=s.asap);var i=t.call(this)||this;return i.source=e,i.delayTime=r,i.scheduler=n,(!a.isNumeric(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=s.asap),i}return i(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=s.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source;return this.scheduler.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(o.Observable);r.SubscribeOnObservable=u},{"../Observable":115,"../scheduler/asap":273,"../util/isNumeric":294}],128:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../AsyncSubject"),o=t("../operators/map"),s=t("../util/canReportError"),a=t("../util/isArray"),u=t("../util/isScheduler");function c(t){var e=this,r=t.args,n=t.subscriber,o=t.params,s=o.callbackFunc,a=o.context,u=o.scheduler,c=o.subject;if(!c){c=o.subject=new i.AsyncSubject;try{s.apply(a,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(u.schedule(l,0,{value:n,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(n))}function l(t){var e=t.value,r=t.subject;r.next(e),r.complete()}r.bindCallback=function t(e,r,l){if(r){if(!u.isScheduler(r))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e,l).apply(void 0,n).pipe(o.map((function(t){return a.isArray(t)?r.apply(void 0,t):r(t)})))};l=r}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,a=this,u={context:a,subject:o,callbackFunc:e,scheduler:l};return new n.Observable((function(r){if(l){var n={args:t,subscriber:r,params:u};return l.schedule(c,0,n)}if(!o){o=new i.AsyncSubject;try{e.apply(a,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){s.canReportError(o)?o.error(t):console.warn(t)}}return o.subscribe(r)}))}}},{"../AsyncSubject":111,"../Observable":115,"../operators/map":193,"../util/canReportError":285,"../util/isArray":288,"../util/isScheduler":298}],129:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../AsyncSubject"),o=t("../operators/map"),s=t("../util/canReportError"),a=t("../util/isScheduler"),u=t("../util/isArray");function c(t){var e=this,r=t.params,n=t.subscriber,o=t.context,s=r.callbackFunc,a=r.args,u=r.scheduler,c=r.subject;if(!c){c=r.subject=new i.AsyncSubject;try{s.apply(o,a.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(u.schedule(f,0,{err:n,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(l,0,{value:i,subject:c}))}}]))}catch(t){this.add(u.schedule(f,0,{err:t,subject:c}))}}this.add(c.subscribe(n))}function l(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function f(t){var e=t.err;t.subject.error(e)}r.bindNodeCallback=function t(e,r,l){if(r){if(!a.isScheduler(r))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e,l).apply(void 0,n).pipe(o.map((function(t){return u.isArray(t)?r.apply(void 0,t):r(t)})))};l=r}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o={subject:void 0,args:t,callbackFunc:e,scheduler:l,context:this};return new n.Observable((function(r){var n=o.context,a=o.subject;if(l)return l.schedule(c,0,{params:o,subscriber:r,context:n});if(!a){a=o.subject=new i.AsyncSubject;try{e.apply(n,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?a.error(r):(a.next(t.length<=1?t[0]:t),a.complete())}]))}catch(t){s.canReportError(a)?a.error(t):console.warn(t)}}return a.subscribe(r)}))}}},{"../AsyncSubject":111,"../Observable":115,"../operators/map":193,"../util/canReportError":285,"../util/isArray":288,"../util/isScheduler":298}],130:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/isScheduler"),s=t("../util/isArray"),a=t("../OuterSubscriber"),u=t("../util/subscribeToResult"),c=t("./fromArray"),l={};r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return o.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),c.fromArray(t,n).lift(new f(r))};var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}();r.CombineLatestOperator=f;var p=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return i(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(u.subscribeToResult(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,i=n[r],o=this.toRespond?i===l?--this.toRespond:this.toRespond:0;n[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.OuterSubscriber);r.CombineLatestSubscriber=p},{"../OuterSubscriber":117,"../util/isArray":288,"../util/isScheduler":298,"../util/subscribeToResult":307,"./fromArray":136}],131:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./of"),i=t("../operators/concatAll");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.concatAll()(n.of.apply(void 0,t))}},{"../operators/concatAll":165,"./of":144}],132:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("./from"),o=t("./empty");r.defer=function(t){return new n.Observable((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?i.from(r):o.empty()).subscribe(e)}))}},{"../Observable":115,"./empty":133,"./from":135}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");r.EMPTY=new n.Observable((function(t){return t.complete()})),r.empty=function(t){return t?function(t){return new n.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(t):r.EMPTY}},{"../Observable":115}],134:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/isArray"),o=t("../operators/map"),s=t("../util/isObject"),a=t("./from");function u(t,e){return new n.Observable((function(r){var n=t.length;if(0!==n)for(var i=new Array(n),o=0,s=0,u=function(u){var c=a.from(t[u]),l=!1;r.add(c.subscribe({next:function(t){l||(l=!0,s++),i[u]=t},error:function(t){return r.error(t)},complete:function(){++o!==n&&l||(s===n&&r.next(e?e.reduce((function(t,e,r){return t[e]=i[r],t}),{}):i),r.complete())}}))},c=0;c<n;c++)u(c);else r.complete()}))}r.forkJoin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if(i.isArray(r))return u(r,null);if(s.isObject(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return u(n.map((function(t){return r[t]})),n)}}if("function"==typeof t[t.length-1]){var a=t.pop();return u(t=1===t.length&&i.isArray(t[0])?t[0]:t,null).pipe(o.map((function(t){return a.apply(void 0,t)})))}return u(t,null)}},{"../Observable":115,"../operators/map":193,"../util/isArray":288,"../util/isObject":295,"./from":135}],135:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/subscribeTo"),o=t("../scheduled/scheduled");r.from=function(t,e){return e?o.scheduled(t,e):t instanceof n.Observable?t:new n.Observable(i.subscribeTo(t))}},{"../Observable":115,"../scheduled/scheduled":261,"../util/subscribeTo":302}],136:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/subscribeToArray"),o=t("../scheduled/scheduleArray");r.fromArray=function(t,e){return e?o.scheduleArray(t,e):new n.Observable(i.subscribeToArray(t))}},{"../Observable":115,"../scheduled/scheduleArray":257,"../util/subscribeToArray":303}],137:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/isArray"),o=t("../util/isFunction"),s=t("../operators/map");Object.prototype.toString;function a(t,e,r,n,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var u=t;t.on(e,r),o=function(){return u.off(e,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,r),o=function(){return c.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,f=t.length;l<f;l++)a(t[l],e,r,n,i)}n.add(o)}r.fromEvent=function t(e,r,u,c){return o.isFunction(u)&&(c=u,u=void 0),c?t(e,r,u).pipe(s.map((function(t){return i.isArray(t)?c.apply(void 0,t):c(t)}))):new n.Observable((function(t){a(e,r,(function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)}),t,u)}))}},{"../Observable":115,"../operators/map":193,"../util/isArray":288,"../util/isFunction":291}],138:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/isArray"),o=t("../util/isFunction"),s=t("../operators/map");r.fromEventPattern=function t(e,r,a){return a?t(e,r).pipe(s.map((function(t){return i.isArray(t)?a.apply(void 0,t):a(t)}))):new n.Observable((function(t){var n,i=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1===e.length?e[0]:e)};try{n=e(i)}catch(e){return void t.error(e)}if(o.isFunction(r))return function(){return r(i,n)}}))}},{"../Observable":115,"../operators/map":193,"../util/isArray":288,"../util/isFunction":291}],139:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/identity"),o=t("../util/isScheduler");function s(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}r.generate=function(t,e,r,a,u){var c,l;if(1==arguments.length){var f=t;l=f.initialState,e=f.condition,r=f.iterate,c=f.resultSelector||i.identity,u=f.scheduler}else void 0===a||o.isScheduler(a)?(l=t,c=i.identity,u=a):(l=t,c=a);return new n.Observable((function(t){var n=l;if(u)return u.schedule(s,0,{subscriber:t,iterate:r,condition:e,resultSelector:c,state:n});for(;;){if(e){var i=void 0;try{i=e(n)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var o=void 0;try{o=c(n)}catch(e){return void t.error(e)}if(t.next(o),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}}))}},{"../Observable":115,"../util/identity":287,"../util/isScheduler":298}],140:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./defer"),i=t("./empty");r.iif=function(t,e,r){return void 0===e&&(e=i.EMPTY),void 0===r&&(r=i.EMPTY),n.defer((function(){return t()?e:r}))}},{"./defer":132,"./empty":133}],141:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../scheduler/async"),o=t("../util/isNumeric");function s(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}r.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=i.async),(!o.isNumeric(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=i.async),new n.Observable((function(r){return r.add(e.schedule(s,t,{subscriber:r,counter:0,period:t})),r}))}},{"../Observable":115,"../scheduler/async":274,"../util/isNumeric":294}],142:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/isScheduler"),o=t("../operators/mergeAll"),s=t("./fromArray");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];return i.isScheduler(u)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof u&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.Observable?t[0]:o.mergeAll(r)(s.fromArray(t,a))}},{"../Observable":115,"../operators/mergeAll":198,"../util/isScheduler":298,"./fromArray":136}],143:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/noop");r.NEVER=new n.Observable(i.noop),r.never=function(){return r.NEVER}},{"../Observable":115,"../util/noop":299}],144:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isScheduler"),i=t("./fromArray"),o=t("../scheduled/scheduleArray");r.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return n.isScheduler(r)?(t.pop(),o.scheduleArray(t,r)):i.fromArray(t)}},{"../scheduled/scheduleArray":257,"../util/isScheduler":298,"./fromArray":136}],145:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("./from"),o=t("../util/isArray"),s=t("./empty");r.onErrorResumeNext=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(0===e.length)return s.EMPTY;var a=e[0],u=e.slice(1);return 1===e.length&&o.isArray(a)?t.apply(void 0,a):new n.Observable((function(e){var r=function(){return e.add(t.apply(void 0,u).subscribe(e))};return i.from(a).subscribe({next:function(t){e.next(t)},error:r,complete:r})}))}},{"../Observable":115,"../util/isArray":288,"./empty":133,"./from":135}],146:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription");function o(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}r.pairs=function(t,e){return e?new n.Observable((function(r){var n=Object.keys(t),s=new i.Subscription;return s.add(e.schedule(o,0,{keys:n,index:0,subscriber:r,subscription:s,obj:t})),s})):new n.Observable((function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var i=r[n];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))},r.dispatch=o},{"../Observable":115,"../Subscription":123}],147:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/not"),i=t("../util/subscribeTo"),o=t("../operators/filter"),s=t("../Observable");r.partition=function(t,e,r){return[o.filter(e,r)(new s.Observable(i.subscribeTo(t))),o.filter(n.not(e,r))(new s.Observable(i.subscribeTo(t)))]}},{"../Observable":115,"../operators/filter":184,"../util/not":300,"../util/subscribeTo":302}],148:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/isArray"),s=t("./fromArray"),a=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!o.isArray(t[0]))return t[0];t=t[0]}return s.fromArray(t,void 0).lift(new c)};var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}();r.RaceOperator=c;var l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=u.subscribeToResult(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(a.OuterSubscriber);r.RaceSubscriber=l},{"../OuterSubscriber":117,"../util/isArray":288,"../util/subscribeToResult":307,"./fromArray":136}],149:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");function i(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}r.range=function(t,e,r){return void 0===t&&(t=0),new n.Observable((function(n){void 0===e&&(e=t,t=0);var o=0,s=t;if(r)return r.schedule(i,0,{index:o,count:e,start:t,subscriber:n});for(;;){if(o++>=e){n.complete();break}if(n.next(s++),n.closed)break}}))},r.dispatch=i},{"../Observable":115}],150:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");function i(t){var e=t.error;t.subscriber.error(e)}r.throwError=function(t,e){return e?new n.Observable((function(r){return e.schedule(i,0,{error:t,subscriber:r})})):new n.Observable((function(e){return e.error(t)}))}},{"../Observable":115}],151:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../scheduler/async"),o=t("../util/isNumeric"),s=t("../util/isScheduler");function a(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}r.timer=function(t,e,r){void 0===t&&(t=0);var u=-1;return o.isNumeric(e)?u=Number(e)<1?1:Number(e):s.isScheduler(e)&&(r=e),s.isScheduler(r)||(r=i.async),new n.Observable((function(e){var n=o.isNumeric(t)?t:+t-r.now();return r.schedule(a,n,{index:0,period:u,subscriber:e})}))}},{"../Observable":115,"../scheduler/async":274,"../util/isNumeric":294,"../util/isScheduler":298}],152:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("./from"),o=t("./empty");r.using=function(t,e){return new n.Observable((function(r){var n,s;try{n=t()}catch(t){return void r.error(t)}try{s=e(n)}catch(t){return void r.error(t)}var a=(s?i.from(s):o.EMPTY).subscribe(r);return function(){a.unsubscribe(),n&&n.unsubscribe()}}))}},{"../Observable":115,"./empty":133,"./from":135}],153:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./fromArray"),s=t("../util/isArray"),a=t("../Subscriber"),u=t("../../internal/symbol/iterator"),c=t("../innerSubscribe");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),o.fromArray(t,void 0).lift(new l(r))};var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}();r.ZipOperator=l;var f=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return i(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new h(t)):"function"==typeof t[u.iterator]?e.push(new p(t[u.iterator]())):e.push(new d(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe());else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<e;n++){var s,a=(s=t[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.Subscriber);r.ZipSubscriber=f;var p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),h=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),d=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i(e,t),e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return c.innerSubscribe(this.observable,new c.SimpleInnerSubscriber(this))},e}(c.SimpleOuterSubscriber)},{"../../internal/symbol/iterator":276,"../Subscriber":122,"../innerSubscribe":125,"../util/isArray":288,"./fromArray":136}],154:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.audit=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var r=o.innerSubscribe(e,new o.SimpleInnerSubscriber(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],155:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),i=t("./audit"),o=t("../observable/timer");r.auditTime=function(t,e){return void 0===e&&(e=n.async),i.audit((function(){return o.timer(t,e)}))}},{"../observable/timer":151,"../scheduler/async":274,"./audit":154}],156:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.buffer=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.closingNotifier))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.buffer=[],n.add(o.innerSubscribe(r,new o.SimpleInnerSubscriber(n))),n}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],157:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.bufferCount=function(t,e){return void 0===e&&(e=null),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?u:a}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.bufferSize=r,n.buffer=[],n}return i(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(o.Subscriber),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return i(e,t),e.prototype._next=function(t){var e=this,r=e.bufferSize,n=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(t),a.length===r&&(i.splice(s,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var n=e.shift();n.length>0&&r.next(n)}t.prototype._complete.call(this)},e}(o.Subscriber)},{"../Subscriber":122}],158:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../scheduler/async"),s=t("../Subscriber"),a=t("../util/isScheduler");r.bufferTime=function(t){var e=arguments.length,r=o.async;a.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new u(t,n,i,r))}};var u=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c=function(){this.buffer=[]},l=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:r};s.add(a.closeAction=o.schedule(f,r,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(h,r,c)),s.add(o.schedule(p,n,l))}return s}return i(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(f,r,n))}},e.prototype.openContext=function(){var t=new c;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(s.Subscriber);function f(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function p(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(h,r,{subscriber:n,context:o})),this.schedule(t,e))}function h(t){var e=t.subscriber,r=t.context;e.closeContext(r)}},{"../Subscriber":122,"../scheduler/async":274,"../util/isScheduler":298}],159:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscription"),s=t("../util/subscribeToResult"),a=t("../OuterSubscriber");r.bufferToggle=function(t,e){return function(r){return r.lift(new u(t,e))}};var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.closingSelector=n,i.contexts=[],i.add(s.subscribeToResult(i,r)),i}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new o.Subscription,n={buffer:[],subscription:r};e.push(n);var i=s.subscribeToResult(this,t,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},e}(a.OuterSubscriber)},{"../OuterSubscriber":117,"../Subscription":123,"../util/subscribeToResult":307}],160:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscription"),s=t("../innerSubscribe");r.bufferWhen=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingSelector))},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(s.innerSubscribe(e,new s.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(s.SimpleOuterSubscriber)},{"../Subscription":123,"../innerSubscribe":125}],161:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.catchError=function(t){return function(e){var r=new s(t),n=e.lift(r);return r.caught=n}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.selector,this.caught))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new o.SimpleInnerSubscriber(this);this.add(n);var i=o.innerSubscribe(r,n);i!==n&&this.add(i)}},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],162:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/combineLatest");r.combineAll=function(t){return function(e){return e.lift(new n.CombineLatestOperator(t))}}},{"../observable/combineLatest":130}],163:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isArray"),i=t("../observable/combineLatest"),o=t("../observable/from");r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&n.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(o.from([e].concat(t)),new i.CombineLatestOperator(r))}}},{"../observable/combineLatest":130,"../observable/from":135,"../util/isArray":288}],164:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.concat.apply(void 0,[e].concat(t)))}}},{"../observable/concat":131}],165:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}},{"./mergeAll":198}],166:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap");r.concatMap=function(t,e){return n.mergeMap(t,e,1)}},{"./mergeMap":199}],167:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./concatMap");r.concatMapTo=function(t,e){return n.concatMap((function(){return t}),e)}},{"./concatMap":166}],168:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.count=function(t){return function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":122}],169:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.debounce=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.innerSubscribe(e,new o.SimpleInnerSubscriber(this)))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],170:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../scheduler/async");r.debounceTime=function(t,e){return void 0===e&&(e=s.async),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return i(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(o.Subscriber);function c(t){t.debouncedNext()}},{"../Subscriber":122,"../scheduler/async":274}],171:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":122}],172:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../scheduler/async"),s=t("../util/isDate"),a=t("../Subscriber"),u=t("../Notification");r.delay=function(t,e){void 0===e&&(e=o.async);var r=s.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(r,e))}};var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return i(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new f(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete()),this.unsubscribe()},e}(a.Subscriber),f=function(t,e){this.time=t,this.notification=e}},{"../Notification":114,"../Subscriber":122,"../scheduler/async":274,"../util/isDate":290}],173:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Observable"),a=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.delayWhen=function(t,e){return e?function(r){return new f(r,e).lift(new c(t))}:function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,r){var n=t.call(this,e)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var r=u.subscribeToResult(this,t,e);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(a.OuterSubscriber),f=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subscriptionDelay=r,n}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(s.Observable),p=function(t){function e(e,r){var n=t.call(this)||this;return n.parent=e,n.source=r,n.sourceSubscribed=!1,n}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},{"../Observable":115,"../OuterSubscriber":117,"../Subscriber":122,"../util/subscribeToResult":307}],174:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.dematerialize=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},{"../Subscriber":122}],175:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.distinct=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.keySelector,this.flushes))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=r,i.values=new Set,n&&i.add(o.innerSubscribe(n,new o.SimpleInnerSubscriber(i))),i}return i(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(o.SimpleOuterSubscriber);r.DistinctSubscriber=a},{"../innerSubscribe":125}],176:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.distinctUntilChanged=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},e}(o.Subscriber)},{"../Subscriber":122}],177:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./distinctUntilChanged");r.distinctUntilKeyChanged=function(t,e){return n.distinctUntilChanged((function(r,n){return e?e(r[t],n[t]):r[t]===n[t]}))}},{"./distinctUntilChanged":176}],178:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/ArgumentOutOfRangeError"),i=t("./filter"),o=t("./throwIfEmpty"),s=t("./defaultIfEmpty"),a=t("./take");r.elementAt=function(t,e){if(t<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(u){return u.pipe(i.filter((function(e,r){return r===t})),a.take(1),r?s.defaultIfEmpty(e):o.throwIfEmpty((function(){return new n.ArgumentOutOfRangeError})))}}},{"../util/ArgumentOutOfRangeError":279,"./defaultIfEmpty":171,"./filter":184,"./take":236,"./throwIfEmpty":243}],179:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat"),i=t("../observable/of");r.endWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return n.concat(e,i.of.apply(void 0,t))}}},{"../observable/concat":131,"../observable/of":144}],180:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.every=function(t,e){return function(r){return r.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},{"../Subscriber":122}],181:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.exhaust=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.innerSubscribe(t,new o.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],182:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./map"),s=t("../observable/from"),a=t("../innerSubscribe");r.exhaustMap=function t(e,r){return r?function(n){return n.pipe(t((function(t,n){return s.from(e(t,n)).pipe(o.map((function(e,i){return r(t,e,n,i)})))})))}:function(t){return t.lift(new u(e))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new a.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var n=a.innerSubscribe(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(a.SimpleOuterSubscriber)},{"../innerSubscribe":125,"../observable/from":135,"./map":193}],183:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.expand=function(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.concurrent,this.scheduler))},t}();r.ExpandOperator=s;var a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return i(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);try{var i=(0,this.project)(t,n);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:n};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,n)}catch(t){r.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(o.innerSubscribe(t,new o.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.SimpleOuterSubscriber);r.ExpandSubscriber=a},{"../innerSubscribe":125}],184:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.filter=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},{"../Subscriber":122}],185:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Subscription");r.finalize=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new s.Subscription(r)),n}return i(e,t),e}(o.Subscriber)},{"../Subscriber":122,"../Subscription":123}],186:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new s(t,r,!1,e))}};var s=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();r.FindValueOperator=s;var a=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.predicate=r,s.source=n,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);r.FindValueSubscriber=a},{"../Subscriber":122}],187:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../operators/find");r.findIndex=function(t,e){return function(r){return r.lift(new n.FindValueOperator(t,r,!0,e))}}},{"../operators/find":186}],188:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/EmptyError"),i=t("./filter"),o=t("./take"),s=t("./defaultIfEmpty"),a=t("./throwIfEmpty"),u=t("../util/identity");r.first=function(t,e){var r=arguments.length>=2;return function(c){return c.pipe(t?i.filter((function(e,r){return t(e,r,c)})):u.identity,o.take(1),r?s.defaultIfEmpty(e):a.throwIfEmpty((function(){return new n.EmptyError})))}}},{"../util/EmptyError":280,"../util/identity":287,"./defaultIfEmpty":171,"./filter":184,"./take":236,"./throwIfEmpty":243}],189:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Subscription"),a=t("../Observable"),u=t("../Subject");r.groupBy=function(t,e,r,n){return function(i){return i.lift(new c(t,e,r,n))}};var c=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u.Subject,r.set(e,i);var o=new p(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,r){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),f=function(t){function e(e,r,n){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=n,i}return i(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(o.Subscriber),p=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=n,i}return i(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new h(r)),e.add(n.subscribe(t)),e},e}(a.Observable);r.GroupedObservable=p;var h=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},{"../Observable":115,"../Subject":120,"../Subscriber":122,"../Subscription":123}],190:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.ignoreElements=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._next=function(t){},e}(o.Subscriber)},{"../Subscriber":122}],191:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.isEmpty=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},{"../Subscriber":122}],192:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/EmptyError"),i=t("./filter"),o=t("./takeLast"),s=t("./throwIfEmpty"),a=t("./defaultIfEmpty"),u=t("../util/identity");r.last=function(t,e){var r=arguments.length>=2;return function(c){return c.pipe(t?i.filter((function(e,r){return t(e,r,c)})):u.identity,o.takeLast(1),r?a.defaultIfEmpty(e):s.throwIfEmpty((function(){return new n.EmptyError})))}}},{"../util/EmptyError":280,"../util/identity":287,"./defaultIfEmpty":171,"./filter":184,"./takeLast":237,"./throwIfEmpty":243}],193:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();r.MapOperator=s;var a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":122}],194:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.mapTo=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},{"../Subscriber":122}],195:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Notification");r.materialize=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},{"../Notification":114,"../Subscriber":122}],196:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");r.max=function(t){var e="function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e};return n.reduce(e)}},{"./reduce":214}],197:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/merge");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.merge.apply(void 0,[e].concat(t)))}}},{"../observable/merge":142}],198:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap"),i=t("../util/identity");r.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,t)}},{"../util/identity":287,"./mergeMap":199}],199:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./map"),s=t("../observable/from"),a=t("../innerSubscribe");function u(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(u((function(r,n){return s.from(t(r,n)).pipe(o.map((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new c(t,r))})}r.mergeMap=u;var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}();r.MergeMapOperator=c;var l=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new a.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var n=a.innerSubscribe(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.SimpleOuterSubscriber);r.MergeMapSubscriber=l,r.flatMap=u},{"../innerSubscribe":125,"../observable/from":135,"./map":193}],200:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap");r.mergeMapTo=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?n.mergeMap((function(){return t}),e,r):("number"==typeof e&&(r=e),n.mergeMap((function(){return t}),r))}},{"./mergeMap":199}],201:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.mergeScan=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.concurrent))},t}();r.MergeScanOperator=s;var a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o.acc=n,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,t,e)}catch(t){return r.error(t)}this.active++,this._innerSub(n)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new o.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var n=o.innerSubscribe(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(o.SimpleOuterSubscriber);r.MergeScanSubscriber=a},{"../innerSubscribe":125}],202:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");r.min=function(t){var e="function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e};return n.reduce(e)}},{"./reduce":214}],203:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/ConnectableObservable");r.multicast=function(t,e){return function(r){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new i(o,e));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=o,s}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();r.MulticastOperator=i},{"../observable/ConnectableObservable":126}],204:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Notification");r.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();r.ObserveOnOperator=a;var u=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return i(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()},e}(o.Subscriber);r.ObserveOnSubscriber=u;var c=function(t,e){this.notification=t,this.destination=e};r.ObserveOnMessage=c},{"../Notification":114,"../Subscriber":122}],205:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../observable/from"),s=t("../util/isArray"),a=t("../innerSubscribe");r.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new u(t))}},r.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0;return 1===t.length&&s.isArray(t[0])&&(t=t[0]),r=t.shift(),o.from(r).lift(new u(t))};var u=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextSources))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.nextSources=r,n}return i(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new a.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var n=a.innerSubscribe(t,e);n!==e&&r.add(n)}else this.destination.complete()},e}(a.SimpleOuterSubscriber)},{"../innerSubscribe":125,"../observable/from":135,"../util/isArray":288}],206:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.pairwise=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return i(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":122}],207:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/not"),i=t("./filter");r.partition=function(t,e){return function(r){return[i.filter(t,e)(r),i.filter(n.not(t,e))(r)]}}},{"../util/not":300,"./filter":184}],208:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./map");function i(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=null!=n?n[t[i]]:void 0;if(void 0===o)return;n=o}return n}}r.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return n.map(i(t,r))(e)}}},{"./map":193}],209:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subject"),i=t("./multicast");r.publish=function(t){return t?i.multicast((function(){return new n.Subject}),t):i.multicast(new n.Subject)}},{"../Subject":120,"./multicast":203}],210:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../BehaviorSubject"),i=t("./multicast");r.publishBehavior=function(t){return function(e){return i.multicast(new n.BehaviorSubject(t))(e)}}},{"../BehaviorSubject":112,"./multicast":203}],211:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../AsyncSubject"),i=t("./multicast");r.publishLast=function(){return function(t){return i.multicast(new n.AsyncSubject)(t)}}},{"../AsyncSubject":111,"./multicast":203}],212:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../ReplaySubject"),i=t("./multicast");r.publishReplay=function(t,e,r,o){r&&"function"!=typeof r&&(o=r);var s="function"==typeof r?r:void 0,a=new n.ReplaySubject(t,e,o);return function(t){return i.multicast((function(){return a}),s)(t)}}},{"../ReplaySubject":118,"./multicast":203}],213:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isArray"),i=t("../observable/race");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&n.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},{"../observable/race":148,"../util/isArray":288}],214:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./scan"),i=t("./takeLast"),o=t("./defaultIfEmpty"),s=t("../util/pipe");r.reduce=function(t,e){return arguments.length>=2?function(r){return s.pipe(n.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(r)}:function(e){return s.pipe(n.scan((function(e,r,n){return t(e,r,n+1)})),i.takeLast(1))(e)}}},{"../util/pipe":301,"./defaultIfEmpty":171,"./scan":222,"./takeLast":237}],215:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.refCount=function(){return function(t){return t.lift(new s(t))}};var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new a(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(o.Subscriber)},{"../Subscriber":122}],216:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../observable/empty");r.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?s.empty():t<0?e.lift(new a(-1,e)):e.lift(new a(t-1,e))}};var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(o.Subscriber)},{"../Subscriber":122,"../observable/empty":133}],217:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../innerSubscribe");r.repeatWhen=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier,e))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return i(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new o.Subject;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=s.innerSubscribe(e,new s.SimpleInnerSubscriber(this))},e}(s.SimpleOuterSubscriber)},{"../Subject":120,"../innerSubscribe":125}],218:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(o.Subscriber)},{"../Subscriber":122}],219:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../innerSubscribe");r.retryWhen=function(t){return function(e){return e.lift(new a(t,e))}};var a=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier,this.source))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{r=new o.Subject;try{n=(0,this.notifier)(r)}catch(e){return t.prototype.error.call(this,e)}i=s.innerSubscribe(n,new s.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(s.SimpleOuterSubscriber)},{"../Subject":120,"../innerSubscribe":125}],220:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.sample=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new a(t),n=e.subscribe(r);return n.add(o.innerSubscribe(this.notifier,new o.SimpleInnerSubscriber(r))),n},t}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],221:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../scheduler/async");r.sampleTime=function(t,e){return void 0===e&&(e=s.async),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.period,this.scheduler))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(c,r,{subscriber:i,period:r})),i}return i(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(o.Subscriber);function c(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}},{"../Subscriber":122,"../scheduler/async":274}],222:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.scan=function(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":122}],223:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.sequenceEqual=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compareTo,this.comparator))},t}();r.SequenceEqualOperator=s;var a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new u(e,i))),i}return i(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,e=t._a,r=t._b,n=t.comparator;e.length>0&&r.length>0;){var i=e.shift(),o=r.shift(),s=!1;try{s=n?n(i,o):i===o}catch(t){this.destination.error(t)}s||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(o.Subscriber);r.SequenceEqualSubscriber=a;var u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.parent=r,n}return i(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(o.Subscriber)},{"../Subscriber":122}],224:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./multicast"),i=t("./refCount"),o=t("../Subject");function s(){return new o.Subject}r.share=function(){return function(t){return i.refCount()(n.multicast(s)(t))}}},{"../Subject":120,"./multicast":203,"./refCount":215}],225:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../ReplaySubject");r.shareReplay=function(t,e,r){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,i=t.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=t.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,u=t.refCount,c=t.scheduler,l=0,f=!1,p=!1;return function(t){var i;l++,!e||f?(f=!1,e=new n.ReplaySubject(o,a,c),i=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){f=!0,e.error(t)},complete:function(){p=!0,r=void 0,e.complete()}}),p&&(r=void 0)):i=e.subscribe(this),this.add((function(){l--,i.unsubscribe(),i=void 0,r&&!p&&u&&0===l&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(i))}}},{"../ReplaySubject":118}],226:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../util/EmptyError");r.single=function(t){return function(e){return e.lift(new a(t,e))}};var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},{"../Subscriber":122,"../util/EmptyError":280}],227:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.skip=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},{"../Subscriber":122}],228:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError");r.skipLast=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new o.Subscriber(t)):e.subscribe(new u(t,this._skipCount))},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return i(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(o.Subscriber)},{"../Subscriber":122,"../util/ArgumentOutOfRangeError":279}],229:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.skipUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;n.hasValue=!1;var i=new o.SimpleInnerSubscriber(n);n.add(i),n.innerSubscription=i;var s=o.innerSubscribe(r,i);return s!==i&&(n.add(s),n.innerSubscription=s),n}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],230:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.skipWhile=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},{"../Subscriber":122}],231:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat"),i=t("../util/isScheduler");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return i.isScheduler(r)?(t.pop(),function(e){return n.concat(t,e,r)}):function(e){return n.concat(t,e)}}},{"../observable/concat":131,"../util/isScheduler":298}],232:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/SubscribeOnObservable");r.subscribeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new i(t,e))}};var i=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new n.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},{"../observable/SubscribeOnObservable":127}],233:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./switchMap"),i=t("../util/identity");r.switchAll=function(){return n.switchMap(i.identity)}},{"../util/identity":287,"./switchMap":234}],234:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./map"),s=t("../observable/from"),a=t("../innerSubscribe");r.switchMap=function t(e,r){return"function"==typeof r?function(n){return n.pipe(t((function(t,n){return s.from(e(t,n)).pipe(o.map((function(e,i){return r(t,e,n,i)})))})))}:function(t){return t.lift(new u(e))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new a.SimpleInnerSubscriber(this),n=this.destination;n.add(r),this.innerSubscription=a.innerSubscribe(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(a.SimpleOuterSubscriber)},{"../innerSubscribe":125,"../observable/from":135,"./map":193}],235:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./switchMap");r.switchMapTo=function(t,e){return e?n.switchMap((function(){return t}),e):n.switchMap((function(){return t}))}},{"./switchMap":234}],236:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),a=t("../observable/empty");r.take=function(t){return function(e){return 0===t?a.empty():e.lift(new u(t))}};var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return i(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},{"../Subscriber":122,"../observable/empty":133,"../util/ArgumentOutOfRangeError":279}],237:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),a=t("../observable/empty");r.takeLast=function(t){return function(e){return 0===t?a.empty():e.lift(new u(t))}};var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return i(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(o.Subscriber)},{"../Subscriber":122,"../observable/empty":133,"../util/ArgumentOutOfRangeError":279}],238:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.takeUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new a(t),n=o.innerSubscribe(this.notifier,new o.SimpleInnerSubscriber(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r},t}(),a=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return i(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],239:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.takeWhile=function(t,e){return void 0===e&&(e=!1),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.inclusive))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return i(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(o.Subscriber)},{"../Subscriber":122}],240:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../util/noop"),a=t("../util/isFunction");r.tap=function(t,e,r){return function(n){return n.lift(new u(t,e,r))}};var u=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o._tapNext=s.noop,o._tapError=s.noop,o._tapComplete=s.noop,o._tapError=n||s.noop,o._tapComplete=i||s.noop,a.isFunction(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||s.noop,o._tapError=r.error||s.noop,o._tapComplete=r.complete||s.noop),o}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":122,"../util/isFunction":291,"../util/noop":299}],241:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../innerSubscribe");r.defaultThrottleConfig={leading:!0,trailing:!1},r.throttle=function(t,e){return void 0===e&&(e=r.defaultThrottleConfig),function(r){return r.lift(new s(t,!!e.leading,!!e.trailing))}};var s=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=r,o._leading=n,o._trailing=i,o._hasValue=!1,o}return i(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=o.innerSubscribe(e,new o.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(o.SimpleOuterSubscriber)},{"../innerSubscribe":125}],242:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../scheduler/async"),a=t("./throttle");r.throttleTime=function(t,e,r){return void 0===e&&(e=s.async),void 0===r&&(r=a.defaultThrottleConfig),function(n){return n.lift(new u(t,e,r.leading,r.trailing))}};var u=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),c=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.duration=r,s.scheduler=n,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return i(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(o.Subscriber);function l(t){t.subscriber.clearThrottle()}},{"../Subscriber":122,"../scheduler/async":274,"./throttle":241}],243:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/EmptyError"),s=t("../Subscriber");r.throwIfEmpty=function(t){return void 0===t&&(t=c),function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.errorFactory))},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return i(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(s.Subscriber);function c(){return new o.EmptyError}},{"../Subscriber":122,"../util/EmptyError":280}],244:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),i=t("./scan"),o=t("../observable/defer"),s=t("./map");r.timeInterval=function(t){return void 0===t&&(t=n.async),function(e){return o.defer((function(){return e.pipe(i.scan((function(e,r){var n=e.current;return{value:r,current:t.now(),last:n}}),{current:t.now(),value:void 0,last:void 0}),s.map((function(t){var e=t.current,r=t.last,n=t.value;return new a(n,e-r)})))}))}};var a=function(t,e){this.value=t,this.interval=e};r.TimeInterval=a},{"../observable/defer":132,"../scheduler/async":274,"./map":193,"./scan":222}],245:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),i=t("../util/TimeoutError"),o=t("./timeoutWith"),s=t("../observable/throwError");r.timeout=function(t,e){return void 0===e&&(e=n.async),o.timeoutWith(t,s.throwError(new i.TimeoutError),e)}},{"../observable/throwError":150,"../scheduler/async":274,"../util/TimeoutError":283,"./timeoutWith":246}],246:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../scheduler/async"),s=t("../util/isDate"),a=t("../innerSubscribe");r.timeoutWith=function(t,e,r){return void 0===r&&(r=o.async),function(n){var i=s.isDate(t),o=i?+t-r.now():Math.abs(t);return n.lift(new u(o,i,e,r))}};var u=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return i(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(a.innerSubscribe(e,new a.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(a.SimpleOuterSubscriber)},{"../innerSubscribe":125,"../scheduler/async":274,"../util/isDate":290}],247:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),i=t("./map");r.timestamp=function(t){return void 0===t&&(t=n.async),i.map((function(e){return new o(e,t.now())}))};var o=function(t,e){this.value=t,this.timestamp=e};r.Timestamp=o},{"../scheduler/async":274,"./map":193}],248:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");function i(t,e,r){return 0===r?[e]:(t.push(e),t)}r.toArray=function(){return n.reduce(i,[])}},{"./reduce":214}],249:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../innerSubscribe");r.window=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new u(t),n=e.subscribe(r);return n.closed||r.add(s.innerSubscribe(this.windowBoundaries,new s.SimpleInnerSubscriber(r))),n},t}(),u=function(t){function e(e){var r=t.call(this,e)||this;return r.window=new o.Subject,e.next(r.window),r}return i(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new o.Subject;e.next(r)},e}(s.SimpleOuterSubscriber)},{"../Subject":120,"../innerSubscribe":125}],250:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber"),s=t("../Subject");r.windowCount=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=r,i.startWindowEvery=n,i.windows=[new s.Subject],i.count=0,e.next(i.windows[0]),i}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(t);var u=this.count-n+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new s.Subject;i.push(c),r.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},{"../Subject":120,"../Subscriber":122}],251:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../scheduler/async"),a=t("../Subscriber"),u=t("../util/isNumeric"),c=t("../util/isScheduler");r.windowTime=function(t){var e=s.async,r=null,n=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(e=arguments[3]),c.isScheduler(arguments[2])?e=arguments[2]:u.isNumeric(arguments[2])&&(n=Number(arguments[2])),c.isScheduler(arguments[1])?e=arguments[1]:u.isNumeric(arguments[1])&&(r=Number(arguments[1])),function(i){return i.lift(new l(t,r,n,e))}};var l=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return i(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(o.Subject),p=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=r,s.windowCreationInterval=n,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==n&&n>=0){var u={subscriber:s,window:a,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:s,scheduler:o};s.add(o.schedule(b,r,u)),s.add(o.schedule(d,n,c))}else{var l={subscriber:s,window:a,windowTimeSpan:r};s.add(o.schedule(h,r,l))}return s}return i(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new f;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(a.Subscriber);function h(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function d(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:r,window:o,context:a};a.subscription=n.schedule(b,e,u),s.add(a.subscription),s.schedule(t,i)}function b(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}},{"../Subject":120,"../Subscriber":122,"../scheduler/async":274,"../util/isNumeric":294,"../util/isScheduler":298}],252:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../Subscription"),a=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.windowToggle=function(t,e){return function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.openings,this.closingSelector))},t}(),l=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=u.subscribeToResult(i,r,r)),i}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var a=void 0;try{a=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var c=new o.Subject,l=new s.Subscription,f={window:c,subscription:l};this.contexts.push(f);var p=u.subscribeToResult(this,a,f);p.closed?this.closeWindow(this.contexts.length-1):(p.context=f,l.add(p)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(a.OuterSubscriber)},{"../OuterSubscriber":117,"../Subject":120,"../Subscription":123,"../util/subscribeToResult":307}],253:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subject"),s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.windowWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.closingSelector=r,n.openWindow(),n}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r,n=this.window=new o.Subject;this.destination.next(n);try{r=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=a.subscribeToResult(this,r))},e}(s.OuterSubscriber)},{"../OuterSubscriber":117,"../Subject":120,"../util/subscribeToResult":307}],254:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new a(n,r))}};var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,r,n){var i=t.call(this,e)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var u=r[a];i.add(s.subscribeToResult(i,u,void 0,a))}return i}return i(e,t),e.prototype.notifyNext=function(t,e,r){this.values[r]=e;var n=this.toRespond;if(n.length>0){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},{"../OuterSubscriber":117,"../util/subscribeToResult":307}],255:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/zip");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.zip.apply(void 0,[e].concat(t)))}}},{"../observable/zip":153}],256:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/zip");r.zipAll=function(t){return function(e){return e.lift(new n.ZipOperator(t))}}},{"../observable/zip":153}],257:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription");r.scheduleArray=function(t,e){return new n.Observable((function(r){var n=new i.Subscription,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},{"../Observable":115,"../Subscription":123}],258:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription"),o=t("../symbol/iterator");r.scheduleIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.Observable((function(r){var n,s=new i.Subscription;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(e.schedule((function(){n=t[o.iterator](),s.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),s}))}},{"../Observable":115,"../Subscription":123,"../symbol/iterator":276}],259:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription"),o=t("../symbol/observable");r.scheduleObservable=function(t,e){return new n.Observable((function(r){var n=new i.Subscription;return n.add(e.schedule((function(){var i=t[o.observable]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}},{"../Observable":115,"../Subscription":123,"../symbol/observable":277}],260:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription");r.schedulePromise=function(t,e){return new n.Observable((function(r){var n=new i.Subscription;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}},{"../Observable":115,"../Subscription":123}],261:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./scheduleObservable"),i=t("./schedulePromise"),o=t("./scheduleArray"),s=t("./scheduleIterable"),a=t("../util/isInteropObservable"),u=t("../util/isPromise"),c=t("../util/isArrayLike"),l=t("../util/isIterable");r.scheduled=function(t,e){if(null!=t){if(a.isInteropObservable(t))return n.scheduleObservable(t,e);if(u.isPromise(t))return i.schedulePromise(t,e);if(c.isArrayLike(t))return o.scheduleArray(t,e);if(l.isIterable(t)||"string"==typeof t)return s.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},{"../util/isArrayLike":289,"../util/isInteropObservable":292,"../util/isIterable":293,"../util/isPromise":297,"./scheduleArray":257,"./scheduleIterable":258,"./scheduleObservable":259,"./schedulePromise":260}],262:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(t("../Subscription").Subscription);r.Action=o},{"../Subscription":123}],263:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return i(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(t("./AsyncAction").AsyncAction);r.AnimationFrameAction=o},{"./AsyncAction":267}],264:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(t("./AsyncScheduler").AsyncScheduler);r.AnimationFrameScheduler=o},{"./AsyncScheduler":268}],265:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/Immediate"),s=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return i(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(o.Immediate.clearImmediate(r),e.scheduled=void 0)},e}(t("./AsyncAction").AsyncAction);r.AsapAction=s},{"../util/Immediate":281,"./AsyncAction":267}],266:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(t("./AsyncScheduler").AsyncScheduler);r.AsapScheduler=o},{"./AsyncScheduler":268}],267:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(t("./Action").Action);r.AsyncAction=o},{"./Action":262}],268:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Scheduler"),s=function(t){function e(r,n){void 0===n&&(n=o.Scheduler.now);var i=t.call(this,r,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(o.Scheduler);r.AsyncScheduler=s},{"../Scheduler":119}],269:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return i(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(t("./AsyncAction").AsyncAction);r.QueueAction=o},{"./AsyncAction":267}],270:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t("./AsyncScheduler").AsyncScheduler);r.QueueScheduler=o},{"./AsyncScheduler":268}],271:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./AsyncAction"),s=function(t){function e(e,r){void 0===e&&(e=a),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(t("./AsyncScheduler").AsyncScheduler);r.VirtualTimeScheduler=s;var a=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return i(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.AsyncAction);r.VirtualAction=a},{"./AsyncAction":267,"./AsyncScheduler":268}],272:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AnimationFrameAction"),i=t("./AnimationFrameScheduler");r.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler},{"./AnimationFrameAction":263,"./AnimationFrameScheduler":264}],273:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AsapAction"),i=t("./AsapScheduler");r.asapScheduler=new i.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler},{"./AsapAction":265,"./AsapScheduler":266}],274:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AsyncAction"),i=t("./AsyncScheduler");r.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler},{"./AsyncAction":267,"./AsyncScheduler":268}],275:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./QueueAction"),i=t("./QueueScheduler");r.queueScheduler=new i.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler},{"./QueueAction":269,"./QueueScheduler":270}],276:[function(t,e,r){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.getSymbolIterator=n,r.iterator=n(),r.$$iterator=r.iterator},{}],277:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],278:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],279:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();r.ArgumentOutOfRangeError=n},{}],280:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();r.EmptyError=n},{}],281:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=1,i=Promise.resolve(),o={};function s(t){return t in o&&(delete o[t],!0)}r.Immediate={setImmediate:function(t){var e=n++;return o[e]=!0,i.then((function(){return s(e)&&t()})),e},clearImmediate:function(t){s(t)}},r.TestTools={pending:function(){return Object.keys(o).length}}},{}],282:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();r.ObjectUnsubscribedError=n},{}],283:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();r.TimeoutError=n},{}],284:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();r.UnsubscriptionError=n},{}],285:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber");r.canReportError=function(t){for(;t;){var e=t,r=e.closed,i=e.destination,o=e.isStopped;if(r||o)return!1;t=i&&i instanceof n.Subscriber?i:null}return!0}},{"../Subscriber":122}],286:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(t){setTimeout((function(){throw t}),0)}},{}],287:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(t){return t}},{}],288:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],289:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},{}],290:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},{}],291:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(t){return"function"==typeof t}},{}],292:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/observable");r.isInteropObservable=function(t){return t&&"function"==typeof t[n.observable]}},{"../symbol/observable":277}],293:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/iterator");r.isIterable=function(t){return t&&"function"==typeof t[n.iterator]}},{"../symbol/iterator":276}],294:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./isArray");r.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},{"./isArray":288}],295:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(t){return null!==t&&"object"==typeof t}},{}],296:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");r.isObservable=function(t){return!!t&&(t instanceof n.Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},{"../Observable":115}],297:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},{}],298:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=function(t){return t&&"function"==typeof t.schedule}},{}],299:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noop=function(){}},{}],300:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},{}],301:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./identity");function i(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},r.pipeFromArray=i},{"./identity":287}],302:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./subscribeToArray"),i=t("./subscribeToPromise"),o=t("./subscribeToIterable"),s=t("./subscribeToObservable"),a=t("./isArrayLike"),u=t("./isPromise"),c=t("./isObject"),l=t("../symbol/iterator"),f=t("../symbol/observable");r.subscribeTo=function(t){if(t&&"function"==typeof t[f.observable])return s.subscribeToObservable(t);if(a.isArrayLike(t))return n.subscribeToArray(t);if(u.isPromise(t))return i.subscribeToPromise(t);if(t&&"function"==typeof t[l.iterator])return o.subscribeToIterable(t);var e=c.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"../symbol/iterator":276,"../symbol/observable":277,"./isArrayLike":289,"./isObject":295,"./isPromise":297,"./subscribeToArray":303,"./subscribeToIterable":304,"./subscribeToObservable":305,"./subscribeToPromise":306}],303:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeToArray=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}},{}],304:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/iterator");r.subscribeToIterable=function(t){return function(e){for(var r=t[n.iterator]();;){var i=void 0;try{i=r.next()}catch(t){return e.error(t),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e}}},{"../symbol/iterator":276}],305:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/observable");r.subscribeToObservable=function(t){return function(e){var r=t[n.observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}}},{"../symbol/observable":277}],306:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./hostReportError");r.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,n.hostReportError),e}}},{"./hostReportError":286}],307:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../InnerSubscriber"),i=t("./subscribeTo"),o=t("../Observable");r.subscribeToResult=function(t,e,r,s,a){if(void 0===a&&(a=new n.InnerSubscriber(t,r,s)),!a.closed)return e instanceof o.Observable?e.subscribe(a):i.subscribeTo(e)(a)}},{"../InnerSubscriber":113,"../Observable":115,"./subscribeTo":302}],308:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber"),i=t("../symbol/rxSubscriber"),o=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(o.empty)}},{"../Observer":116,"../Subscriber":122,"../symbol/rxSubscriber":278}],309:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../internal/operators/audit");r.audit=n.audit;var i=t("../internal/operators/auditTime");r.auditTime=i.auditTime;var o=t("../internal/operators/buffer");r.buffer=o.buffer;var s=t("../internal/operators/bufferCount");r.bufferCount=s.bufferCount;var a=t("../internal/operators/bufferTime");r.bufferTime=a.bufferTime;var u=t("../internal/operators/bufferToggle");r.bufferToggle=u.bufferToggle;var c=t("../internal/operators/bufferWhen");r.bufferWhen=c.bufferWhen;var l=t("../internal/operators/catchError");r.catchError=l.catchError;var f=t("../internal/operators/combineAll");r.combineAll=f.combineAll;var p=t("../internal/operators/combineLatest");r.combineLatest=p.combineLatest;var h=t("../internal/operators/concat");r.concat=h.concat;var d=t("../internal/operators/concatAll");r.concatAll=d.concatAll;var b=t("../internal/operators/concatMap");r.concatMap=b.concatMap;var y=t("../internal/operators/concatMapTo");r.concatMapTo=y.concatMapTo;var v=t("../internal/operators/count");r.count=v.count;var m=t("../internal/operators/debounce");r.debounce=m.debounce;var g=t("../internal/operators/debounceTime");r.debounceTime=g.debounceTime;var _=t("../internal/operators/defaultIfEmpty");r.defaultIfEmpty=_.defaultIfEmpty;var w=t("../internal/operators/delay");r.delay=w.delay;var E=t("../internal/operators/delayWhen");r.delayWhen=E.delayWhen;var O=t("../internal/operators/dematerialize");r.dematerialize=O.dematerialize;var S=t("../internal/operators/distinct");r.distinct=S.distinct;var x=t("../internal/operators/distinctUntilChanged");r.distinctUntilChanged=x.distinctUntilChanged;var A=t("../internal/operators/distinctUntilKeyChanged");r.distinctUntilKeyChanged=A.distinctUntilKeyChanged;var P=t("../internal/operators/elementAt");r.elementAt=P.elementAt;var T=t("../internal/operators/endWith");r.endWith=T.endWith;var I=t("../internal/operators/every");r.every=I.every;var R=t("../internal/operators/exhaust");r.exhaust=R.exhaust;var j=t("../internal/operators/exhaustMap");r.exhaustMap=j.exhaustMap;var N=t("../internal/operators/expand");r.expand=N.expand;var k=t("../internal/operators/filter");r.filter=k.filter;var C=t("../internal/operators/finalize");r.finalize=C.finalize;var M=t("../internal/operators/find");r.find=M.find;var L=t("../internal/operators/findIndex");r.findIndex=L.findIndex;var D=t("../internal/operators/first");r.first=D.first;var U=t("../internal/operators/groupBy");r.groupBy=U.groupBy;var B=t("../internal/operators/ignoreElements");r.ignoreElements=B.ignoreElements;var F=t("../internal/operators/isEmpty");r.isEmpty=F.isEmpty;var V=t("../internal/operators/last");r.last=V.last;var H=t("../internal/operators/map");r.map=H.map;var K=t("../internal/operators/mapTo");r.mapTo=K.mapTo;var G=t("../internal/operators/materialize");r.materialize=G.materialize;var q=t("../internal/operators/max");r.max=q.max;var z=t("../internal/operators/merge");r.merge=z.merge;var W=t("../internal/operators/mergeAll");r.mergeAll=W.mergeAll;var Y=t("../internal/operators/mergeMap");r.mergeMap=Y.mergeMap,r.flatMap=Y.flatMap;var J=t("../internal/operators/mergeMapTo");r.mergeMapTo=J.mergeMapTo;var X=t("../internal/operators/mergeScan");r.mergeScan=X.mergeScan;var $=t("../internal/operators/min");r.min=$.min;var Q=t("../internal/operators/multicast");r.multicast=Q.multicast;var Z=t("../internal/operators/observeOn");r.observeOn=Z.observeOn;var tt=t("../internal/operators/onErrorResumeNext");r.onErrorResumeNext=tt.onErrorResumeNext;var et=t("../internal/operators/pairwise");r.pairwise=et.pairwise;var rt=t("../internal/operators/partition");r.partition=rt.partition;var nt=t("../internal/operators/pluck");r.pluck=nt.pluck;var it=t("../internal/operators/publish");r.publish=it.publish;var ot=t("../internal/operators/publishBehavior");r.publishBehavior=ot.publishBehavior;var st=t("../internal/operators/publishLast");r.publishLast=st.publishLast;var at=t("../internal/operators/publishReplay");r.publishReplay=at.publishReplay;var ut=t("../internal/operators/race");r.race=ut.race;var ct=t("../internal/operators/reduce");r.reduce=ct.reduce;var lt=t("../internal/operators/repeat");r.repeat=lt.repeat;var ft=t("../internal/operators/repeatWhen");r.repeatWhen=ft.repeatWhen;var pt=t("../internal/operators/retry");r.retry=pt.retry;var ht=t("../internal/operators/retryWhen");r.retryWhen=ht.retryWhen;var dt=t("../internal/operators/refCount");r.refCount=dt.refCount;var bt=t("../internal/operators/sample");r.sample=bt.sample;var yt=t("../internal/operators/sampleTime");r.sampleTime=yt.sampleTime;var vt=t("../internal/operators/scan");r.scan=vt.scan;var mt=t("../internal/operators/sequenceEqual");r.sequenceEqual=mt.sequenceEqual;var gt=t("../internal/operators/share");r.share=gt.share;var _t=t("../internal/operators/shareReplay");r.shareReplay=_t.shareReplay;var wt=t("../internal/operators/single");r.single=wt.single;var Et=t("../internal/operators/skip");r.skip=Et.skip;var Ot=t("../internal/operators/skipLast");r.skipLast=Ot.skipLast;var St=t("../internal/operators/skipUntil");r.skipUntil=St.skipUntil;var xt=t("../internal/operators/skipWhile");r.skipWhile=xt.skipWhile;var At=t("../internal/operators/startWith");r.startWith=At.startWith;var Pt=t("../internal/operators/subscribeOn");r.subscribeOn=Pt.subscribeOn;var Tt=t("../internal/operators/switchAll");r.switchAll=Tt.switchAll;var It=t("../internal/operators/switchMap");r.switchMap=It.switchMap;var Rt=t("../internal/operators/switchMapTo");r.switchMapTo=Rt.switchMapTo;var jt=t("../internal/operators/take");r.take=jt.take;var Nt=t("../internal/operators/takeLast");r.takeLast=Nt.takeLast;var kt=t("../internal/operators/takeUntil");r.takeUntil=kt.takeUntil;var Ct=t("../internal/operators/takeWhile");r.takeWhile=Ct.takeWhile;var Mt=t("../internal/operators/tap");r.tap=Mt.tap;var Lt=t("../internal/operators/throttle");r.throttle=Lt.throttle;var Dt=t("../internal/operators/throttleTime");r.throttleTime=Dt.throttleTime;var Ut=t("../internal/operators/throwIfEmpty");r.throwIfEmpty=Ut.throwIfEmpty;var Bt=t("../internal/operators/timeInterval");r.timeInterval=Bt.timeInterval;var Ft=t("../internal/operators/timeout");r.timeout=Ft.timeout;var Vt=t("../internal/operators/timeoutWith");r.timeoutWith=Vt.timeoutWith;var Ht=t("../internal/operators/timestamp");r.timestamp=Ht.timestamp;var Kt=t("../internal/operators/toArray");r.toArray=Kt.toArray;var Gt=t("../internal/operators/window");r.window=Gt.window;var qt=t("../internal/operators/windowCount");r.windowCount=qt.windowCount;var zt=t("../internal/operators/windowTime");r.windowTime=zt.windowTime;var Wt=t("../internal/operators/windowToggle");r.windowToggle=Wt.windowToggle;var Yt=t("../internal/operators/windowWhen");r.windowWhen=Yt.windowWhen;var Jt=t("../internal/operators/withLatestFrom");r.withLatestFrom=Jt.withLatestFrom;var Xt=t("../internal/operators/zip");r.zip=Xt.zip;var $t=t("../internal/operators/zipAll");r.zipAll=$t.zipAll},{"../internal/operators/audit":154,"../internal/operators/auditTime":155,"../internal/operators/buffer":156,"../internal/operators/bufferCount":157,"../internal/operators/bufferTime":158,"../internal/operators/bufferToggle":159,"../internal/operators/bufferWhen":160,"../internal/operators/catchError":161,"../internal/operators/combineAll":162,"../internal/operators/combineLatest":163,"../internal/operators/concat":164,"../internal/operators/concatAll":165,"../internal/operators/concatMap":166,"../internal/operators/concatMapTo":167,"../internal/operators/count":168,"../internal/operators/debounce":169,"../internal/operators/debounceTime":170,"../internal/operators/defaultIfEmpty":171,"../internal/operators/delay":172,"../internal/operators/delayWhen":173,"../internal/operators/dematerialize":174,"../internal/operators/distinct":175,"../internal/operators/distinctUntilChanged":176,"../internal/operators/distinctUntilKeyChanged":177,"../internal/operators/elementAt":178,"../internal/operators/endWith":179,"../internal/operators/every":180,"../internal/operators/exhaust":181,"../internal/operators/exhaustMap":182,"../internal/operators/expand":183,"../internal/operators/filter":184,"../internal/operators/finalize":185,"../internal/operators/find":186,"../internal/operators/findIndex":187,"../internal/operators/first":188,"../internal/operators/groupBy":189,"../internal/operators/ignoreElements":190,"../internal/operators/isEmpty":191,"../internal/operators/last":192,"../internal/operators/map":193,"../internal/operators/mapTo":194,"../internal/operators/materialize":195,"../internal/operators/max":196,"../internal/operators/merge":197,"../internal/operators/mergeAll":198,"../internal/operators/mergeMap":199,"../internal/operators/mergeMapTo":200,"../internal/operators/mergeScan":201,"../internal/operators/min":202,"../internal/operators/multicast":203,"../internal/operators/observeOn":204,"../internal/operators/onErrorResumeNext":205,"../internal/operators/pairwise":206,"../internal/operators/partition":207,"../internal/operators/pluck":208,"../internal/operators/publish":209,"../internal/operators/publishBehavior":210,"../internal/operators/publishLast":211,"../internal/operators/publishReplay":212,"../internal/operators/race":213,"../internal/operators/reduce":214,"../internal/operators/refCount":215,"../internal/operators/repeat":216,"../internal/operators/repeatWhen":217,"../internal/operators/retry":218,"../internal/operators/retryWhen":219,"../internal/operators/sample":220,"../internal/operators/sampleTime":221,"../internal/operators/scan":222,"../internal/operators/sequenceEqual":223,"../internal/operators/share":224,"../internal/operators/shareReplay":225,"../internal/operators/single":226,"../internal/operators/skip":227,"../internal/operators/skipLast":228,"../internal/operators/skipUntil":229,"../internal/operators/skipWhile":230,"../internal/operators/startWith":231,"../internal/operators/subscribeOn":232,"../internal/operators/switchAll":233,"../internal/operators/switchMap":234,"../internal/operators/switchMapTo":235,"../internal/operators/take":236,"../internal/operators/takeLast":237,"../internal/operators/takeUntil":238,"../internal/operators/takeWhile":239,"../internal/operators/tap":240,"../internal/operators/throttle":241,"../internal/operators/throttleTime":242,"../internal/operators/throwIfEmpty":243,"../internal/operators/timeInterval":244,"../internal/operators/timeout":245,"../internal/operators/timeoutWith":246,"../internal/operators/timestamp":247,"../internal/operators/toArray":248,"../internal/operators/window":249,"../internal/operators/windowCount":250,"../internal/operators/windowTime":251,"../internal/operators/windowToggle":252,"../internal/operators/windowWhen":253,"../internal/operators/withLatestFrom":254,"../internal/operators/zip":255,"../internal/operators/zipAll":256}],310:[function(t,e,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=t("buffer"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:15}],311:[function(t,e,r){var n=t("safe-buffer").Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),l=0;l<c;l++)r[u+l]=t[a+l];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},{"safe-buffer":310}],312:[function(t,e,r){(r=e.exports=function(t){t=t.toLowerCase();var e=r[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e}).sha=t("./sha"),r.sha1=t("./sha1"),r.sha224=t("./sha224"),r.sha256=t("./sha256"),r.sha384=t("./sha384"),r.sha512=t("./sha512")},{"./sha":313,"./sha1":314,"./sha224":315,"./sha256":316,"./sha384":317,"./sha512":318}],313:[function(t,e,r){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var p=0;p<80;++p){var h=~~(p/20),d=0|((e=n)<<5|e>>>27)+l(h,i,o,a)+u+r[p]+s[h];u=a,a=o,o=c(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=u},{"./hash":311,inherits:43,"safe-buffer":310}],314:[function(t,e,r){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function f(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,p=0;p<16;++p)r[p]=t.readInt32BE(4*p);for(;p<80;++p)r[p]=(e=r[p-3]^r[p-8]^r[p-14]^r[p-16])<<1|e>>>31;for(var h=0;h<80;++h){var d=~~(h/20),b=c(n)+f(d,i,o,a)+u+r[h]+s[d]|0;u=a,a=o,o=l(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=u},{"./hash":311,inherits:43,"safe-buffer":310}],315:[function(t,e,r){var n=t("inherits"),i=t("./sha256"),o=t("./hash"),s=t("safe-buffer").Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},e.exports=u},{"./hash":311,"./sha256":316,inherits:43,"safe-buffer":310}],316:[function(t,e,r){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function p(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function h(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0|this._f,b=0|this._g,y=0|this._h,v=0;v<16;++v)r[v]=t.readInt32BE(4*v);for(;v<64;++v)r[v]=0|(((e=r[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[v-7]+h(r[v-15])+r[v-16];for(var m=0;m<64;++m){var g=y+p(u)+c(u,d,b)+s[m]+r[m]|0,_=f(n)+l(n,i,o)|0;y=b,b=d,d=u,u=a+g|0,a=o,o=i,i=n,n=g+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=d+this._f|0,this._g=b+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},e.exports=u},{"./hash":311,inherits:43,"safe-buffer":310}],317:[function(t,e,r){var n=t("inherits"),i=t("./sha512"),o=t("./hash"),s=t("safe-buffer").Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=u},{"./hash":311,"./sha512":318,inherits:43,"safe-buffer":310}],318:[function(t,e,r){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function p(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function h(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function b(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,m=0|this._gh,g=0|this._hh,_=0|this._al,w=0|this._bl,E=0|this._cl,O=0|this._dl,S=0|this._el,x=0|this._fl,A=0|this._gl,P=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],R=e[T-30+1],j=h(I,R),N=d(R,I),k=b(I=e[T-4],R=e[T-4+1]),C=y(R,I),M=e[T-14],L=e[T-14+1],D=e[T-32],U=e[T-32+1],B=N+L|0,F=j+M+v(B,N)|0;F=(F=F+k+v(B=B+C|0,C)|0)+D+v(B=B+U|0,U)|0,e[T]=F,e[T+1]=B}for(var V=0;V<160;V+=2){F=e[V],B=e[V+1];var H=l(r,n,i),K=l(_,w,E),G=f(r,_),q=f(_,r),z=p(a,S),W=p(S,a),Y=s[V],J=s[V+1],X=c(a,u,m),$=c(S,x,A),Q=P+W|0,Z=g+z+v(Q,P)|0;Z=(Z=(Z=Z+X+v(Q=Q+$|0,$)|0)+Y+v(Q=Q+J|0,J)|0)+F+v(Q=Q+B|0,B)|0;var tt=q+K|0,et=G+H+v(tt,q)|0;g=m,P=A,m=u,A=x,u=a,x=S,a=o+Z+v(S=O+Q|0,O)|0,o=i,O=E,i=n,E=w,n=r,w=_,r=Z+et+v(_=Q+tt|0,Q)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+O|0,this._el=this._el+S|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+P|0,this._ah=this._ah+r+v(this._al,_)|0,this._bh=this._bh+n+v(this._bl,w)|0,this._ch=this._ch+i+v(this._cl,E)|0,this._dh=this._dh+o+v(this._dl,O)|0,this._eh=this._eh+a+v(this._el,S)|0,this._fh=this._fh+u+v(this._fl,x)|0,this._gh=this._gh+m+v(this._gl,A)|0,this._hh=this._hh+g+v(this._hl,P)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=u},{"./hash":311,inherits:43,"safe-buffer":310}],319:[function(t,e,r){e.exports=i;var n=t("events").EventEmitter;function i(){n.call(this)}t("inherits")(i,n),i.Readable=t("readable-stream/lib/_stream_readable.js"),i.Writable=t("readable-stream/lib/_stream_writable.js"),i.Duplex=t("readable-stream/lib/_stream_duplex.js"),i.Transform=t("readable-stream/lib/_stream_transform.js"),i.PassThrough=t("readable-stream/lib/_stream_passthrough.js"),i.finished=t("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=t("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},{events:23,inherits:43,"readable-stream/lib/_stream_duplex.js":321,"readable-stream/lib/_stream_passthrough.js":322,"readable-stream/lib/_stream_readable.js":323,"readable-stream/lib/_stream_transform.js":324,"readable-stream/lib/_stream_writable.js":325,"readable-stream/lib/internal/streams/end-of-stream.js":329,"readable-stream/lib/internal/streams/pipeline.js":331}],320:[function(t,e,r){arguments[4][26][0].apply(r,arguments)},{dup:26}],321:[function(t,e,r){arguments[4][27][0].apply(r,arguments)},{"./_stream_readable":323,"./_stream_writable":325,_process:104,dup:27,inherits:43}],322:[function(t,e,r){arguments[4][28][0].apply(r,arguments)},{"./_stream_transform":324,dup:28,inherits:43}],323:[function(t,e,r){arguments[4][29][0].apply(r,arguments)},{"../errors":320,"./_stream_duplex":321,"./internal/streams/async_iterator":326,"./internal/streams/buffer_list":327,"./internal/streams/destroy":328,"./internal/streams/from":330,"./internal/streams/state":332,"./internal/streams/stream":333,_process:104,buffer:15,dup:29,events:23,inherits:43,"string_decoder/":353,util:14}],324:[function(t,e,r){arguments[4][30][0].apply(r,arguments)},{"../errors":320,"./_stream_duplex":321,dup:30,inherits:43}],325:[function(t,e,r){arguments[4][31][0].apply(r,arguments)},{"../errors":320,"./_stream_duplex":321,"./internal/streams/destroy":328,"./internal/streams/state":332,"./internal/streams/stream":333,_process:104,buffer:15,dup:31,inherits:43,"util-deprecate":357}],326:[function(t,e,r){arguments[4][32][0].apply(r,arguments)},{"./end-of-stream":329,_process:104,dup:32}],327:[function(t,e,r){arguments[4][33][0].apply(r,arguments)},{buffer:15,dup:33,util:14}],328:[function(t,e,r){arguments[4][34][0].apply(r,arguments)},{_process:104,dup:34}],329:[function(t,e,r){arguments[4][35][0].apply(r,arguments)},{"../../../errors":320,dup:35}],330:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{dup:36}],331:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{"../../../errors":320,"./end-of-stream":329,dup:37}],332:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{"../../../errors":320,dup:38}],333:[function(t,e,r){arguments[4][39][0].apply(r,arguments)},{dup:39,events:23}],334:[function(t,e,r){(function(e){(function(){var n=t("./lib/request"),i=t("./lib/response"),o=t("xtend"),s=t("builtin-status-codes"),a=t("url"),u=r;u.request=function(t,r){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new n(t);return r&&f.on("response",r),f},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":336,"./lib/response":337,"builtin-status-codes":19,url:355,xtend:364}],335:[function(t,e,r){(function(t){(function(){var e;function n(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){e=null}}else e=null;return e}function i(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function o(t){return"function"==typeof t}r.fetch=o(t.fetch)&&o(t.ReadableStream),r.writableStream=o(t.WritableStream),r.abortController=o(t.AbortController),r.arraybuffer=r.fetch||i("arraybuffer"),r.msstream=!r.fetch&&i("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),e=null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],336:[function(t,e,r){(function(r,n,i){(function(){var o=t("./capability"),s=t("inherits"),a=t("./response"),u=t("readable-stream"),c=a.IncomingMessage,l=a.readyStates;var f=e.exports=function(t){var e,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+i.from(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var n=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)n=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}r._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":"text"}(e,n),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};s(f,u.Writable),f.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:t,value:e})},f.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},f.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},f.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&0!==e.timeout&&t.setTimeout(e.timeout);var i=t._headers,s=null;"GET"!==e.method&&"HEAD"!==e.method&&(s=new Blob(t._body,{type:(i["content-type"]||{}).value||""}));var a=[];if(Object.keys(i).forEach((function(t){var e=i[t].name,r=i[t].value;Array.isArray(r)?r.forEach((function(t){a.push([e,t])})):a.push([e,r])})),"fetch"===t._mode){var u=null;if(o.abortController){var c=new AbortController;u=c.signal,t._fetchAbortController=c,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=n.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}n.fetch(t._opts.url,{method:t._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:u}).then((function(e){t._fetchResponse=e,t._resetTimers(!1),t._connect()}),(function(e){t._resetTimers(!0),t._destroyed||t.emit("error",e)}))}else{var f=t._xhr=new n.XMLHttpRequest;try{f.open(t._opts.method,t._opts.url,!0)}catch(e){return void r.nextTick((function(){t.emit("error",e)}))}"responseType"in f&&(f.responseType=t._mode),"withCredentials"in f&&(f.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(f.timeout=e.requestTimeout,f.ontimeout=function(){t.emit("requestTimeout")}),a.forEach((function(t){f.setRequestHeader(t[0],t[1])})),t._response=null,f.onreadystatechange=function(){switch(f.readyState){case l.LOADING:case l.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(f.onprogress=function(){t._onXHRProgress()}),f.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{f.send(s)}catch(e){return void r.nextTick((function(){t.emit("error",e)}))}}}},f.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))},f.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},f.prototype._write=function(t,e,r){this._body.push(t),r()},f.prototype._resetTimers=function(t){var e=this;n.clearTimeout(e._socketTimer),e._socketTimer=null,t?(n.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=n.setTimeout((function(){e.emit("timeout")}),e._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t)},f.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),u.Writable.prototype.end.call(this,t,e,r)},f.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":335,"./response":337,_process:104,buffer:15,inherits:43,"readable-stream":352}],337:[function(t,e,r){(function(e,n,i){(function(){var o=t("./capability"),s=t("inherits"),a=t("readable-stream"),u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=r.IncomingMessage=function(t,r,n,s){var u=this;if(a.Readable.call(u),u._mode=n,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===n){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach((function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)})),o.writableStream){var c=new WritableStream({write:function(t){return s(!1),new Promise((function(e,r){u._destroyed?r():u.push(i.from(t))?e():u._resumeFetch=e}))},close:function(){s(!0),u._destroyed||u.push(null)},abort:function(t){s(!0),u._destroyed||u.emit("error",t)}});try{return void r.body.pipeTo(c).catch((function(t){s(!0),u._destroyed||u.emit("error",t)}))}catch(t){}}var l=r.body.getReader();!function t(){l.read().then((function(e){u._destroyed||(s(e.done),e.done?u.push(null):(u.push(i.from(e.value)),t()))})).catch((function(t){s(!0),u._destroyed||u.emit("error",t)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(e[2])):void 0!==u.headers[r]?u.headers[r]+=", "+e[2]:u.headers[r]=e[2],u.rawHeaders.push(e[1],e[2])}})),u._charset="x-user-defined",!o.overrideMimeType){var f=u.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(c,a.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,o=null;switch(e._mode){case"text":if((o=r.responseText).length>e._pos){var s=o.substr(e._pos);if("x-user-defined"===e._charset){for(var a=i.alloc(s.length),c=0;c<s.length;c++)a[c]=255&s.charCodeAt(c);e.push(a)}else e.push(s,e._charset);e._pos=o.length}break;case"arraybuffer":if(r.readyState!==u.DONE||!r.response)break;o=r.response,e.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=r.response,r.readyState!==u.LOADING||!o)break;e.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=r.response,r.readyState!==u.LOADING)break;var l=new n.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(i.from(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){t(!0),e.push(null)},l.readAsArrayBuffer(o)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&(t(!0),e.push(null))}}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":335,_process:104,buffer:15,inherits:43,"readable-stream":352}],338:[function(t,e,r){arguments[4][26][0].apply(r,arguments)},{dup:26}],339:[function(t,e,r){arguments[4][27][0].apply(r,arguments)},{"./_stream_readable":341,"./_stream_writable":343,_process:104,dup:27,inherits:43}],340:[function(t,e,r){arguments[4][28][0].apply(r,arguments)},{"./_stream_transform":342,dup:28,inherits:43}],341:[function(t,e,r){arguments[4][29][0].apply(r,arguments)},{"../errors":338,"./_stream_duplex":339,"./internal/streams/async_iterator":344,"./internal/streams/buffer_list":345,"./internal/streams/destroy":346,"./internal/streams/from":348,"./internal/streams/state":350,"./internal/streams/stream":351,_process:104,buffer:15,dup:29,events:23,inherits:43,"string_decoder/":353,util:14}],342:[function(t,e,r){arguments[4][30][0].apply(r,arguments)},{"../errors":338,"./_stream_duplex":339,dup:30,inherits:43}],343:[function(t,e,r){arguments[4][31][0].apply(r,arguments)},{"../errors":338,"./_stream_duplex":339,"./internal/streams/destroy":346,"./internal/streams/state":350,"./internal/streams/stream":351,_process:104,buffer:15,dup:31,inherits:43,"util-deprecate":357}],344:[function(t,e,r){arguments[4][32][0].apply(r,arguments)},{"./end-of-stream":347,_process:104,dup:32}],345:[function(t,e,r){arguments[4][33][0].apply(r,arguments)},{buffer:15,dup:33,util:14}],346:[function(t,e,r){arguments[4][34][0].apply(r,arguments)},{_process:104,dup:34}],347:[function(t,e,r){arguments[4][35][0].apply(r,arguments)},{"../../../errors":338,dup:35}],348:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{dup:36}],349:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{"../../../errors":338,"./end-of-stream":347,dup:37}],350:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{"../../../errors":338,dup:38}],351:[function(t,e,r){arguments[4][39][0].apply(r,arguments)},{dup:39,events:23}],352:[function(t,e,r){arguments[4][40][0].apply(r,arguments)},{"./lib/_stream_duplex.js":339,"./lib/_stream_passthrough.js":340,"./lib/_stream_readable.js":341,"./lib/_stream_transform.js":342,"./lib/_stream_writable.js":343,"./lib/internal/streams/end-of-stream.js":347,"./lib/internal/streams/pipeline.js":349,dup:40}],353:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}r.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":310}],354:[function(t,e,r){(function(t){(function(){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r,n,i,o,s,a,u,c,l,f,p,h,d,b,y,v,m,g,_,w,E,O,S;!function(r){var n="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:{};function i(t,e){return t!==n&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(r,n){return t[r]=e?e(r,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(t){r(i(n,i(t)))})):"object"==typeof e&&"object"==typeof e.exports?r(i(n,i(e.exports))):r(i(n))}((function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};r=function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},o=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},s=function(t,e){return function(r,n){e(r,n,t)}},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},c=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},S=function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]},l=function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t},d=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},b=function(t){return this instanceof b?(this.v=t,this):new b(t)},y=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}},v=function(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}},m=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=f(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}},g=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},w=function(t){return t&&t.__esModule?t:{default:t}},E=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},O=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r},t("__extends",r),t("__assign",n),t("__rest",i),t("__decorate",o),t("__param",s),t("__metadata",a),t("__awaiter",u),t("__generator",c),t("__exportStar",l),t("__createBinding",S),t("__values",f),t("__read",p),t("__spread",h),t("__spreadArrays",d),t("__await",b),t("__asyncGenerator",y),t("__asyncDelegator",v),t("__asyncValues",m),t("__makeTemplateObject",g),t("__importStar",_),t("__importDefault",w),t("__classPrivateFieldGet",E),t("__classPrivateFieldSet",O)}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],355:[function(t,e,r){"use strict";var n=t("punycode"),i=t("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=g,r.resolve=function(t,e){return g(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},r.format=function(t){i.isString(t)&&(t=g(t));return t instanceof o?t.format():o.prototype.format.call(t)},r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=t("querystring");function g(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var g=t=c.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var _=u.exec(g);if(_)return this.path=g,this.href=g,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(g);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,g=g.substr(w.length)}if(r||w||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===g.substr(0,2);!O||w&&y[w]||(g=g.substr(2),this.slashes=!0)}if(!y[w]&&(O||w&&!v[w])){for(var S,x,A=-1,P=0;P<p.length;P++){-1!==(T=g.indexOf(p[P]))&&(-1===A||T<A)&&(A=T)}-1!==(x=-1===A?g.lastIndexOf("@"):g.lastIndexOf("@",A))&&(S=g.slice(0,x),g=g.slice(x+1),this.auth=decodeURIComponent(S)),A=-1;for(P=0;P<f.length;P++){var T;-1!==(T=g.indexOf(f[P]))&&(-1===A||T<A)&&(A=T)}-1===A&&(A=g.length),this.host=g.slice(0,A),g=g.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var R=this.hostname.split(/\./),j=(P=0,R.length);P<j;P++){var N=R[P];if(N&&!N.match(h)){for(var k="",C=0,M=N.length;C<M;C++)N.charCodeAt(C)>127?k+="x":k+=N[C];if(!k.match(h)){var L=R.slice(0,P),D=R.slice(P+1),U=N.match(d);U&&(L.push(U[1]),D.unshift(U[2])),D.length&&(g="/"+D.join(".")+g),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!b[E])for(P=0,j=l.length;P<j;P++){var V=l[P];if(-1!==g.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),g=g.split(V).join(H)}}var K=g.indexOf("#");-1!==K&&(this.hash=g.substr(K),g=g.slice(0,K));var G=g.indexOf("?");if(-1!==G?(this.search=g.substr(G),this.query=g.substr(G+1),e&&(this.query=m.parse(this.query)),g=g.slice(0,G)):e&&(this.search="",this.query={}),g&&(this.pathname=g),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var q=this.search||"";this.path=B+q}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var h=f[p];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var b=r.pathname||"",m=r.search||"";r.path=b+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||g||r.host&&t.pathname,E=w,O=r.pathname&&r.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===O[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)r.hostname=r.host=O.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=O.slice(-1)[0],A=(r.host||t.host||O.length>1)&&("."===x||".."===x)||""===x,P=0,T=O.length;T>=0;T--)"."===(x=O[T])?O.splice(T,1):".."===x?(O.splice(T,1),P++):P&&(O.splice(T,1),P--);if(!w&&!E)for(;P--;P)O.unshift("..");!w||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),A&&"/"!==O.join("/").substr(-1)&&O.push("");var I,R=""===O[0]||O[0]&&"/"===O[0].charAt(0);S&&(r.hostname=r.host=R?"":O.length?O.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(w=w||r.host&&O.length)&&!R&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":356,punycode:105,querystring:108}],356:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],357:[function(t,e,r){(function(t){(function(){function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],358:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);r.SecurityError=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);r.InvalidStateError=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);r.NetworkError=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);r.SyntaxError=u},{}],359:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./xml-http-request"));var n=t("./xml-http-request-event-target");r.XMLHttpRequestEventTarget=n.XMLHttpRequestEventTarget},{"./xml-http-request":363,"./xml-http-request-event-target":361}],360:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};r.ProgressEvent=n},{}],361:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e.handleEvent||e)},t.prototype.removeEventListener=function(t,e){if(t=t.toLowerCase(),this.listeners[t]){var r=this.listeners[t].indexOf(e.handleEvent||e);r<0||this.listeners[t].splice(r,1)}},t.prototype.dispatchEvent=function(t){var e=t.type.toLowerCase();if(t.target=this,this.listeners[e])for(var r=0,n=this.listeners[e];r<n.length;r++){n[r].call(this,t)}var i=this["on"+e];return i&&i.call(this,t),!0},t}();r.XMLHttpRequestEventTarget=n},{}],362:[function(t,e,r){(function(e){(function(){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function r(){var e=t.call(this)||this;return e._contentType=null,e._body=null,e._reset(),e}return i(r,t),r.prototype._reset=function(){this._contentType=null,this._body=null},r.prototype._setData=function(t){if(null!=t)if("string"==typeof t)0!==t.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new e(t,"utf-8");else if(e.isBuffer(t))this._body=t;else if(t instanceof ArrayBuffer){for(var r=new e(t.byteLength),n=new Uint8Array(t),i=0;i<t.byteLength;i++)r[i]=n[i];this._body=r}else{if(!(t.buffer&&t.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+t);r=new e(t.byteLength);var o=t.byteOffset;for(n=new Uint8Array(t.buffer),i=0;i<t.byteLength;i++)r[i]=n[i+o];this._body=r}},r.prototype._finalizeHeaders=function(t,e){this._contentType&&!e["content-type"]&&(t["Content-Type"]=this._contentType),this._body&&(t["Content-Length"]=this._body.length.toString())},r.prototype._startUpload=function(t){this._body&&t.write(this._body),t.end()},r}(t("./xml-http-request-event-target").XMLHttpRequestEventTarget);r.XMLHttpRequestUpload=o}).call(this)}).call(this,t("buffer").Buffer)},{"./xml-http-request-event-target":361,buffer:15}],363:[function(t,e,r){(function(e,n){(function(){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(r,"__esModule",{value:!0});var a=t("http"),u=t("https"),c=t("os"),l=t("url"),f=t("./progress-event"),p=t("./errors"),h=t("./xml-http-request-event-target"),d=t("./xml-http-request-upload"),b=t("cookiejar"),y=function(t){function r(n){void 0===n&&(n={});var i=t.call(this)||this;return i.UNSENT=r.UNSENT,i.OPENED=r.OPENED,i.HEADERS_RECEIVED=r.HEADERS_RECEIVED,i.LOADING=r.LOADING,i.DONE=r.DONE,i.onreadystatechange=null,i.readyState=r.UNSENT,i.response=null,i.responseText="",i.responseType="",i.status=0,i.statusText="",i.timeout=0,i.upload=new d.XMLHttpRequestUpload,i.responseUrl="",i.withCredentials=!1,i._method=null,i._url=null,i._sync=!1,i._headers={},i._loweredHeaders={},i._mimeOverride=null,i._request=null,i._response=null,i._responseParts=null,i._responseHeaders=null,i._aborting=null,i._error=null,i._loadedBytes=0,i._totalBytes=0,i._lengthComputable=!1,i._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},i._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},i._privateHeaders={"set-cookie":!0,"set-cookie2":!0},i._userAgent="Mozilla/5.0 ("+c.type()+" "+c.arch()+") node.js/"+e.versions.node+" v8/"+e.versions.v8,i._anonymous=n.anon||!1,i}return o(r,t),r.prototype.open=function(t,e,n,i,o){if(void 0===n&&(n=!0),t=t.toUpperCase(),this._restrictedMethods[t])throw new r.SecurityError("HTTP method "+t+" is not allowed in XHR");var s=this._parseUrl(e,i,o);this.readyState===r.HEADERS_RECEIVED||(this.readyState,r.LOADING),this._method=t,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(r.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},r.prototype.setRequestHeader=function(t,e){if(this.readyState!==r.OPENED)throw new r.InvalidStateError("XHR readyState must be OPENED");var n=t.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+t+'"'):(e=e.toString(),null!=this._loweredHeaders[n]?(t=this._loweredHeaders[n],this._headers[t]=this._headers[t]+", "+e):(this._loweredHeaders[n]=t,this._headers[t]=e))},r.prototype.send=function(t){if(this.readyState!==r.OPENED)throw new r.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new r.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(t);case"http:":case"https:":return this._sendHttp(t);default:throw new r.NetworkError("Unsupported protocol "+this._url.protocol)}},r.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},r.prototype.getResponseHeader=function(t){if(null==this._responseHeaders||null==t)return null;var e=t.toLowerCase();return this._responseHeaders.hasOwnProperty(e)?this._responseHeaders[t.toLowerCase()]:null},r.prototype.getAllResponseHeaders=function(){var t=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(e){return e+": "+t._responseHeaders[e]})).join("\r\n")},r.prototype.overrideMimeType=function(t){if(this.readyState===r.LOADING||this.readyState===r.DONE)throw new r.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=t.toLowerCase()},r.prototype.nodejsSet=function(t){if(this.nodejsHttpAgent=t.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=t.httpsAgent||this.nodejsHttpsAgent,t.hasOwnProperty("baseUrl")){if(null!=t.baseUrl)if(!l.parse(t.baseUrl,!1,!0).protocol)throw new r.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=t.baseUrl}},r.nodejsSet=function(t){r.prototype.nodejsSet(t)},r.prototype._setReadyState=function(t){this.readyState=t,this.dispatchEvent(new f.ProgressEvent("readystatechange"))},r.prototype._sendFile=function(t){throw new Error("Protocol file: not implemented")},r.prototype._sendHttp=function(t){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!t||"GET"!==this._method&&"HEAD"!==this._method?t=t||"":(console.warn("Discarding entity body for "+this._method+" requests"),t=null),this.upload._setData(t),this._finalizeHeaders(),this._sendHxxpRequest()},r.prototype._sendHxxpRequest=function(){var t=this;if(this.withCredentials){var e=r.cookieJar.getCookies(b.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=e}var n="http:"===this._url.protocol?[a,this.nodejsHttpAgent]:[u,this.nodejsHttpsAgent],i=n[0],o=n[1],s=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=s,this.timeout&&s.setTimeout(this.timeout,(function(){return t._onHttpTimeout(s)})),s.on("response",(function(e){return t._onHttpResponse(s,e)})),s.on("error",(function(e){return t._onHttpRequestError(s,e)})),this.upload._startUpload(s),this._request===s&&this._dispatchProgress("loadstart")},r.prototype._finalizeHeaders=function(){this._headers=s({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},r.prototype._onHttpResponse=function(t,e){var n=this;if(this._request===t){if(this.withCredentials&&(e.headers["set-cookie"]||e.headers["set-cookie2"])&&r.cookieJar.setCookies(e.headers["set-cookie"]||e.headers["set-cookie2"]),[301,302,303,307,308].indexOf(e.statusCode)>=0)return this._url=this._parseUrl(e.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=e,this._response.on("data",(function(t){return n._onHttpResponseData(e,t)})),this._response.on("end",(function(){return n._onHttpResponseEnd(e)})),this._response.on("close",(function(){return n._onHttpResponseClose(e)})),this.responseUrl=this._url.href.split("#")[0],this.status=e.statusCode,this.statusText=a.STATUS_CODES[this.status],this._parseResponseHeaders(e);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(r.HEADERS_RECEIVED)}},r.prototype._onHttpResponseData=function(t,e){this._response===t&&(this._responseParts.push(new n(e)),this._loadedBytes+=e.length,this.readyState!==r.LOADING&&this._setReadyState(r.LOADING),this._dispatchProgress("progress"))},r.prototype._onHttpResponseEnd=function(t){this._response===t&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(r.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},r.prototype._onHttpResponseClose=function(t){if(this._response===t){var e=this._request;this._setError(),e.abort(),this._setReadyState(r.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},r.prototype._onHttpTimeout=function(t){this._request===t&&(this._setError(),t.abort(),this._setReadyState(r.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},r.prototype._onHttpRequestError=function(t,e){this._request===t&&(this._setError(),t.abort(),this._setReadyState(r.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},r.prototype._dispatchProgress=function(t){var e=new r.ProgressEvent(t);e.lengthComputable=this._lengthComputable,e.loaded=this._loadedBytes,e.total=this._totalBytes,this.dispatchEvent(e)},r.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},r.prototype._parseUrl=function(t,e,r){var n=null==this.nodejsBaseUrl?t:l.resolve(this.nodejsBaseUrl,t),i=l.parse(n,!1,!0);i.hash=null;var o=(i.auth||"").split(":"),s=o[0],a=o[1];return(s||a||e||r)&&(i.auth=(e||s||"")+":"+(r||a||"")),i},r.prototype._parseResponseHeaders=function(t){for(var e in this._responseHeaders={},t.headers){var r=e.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=t.headers[e])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},r.prototype._parseResponse=function(){var t=n.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(t){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=t);case"arraybuffer":this.responseText=null;for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i<t.length;i++)r[i]=t[i];return void(this.response=e);case"text":default:try{this.responseText=t.toString(this._parseResponseEncoding())}catch(e){this.responseText=t.toString("binary")}this.response=this.responseText}},r.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},r.ProgressEvent=f.ProgressEvent,r.InvalidStateError=p.InvalidStateError,r.NetworkError=p.NetworkError,r.SecurityError=p.SecurityError,r.SyntaxError=p.SyntaxError,r.XMLHttpRequestUpload=d.XMLHttpRequestUpload,r.UNSENT=0,r.OPENED=1,r.HEADERS_RECEIVED=2,r.LOADING=3,r.DONE=4,r.cookieJar=b.CookieJar(),r}(h.XMLHttpRequestEventTarget);r.XMLHttpRequest=y,y.prototype.nodejsHttpAgent=a.globalAgent,y.prototype.nodejsHttpsAgent=u.globalAgent,y.prototype.nodejsBaseUrl=null}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./errors":358,"./progress-event":360,"./xml-http-request-event-target":361,"./xml-http-request-upload":362,_process:104,buffer:15,cookiejar:21,http:334,https:41,os:103,url:355}],364:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},{}],365:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BeaconWallet=r.MissingRequiredScopes=r.BeaconWalletNotInitialized=void 0;const n=t("tslib"),i=t("@taquito/taquito"),{DAppClient:o,PermissionScope:s}=window.beacon;class a{constructor(){this.name="BeaconWalletNotInitialized",this.message="You need to initialize BeaconWallet by calling beaconWallet.requestPermissions first"}}r.BeaconWalletNotInitialized=a;class u{constructor(t){this.requiredScopes=t,this.name="MissingRequiredScopes",this.message=`Required permissions scopes were not granted: ${t.join(",")}`}}r.MissingRequiredScopes=u;r.BeaconWallet=class{constructor(t){this.client=new o(t)}validateRequiredScopesOrFail(t,e){const r=new Set(e);for(const e of t)r.has(e)&&r.delete(e);if(r.size>0)throw new u(Array.from(r))}requestPermissions(t){return n.__awaiter(this,void 0,void 0,(function*(){yield this.client.requestPermissions(t)}))}getPKH(){return n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.client.getActiveAccount();if(!t)throw new a;return t.address}))}mapTransferParamsToWalletParams(t){return n.__awaiter(this,void 0,void 0,(function*(){let e;yield this.client.showPrepare();try{e=yield t()}catch(t){throw yield this.client.hideUI(),t}return this.removeDefaultParams(e,yield i.createTransferOperation(this.formatParameters(e)))}))}mapOriginateParamsToWalletParams(t){return n.__awaiter(this,void 0,void 0,(function*(){let e;yield this.client.showPrepare();try{e=yield t()}catch(t){throw yield this.client.hideUI(),t}return this.removeDefaultParams(e,yield i.createOriginationOperation(this.formatParameters(e)))}))}mapDelegateParamsToWalletParams(t){return n.__awaiter(this,void 0,void 0,(function*(){let e;yield this.client.showPrepare();try{e=yield t()}catch(t){throw yield this.client.hideUI(),t}return this.removeDefaultParams(e,yield i.createSetDelegateOperation(this.formatParameters(e)))}))}formatParameters(t){return t.fee&&(t.fee=t.fee.toString()),t.storageLimit&&(t.storageLimit=t.storageLimit.toString()),t.gasLimit&&(t.gasLimit=t.gasLimit.toString()),t}removeDefaultParams(t,e){return t.fee||delete e.fee,t.storageLimit||delete e.storage_limit,t.gasLimit||delete e.gas_limit,e}sendOperations(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=yield this.client.getActiveAccount();if(!e)throw new a;const r=e.scopes;this.validateRequiredScopesOrFail(r,[s.OPERATION_REQUEST]);const{transactionHash:n}=yield this.client.requestOperation({operationDetails:t});return n}))}disconnect(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.client.destroy()}))}clearActiveAccount(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.client.setActiveAccount()}))}}},{"@taquito/taquito":5,tslib:354}],366:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("@taquito/taquito"),i=t("@taquito/utils"),o=t("./beacon");Object.defineProperty(window,"walletUtils",{value:{TezosToolkit:n.TezosToolkit,BeaconWallet:o.BeaconWallet,validateAddress:i.validateAddress}})},{"./beacon":365,"@taquito/taquito":5,"@taquito/utils":6}]},{},[366]);